(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))l(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function i(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(h){if(h.ep)return;h.ep=!0;const f=i(h);fetch(h.href,f)}})();/**
* @vue/shared v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Uv(o,n){const i=new Set(o.split(","));return l=>i.has(l)}const un={},Sl=[],sr=()=>{},Fx=()=>!1,ef=o=>o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&(o.charCodeAt(2)>122||o.charCodeAt(2)<97),Zv=o=>o.startsWith("onUpdate:"),vi=Object.assign,Wv=(o,n)=>{const i=o.indexOf(n);i>-1&&o.splice(i,1)},Ux=Object.prototype.hasOwnProperty,ge=(o,n)=>Ux.call(o,n),Qt=Array.isArray,Ml=o=>nf(o)==="[object Map]",ly=o=>nf(o)==="[object Set]",oe=o=>typeof o=="function",zn=o=>typeof o=="string",ws=o=>typeof o=="symbol",cn=o=>o!==null&&typeof o=="object",uy=o=>(cn(o)||oe(o))&&oe(o.then)&&oe(o.catch),hy=Object.prototype.toString,nf=o=>hy.call(o),Zx=o=>nf(o).slice(8,-1),cy=o=>nf(o)==="[object Object]",jv=o=>zn(o)&&o!=="NaN"&&o[0]!=="-"&&""+parseInt(o,10)===o,cc=Uv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rf=o=>{const n=Object.create(null);return i=>n[i]||(n[i]=o(i))},Wx=/-(\w)/g,qa=rf(o=>o.replace(Wx,(n,i)=>i?i.toUpperCase():"")),jx=/\B([A-Z])/g,Ka=rf(o=>o.replace(jx,"-$1").toLowerCase()),fy=rf(o=>o.charAt(0).toUpperCase()+o.slice(1)),iv=rf(o=>o?`on${fy(o)}`:""),ys=(o,n)=>!Object.is(o,n),rv=(o,...n)=>{for(let i=0;i<o.length;i++)o[i](...n)},dy=(o,n,i,l=!1)=>{Object.defineProperty(o,n,{configurable:!0,enumerable:!1,writable:l,value:i})},Hx=o=>{const n=parseFloat(o);return isNaN(n)?o:n};let g0;const py=()=>g0||(g0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hv(o){if(Qt(o)){const n={};for(let i=0;i<o.length;i++){const l=o[i],h=zn(l)?Yx(l):Hv(l);if(h)for(const f in h)n[f]=h[f]}return n}else if(zn(o)||cn(o))return o}const Vx=/;(?![^(]*\))/g,qx=/:([^]+)/,Gx=/\/\*[^]*?\*\//g;function Yx(o){const n={};return o.replace(Gx,"").split(Vx).forEach(i=>{if(i){const l=i.split(qx);l.length>1&&(n[l[0].trim()]=l[1].trim())}}),n}function Vv(o){let n="";if(zn(o))n=o;else if(Qt(o))for(let i=0;i<o.length;i++){const l=Vv(o[i]);l&&(n+=l+" ")}else if(cn(o))for(const i in o)o[i]&&(n+=i+" ");return n.trim()}const Jx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xx=Uv(Jx);function _y(o){return!!o||o===""}const gy=o=>!!(o&&o.__v_isRef===!0),Cr=o=>zn(o)?o:o==null?"":Qt(o)||cn(o)&&(o.toString===hy||!oe(o.toString))?gy(o)?Cr(o.value):JSON.stringify(o,my,2):String(o),my=(o,n)=>gy(n)?my(o,n.value):Ml(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[l,h],f)=>(i[ov(l,f)+" =>"]=h,i),{})}:ly(n)?{[`Set(${n.size})`]:[...n.values()].map(i=>ov(i))}:ws(n)?ov(n):cn(n)&&!Qt(n)&&!cy(n)?String(n):n,ov=(o,n="")=>{var i;return ws(o)?`Symbol(${(i=o.description)!=null?i:n})`:o};/**
* @vue/reactivity v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mr;class Kx{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Mr,!n&&Mr&&(this.index=(Mr.scopes||(Mr.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const i=Mr;try{return Mr=this,n()}finally{Mr=i}}}on(){Mr=this}off(){Mr=this.parent}stop(n){if(this._active){let i,l;for(i=0,l=this.effects.length;i<l;i++)this.effects[i].stop();for(i=0,l=this.cleanups.length;i<l;i++)this.cleanups[i]();if(this.scopes)for(i=0,l=this.scopes.length;i<l;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!n){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this._active=!1}}}function Qx(o,n=Mr){n&&n.active&&n.effects.push(o)}function $x(){return Mr}let Ha;class qv{constructor(n,i,l,h){this.fn=n,this.trigger=i,this.scheduler=l,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Qx(this,h)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,bs();for(let n=0;n<this._depsLength;n++){const i=this.deps[n];if(i.computed&&(t1(i.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ls()}return this._dirtyLevel>=4}set dirty(n){this._dirtyLevel=n?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let n=ms,i=Ha;try{return ms=!0,Ha=this,this._runnings++,m0(this),this.fn()}finally{v0(this),this._runnings--,Ha=i,ms=n}}stop(){this.active&&(m0(this),v0(this),this.onStop&&this.onStop(),this.active=!1)}}function t1(o){return o.value}function m0(o){o._trackId++,o._depsLength=0}function v0(o){if(o.deps.length>o._depsLength){for(let n=o._depsLength;n<o.deps.length;n++)vy(o.deps[n],o);o.deps.length=o._depsLength}}function vy(o,n){const i=o.get(n);i!==void 0&&n._trackId!==i&&(o.delete(n),o.size===0&&o.cleanup())}let ms=!0,yv=0;const yy=[];function bs(){yy.push(ms),ms=!1}function Ls(){const o=yy.pop();ms=o===void 0?!0:o}function Gv(){yv++}function Yv(){for(yv--;!yv&&xv.length;)xv.shift()()}function xy(o,n,i){if(n.get(o)!==o._trackId){n.set(o,o._trackId);const l=o.deps[o._depsLength];l!==n?(l&&vy(l,o),o.deps[o._depsLength++]=n):o._depsLength++}}const xv=[];function wy(o,n,i){Gv();for(const l of o.keys()){let h;l._dirtyLevel<n&&(h??(h=o.get(l)===l._trackId))&&(l._shouldSchedule||(l._shouldSchedule=l._dirtyLevel===0),l._dirtyLevel=n),l._shouldSchedule&&(h??(h=o.get(l)===l._trackId))&&(l.trigger(),(!l._runnings||l.allowRecurse)&&l._dirtyLevel!==2&&(l._shouldSchedule=!1,l.scheduler&&xv.push(l.scheduler)))}Yv()}const by=(o,n)=>{const i=new Map;return i.cleanup=o,i.computed=n,i},wv=new WeakMap,Va=Symbol(""),bv=Symbol("");function Ci(o,n,i){if(ms&&Ha){let l=wv.get(o);l||wv.set(o,l=new Map);let h=l.get(i);h||l.set(i,h=by(()=>l.delete(i))),xy(Ha,h)}}function Vo(o,n,i,l,h,f){const p=wv.get(o);if(!p)return;let x=[];if(n==="clear")x=[...p.values()];else if(i==="length"&&Qt(o)){const A=Number(l);p.forEach((C,I)=>{(I==="length"||!ws(I)&&I>=A)&&x.push(C)})}else switch(i!==void 0&&x.push(p.get(i)),n){case"add":Qt(o)?jv(i)&&x.push(p.get("length")):(x.push(p.get(Va)),Ml(o)&&x.push(p.get(bv)));break;case"delete":Qt(o)||(x.push(p.get(Va)),Ml(o)&&x.push(p.get(bv)));break;case"set":Ml(o)&&x.push(p.get(Va));break}Gv();for(const A of x)A&&wy(A,4);Yv()}const e1=Uv("__proto__,__v_isRef,__isVue"),Ly=new Set(Object.getOwnPropertyNames(Symbol).filter(o=>o!=="arguments"&&o!=="caller").map(o=>Symbol[o]).filter(ws)),y0=n1();function n1(){const o={};return["includes","indexOf","lastIndexOf"].forEach(n=>{o[n]=function(...i){const l=Ae(this);for(let f=0,p=this.length;f<p;f++)Ci(l,"get",f+"");const h=l[n](...i);return h===-1||h===!1?l[n](...i.map(Ae)):h}}),["push","pop","shift","unshift","splice"].forEach(n=>{o[n]=function(...i){bs(),Gv();const l=Ae(this)[n].apply(this,i);return Yv(),Ls(),l}}),o}function i1(o){ws(o)||(o=String(o));const n=Ae(this);return Ci(n,"has",o),n.hasOwnProperty(o)}class Py{constructor(n=!1,i=!1){this._isReadonly=n,this._isShallow=i}get(n,i,l){const h=this._isReadonly,f=this._isShallow;if(i==="__v_isReactive")return!h;if(i==="__v_isReadonly")return h;if(i==="__v_isShallow")return f;if(i==="__v_raw")return l===(h?f?g1:Iy:f?Ey:Ty).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(l)?n:void 0;const p=Qt(n);if(!h){if(p&&ge(y0,i))return Reflect.get(y0,i,l);if(i==="hasOwnProperty")return i1}const x=Reflect.get(n,i,l);return(ws(i)?Ly.has(i):e1(i))||(h||Ci(n,"get",i),f)?x:Si(x)?p&&jv(i)?x:x.value:cn(x)?h?Cy(x):sf(x):x}}class Ay extends Py{constructor(n=!1){super(!1,n)}set(n,i,l,h){let f=n[i];if(!this._isShallow){const A=Ga(f);if(!kl(l)&&!Ga(l)&&(f=Ae(f),l=Ae(l)),!Qt(n)&&Si(f)&&!Si(l))return A?!1:(f.value=l,!0)}const p=Qt(n)&&jv(i)?Number(i)<n.length:ge(n,i),x=Reflect.set(n,i,l,h);return n===Ae(h)&&(p?ys(l,f)&&Vo(n,"set",i,l):Vo(n,"add",i,l)),x}deleteProperty(n,i){const l=ge(n,i);n[i];const h=Reflect.deleteProperty(n,i);return h&&l&&Vo(n,"delete",i,void 0),h}has(n,i){const l=Reflect.has(n,i);return(!ws(i)||!Ly.has(i))&&Ci(n,"has",i),l}ownKeys(n){return Ci(n,"iterate",Qt(n)?"length":Va),Reflect.ownKeys(n)}}class r1 extends Py{constructor(n=!1){super(!0,n)}set(n,i){return!0}deleteProperty(n,i){return!0}}const o1=new Ay,s1=new r1,a1=new Ay(!0);const Jv=o=>o,of=o=>Reflect.getPrototypeOf(o);function Mc(o,n,i=!1,l=!1){o=o.__v_raw;const h=Ae(o),f=Ae(n);i||(ys(n,f)&&Ci(h,"get",n),Ci(h,"get",f));const{has:p}=of(h),x=l?Jv:i?Qv:xc;if(p.call(h,n))return x(o.get(n));if(p.call(h,f))return x(o.get(f));o!==h&&o.get(n)}function Oc(o,n=!1){const i=this.__v_raw,l=Ae(i),h=Ae(o);return n||(ys(o,h)&&Ci(l,"has",o),Ci(l,"has",h)),o===h?i.has(o):i.has(o)||i.has(h)}function Bc(o,n=!1){return o=o.__v_raw,!n&&Ci(Ae(o),"iterate",Va),Reflect.get(o,"size",o)}function x0(o,n=!1){!n&&!kl(o)&&!Ga(o)&&(o=Ae(o));const i=Ae(this);return of(i).has.call(i,o)||(i.add(o),Vo(i,"add",o,o)),this}function w0(o,n,i=!1){!i&&!kl(n)&&!Ga(n)&&(n=Ae(n));const l=Ae(this),{has:h,get:f}=of(l);let p=h.call(l,o);p||(o=Ae(o),p=h.call(l,o));const x=f.call(l,o);return l.set(o,n),p?ys(n,x)&&Vo(l,"set",o,n):Vo(l,"add",o,n),this}function b0(o){const n=Ae(this),{has:i,get:l}=of(n);let h=i.call(n,o);h||(o=Ae(o),h=i.call(n,o)),l&&l.call(n,o);const f=n.delete(o);return h&&Vo(n,"delete",o,void 0),f}function L0(){const o=Ae(this),n=o.size!==0,i=o.clear();return n&&Vo(o,"clear",void 0,void 0),i}function Rc(o,n){return function(l,h){const f=this,p=f.__v_raw,x=Ae(p),A=n?Jv:o?Qv:xc;return!o&&Ci(x,"iterate",Va),p.forEach((C,I)=>l.call(h,A(C),A(I),f))}}function kc(o,n,i){return function(...l){const h=this.__v_raw,f=Ae(h),p=Ml(f),x=o==="entries"||o===Symbol.iterator&&p,A=o==="keys"&&p,C=h[o](...l),I=i?Jv:n?Qv:xc;return!n&&Ci(f,"iterate",A?bv:Va),{next(){const{value:O,done:U}=C.next();return U?{value:O,done:U}:{value:x?[I(O[0]),I(O[1])]:I(O),done:U}},[Symbol.iterator](){return this}}}}function fs(o){return function(...n){return o==="delete"?!1:o==="clear"?void 0:this}}function l1(){const o={get(f){return Mc(this,f)},get size(){return Bc(this)},has:Oc,add:x0,set:w0,delete:b0,clear:L0,forEach:Rc(!1,!1)},n={get(f){return Mc(this,f,!1,!0)},get size(){return Bc(this)},has:Oc,add(f){return x0.call(this,f,!0)},set(f,p){return w0.call(this,f,p,!0)},delete:b0,clear:L0,forEach:Rc(!1,!0)},i={get(f){return Mc(this,f,!0)},get size(){return Bc(this,!0)},has(f){return Oc.call(this,f,!0)},add:fs("add"),set:fs("set"),delete:fs("delete"),clear:fs("clear"),forEach:Rc(!0,!1)},l={get(f){return Mc(this,f,!0,!0)},get size(){return Bc(this,!0)},has(f){return Oc.call(this,f,!0)},add:fs("add"),set:fs("set"),delete:fs("delete"),clear:fs("clear"),forEach:Rc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{o[f]=kc(f,!1,!1),i[f]=kc(f,!0,!1),n[f]=kc(f,!1,!0),l[f]=kc(f,!0,!0)}),[o,i,n,l]}const[u1,h1,c1,f1]=l1();function Xv(o,n){const i=n?o?f1:c1:o?h1:u1;return(l,h,f)=>h==="__v_isReactive"?!o:h==="__v_isReadonly"?o:h==="__v_raw"?l:Reflect.get(ge(i,h)&&h in l?i:l,h,f)}const d1={get:Xv(!1,!1)},p1={get:Xv(!1,!0)},_1={get:Xv(!0,!1)};const Ty=new WeakMap,Ey=new WeakMap,Iy=new WeakMap,g1=new WeakMap;function m1(o){switch(o){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function v1(o){return o.__v_skip||!Object.isExtensible(o)?0:m1(Zx(o))}function sf(o){return Ga(o)?o:Kv(o,!1,o1,d1,Ty)}function y1(o){return Kv(o,!1,a1,p1,Ey)}function Cy(o){return Kv(o,!0,s1,_1,Iy)}function Kv(o,n,i,l,h){if(!cn(o)||o.__v_raw&&!(n&&o.__v_isReactive))return o;const f=h.get(o);if(f)return f;const p=v1(o);if(p===0)return o;const x=new Proxy(o,p===2?l:i);return h.set(o,x),x}function fc(o){return Ga(o)?fc(o.__v_raw):!!(o&&o.__v_isReactive)}function Ga(o){return!!(o&&o.__v_isReadonly)}function kl(o){return!!(o&&o.__v_isShallow)}function Sy(o){return o?!!o.__v_raw:!1}function Ae(o){const n=o&&o.__v_raw;return n?Ae(n):o}function x1(o){return Object.isExtensible(o)&&dy(o,"__v_skip",!0),o}const xc=o=>cn(o)?sf(o):o,Qv=o=>cn(o)?Cy(o):o;class My{constructor(n,i,l,h){this.getter=n,this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new qv(()=>n(this._value),()=>Zc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=l}get value(){const n=Ae(this);return(!n._cacheable||n.effect.dirty)&&ys(n._value,n._value=n.effect.run())&&Zc(n,4),Oy(n),n.effect._dirtyLevel>=2&&Zc(n,2),n._value}set value(n){this._setter(n)}get _dirty(){return this.effect.dirty}set _dirty(n){this.effect.dirty=n}}function w1(o,n,i=!1){let l,h;const f=oe(o);return f?(l=o,h=sr):(l=o.get,h=o.set),new My(l,h,f||!h,i)}function Oy(o){var n;ms&&Ha&&(o=Ae(o),xy(Ha,(n=o.dep)!=null?n:o.dep=by(()=>o.dep=void 0,o instanceof My?o:void 0)))}function Zc(o,n=4,i,l){o=Ae(o);const h=o.dep;h&&wy(h,n)}function Si(o){return!!(o&&o.__v_isRef===!0)}function b1(o){return L1(o,!1)}function L1(o,n){return Si(o)?o:new P1(o,n)}class P1{constructor(n,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?n:Ae(n),this._value=i?n:xc(n)}get value(){return Oy(this),this._value}set value(n){const i=this.__v_isShallow||kl(n)||Ga(n);n=i?n:Ae(n),ys(n,this._rawValue)&&(this._rawValue,this._rawValue=n,this._value=i?n:xc(n),Zc(this,4))}}function A1(o){return Si(o)?o.value:o}const T1={get:(o,n,i)=>A1(Reflect.get(o,n,i)),set:(o,n,i,l)=>{const h=o[n];return Si(h)&&!Si(i)?(h.value=i,!0):Reflect.set(o,n,i,l)}};function By(o){return fc(o)?o:new Proxy(o,T1)}/**
* @vue/runtime-core v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vs(o,n,i,l){try{return l?o(...l):o()}catch(h){af(h,n,i)}}function Or(o,n,i,l){if(oe(o)){const h=vs(o,n,i,l);return h&&uy(h)&&h.catch(f=>{af(f,n,i)}),h}if(Qt(o)){const h=[];for(let f=0;f<o.length;f++)h.push(Or(o[f],n,i,l));return h}}function af(o,n,i,l=!0){const h=n?n.vnode:null;if(n){let f=n.parent;const p=n.proxy,x=`https://vuejs.org/error-reference/#runtime-${i}`;for(;f;){const C=f.ec;if(C){for(let I=0;I<C.length;I++)if(C[I](o,p,x)===!1)return}f=f.parent}const A=n.appContext.config.errorHandler;if(A){bs(),vs(A,null,10,[o,p,x]),Ls();return}}E1(o,i,h,l)}function E1(o,n,i,l=!0){console.error(o)}let wc=!1,Lv=!1;const ei=[];let qr=0;const Ol=[];let ds=null,Za=0;const Ry=Promise.resolve();let $v=null;function I1(o){const n=$v||Ry;return o?n.then(this?o.bind(this):o):n}function C1(o){let n=qr+1,i=ei.length;for(;n<i;){const l=n+i>>>1,h=ei[l],f=bc(h);f<o||f===o&&h.pre?n=l+1:i=l}return n}function t0(o){(!ei.length||!ei.includes(o,wc&&o.allowRecurse?qr+1:qr))&&(o.id==null?ei.push(o):ei.splice(C1(o.id),0,o),ky())}function ky(){!wc&&!Lv&&(Lv=!0,$v=Ry.then(Ny))}function S1(o){const n=ei.indexOf(o);n>qr&&ei.splice(n,1)}function M1(o){Qt(o)?Ol.push(...o):(!ds||!ds.includes(o,o.allowRecurse?Za+1:Za))&&Ol.push(o),ky()}function P0(o,n,i=wc?qr+1:0){for(;i<ei.length;i++){const l=ei[i];if(l&&l.pre){if(o&&l.id!==o.uid)continue;ei.splice(i,1),i--,l()}}}function zy(o){if(Ol.length){const n=[...new Set(Ol)].sort((i,l)=>bc(i)-bc(l));if(Ol.length=0,ds){ds.push(...n);return}for(ds=n,Za=0;Za<ds.length;Za++){const i=ds[Za];i.active!==!1&&i()}ds=null,Za=0}}const bc=o=>o.id==null?1/0:o.id,O1=(o,n)=>{const i=bc(o)-bc(n);if(i===0){if(o.pre&&!n.pre)return-1;if(n.pre&&!o.pre)return 1}return i};function Ny(o){Lv=!1,wc=!0,ei.sort(O1);try{for(qr=0;qr<ei.length;qr++){const n=ei[qr];n&&n.active!==!1&&vs(n,n.i,n.i?15:14)}}finally{qr=0,ei.length=0,zy(),wc=!1,$v=null,(ei.length||Ol.length)&&Ny()}}let Gr=null,lf=null;function Gc(o){const n=Gr;return Gr=o,lf=o&&o.type.__scopeId||null,n}function B1(o){lf=o}function R1(){lf=null}function k1(o,n=Gr,i){if(!n||o._n)return o;const l=(...h)=>{l._d&&O0(-1);const f=Gc(n);let p;try{p=o(...h)}finally{Gc(f),l._d&&O0(1)}return p};return l._n=!0,l._c=!0,l._d=!0,l}function Fa(o,n,i,l){const h=o.dirs,f=n&&n.dirs;for(let p=0;p<h.length;p++){const x=h[p];f&&(x.oldValue=f[p].value);let A=x.dir[l];A&&(bs(),Or(A,i,8,[o.el,x,o,n]),Ls())}}function Dy(o,n){o.shapeFlag&6&&o.component?Dy(o.component.subTree,n):o.shapeFlag&128?(o.ssContent.transition=n.clone(o.ssContent),o.ssFallback.transition=n.clone(o.ssFallback)):o.transition=n}const Wc=o=>!!o.type.__asyncLoader,Fy=o=>o.type.__isKeepAlive;function z1(o,n){Uy(o,"a",n)}function N1(o,n){Uy(o,"da",n)}function Uy(o,n,i=mi){const l=o.__wdc||(o.__wdc=()=>{let h=i;for(;h;){if(h.isDeactivated)return;h=h.parent}return o()});if(uf(n,l,i),i){let h=i.parent;for(;h&&h.parent;)Fy(h.parent.vnode)&&D1(l,n,i,h),h=h.parent}}function D1(o,n,i,l){const h=uf(n,o,l,!0);e0(()=>{Wv(l[n],h)},i)}function uf(o,n,i=mi,l=!1){if(i){const h=i[o]||(i[o]=[]),f=n.__weh||(n.__weh=(...p)=>{bs();const x=Tc(i),A=Or(n,i,o,p);return x(),Ls(),A});return l?h.unshift(f):h.push(f),f}}const Go=o=>(n,i=mi)=>{(!ff||o==="sp")&&uf(o,(...l)=>n(...l),i)},F1=Go("bm"),Zy=Go("m"),U1=Go("bu"),Z1=Go("u"),W1=Go("bum"),e0=Go("um"),j1=Go("sp"),H1=Go("rtg"),V1=Go("rtc");function q1(o,n=mi){uf("ec",o,n)}const G1=Symbol.for("v-ndc");function sv(o,n,i,l){let h;const f=i;if(Qt(o)||zn(o)){h=new Array(o.length);for(let p=0,x=o.length;p<x;p++)h[p]=n(o[p],p,void 0,f)}else if(typeof o=="number"){h=new Array(o);for(let p=0;p<o;p++)h[p]=n(p+1,p,void 0,f)}else if(cn(o))if(o[Symbol.iterator])h=Array.from(o,(p,x)=>n(p,x,void 0,f));else{const p=Object.keys(o);h=new Array(p.length);for(let x=0,A=p.length;x<A;x++){const C=p[x];h[x]=n(o[C],C,x,f)}}else h=[];return h}const Pv=o=>o?sx(o)?o0(o):Pv(o.parent):null,dc=vi(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>Pv(o.parent),$root:o=>Pv(o.root),$emit:o=>o.emit,$options:o=>n0(o),$forceUpdate:o=>o.f||(o.f=()=>{o.effect.dirty=!0,t0(o.update)}),$nextTick:o=>o.n||(o.n=I1.bind(o.proxy)),$watch:o=>mw.bind(o)}),av=(o,n)=>o!==un&&!o.__isScriptSetup&&ge(o,n),Y1={get({_:o},n){if(n==="__v_skip")return!0;const{ctx:i,setupState:l,data:h,props:f,accessCache:p,type:x,appContext:A}=o;let C;if(n[0]!=="$"){const tt=p[n];if(tt!==void 0)switch(tt){case 1:return l[n];case 2:return h[n];case 4:return i[n];case 3:return f[n]}else{if(av(l,n))return p[n]=1,l[n];if(h!==un&&ge(h,n))return p[n]=2,h[n];if((C=o.propsOptions[0])&&ge(C,n))return p[n]=3,f[n];if(i!==un&&ge(i,n))return p[n]=4,i[n];Av&&(p[n]=0)}}const I=dc[n];let O,U;if(I)return n==="$attrs"&&Ci(o.attrs,"get",""),I(o);if((O=x.__cssModules)&&(O=O[n]))return O;if(i!==un&&ge(i,n))return p[n]=4,i[n];if(U=A.config.globalProperties,ge(U,n))return U[n]},set({_:o},n,i){const{data:l,setupState:h,ctx:f}=o;return av(h,n)?(h[n]=i,!0):l!==un&&ge(l,n)?(l[n]=i,!0):ge(o.props,n)||n[0]==="$"&&n.slice(1)in o?!1:(f[n]=i,!0)},has({_:{data:o,setupState:n,accessCache:i,ctx:l,appContext:h,propsOptions:f}},p){let x;return!!i[p]||o!==un&&ge(o,p)||av(n,p)||(x=f[0])&&ge(x,p)||ge(l,p)||ge(dc,p)||ge(h.config.globalProperties,p)},defineProperty(o,n,i){return i.get!=null?o._.accessCache[n]=0:ge(i,"value")&&this.set(o,n,i.value,null),Reflect.defineProperty(o,n,i)}};function A0(o){return Qt(o)?o.reduce((n,i)=>(n[i]=null,n),{}):o}let Av=!0;function J1(o){const n=n0(o),i=o.proxy,l=o.ctx;Av=!1,n.beforeCreate&&T0(n.beforeCreate,o,"bc");const{data:h,computed:f,methods:p,watch:x,provide:A,inject:C,created:I,beforeMount:O,mounted:U,beforeUpdate:tt,updated:G,activated:q,deactivated:K,beforeDestroy:nt,beforeUnmount:ct,destroyed:X,unmounted:Ct,render:Dt,renderTracked:Tt,renderTriggered:Ht,errorCaptured:ne,serverPrefetch:ue,expose:Te,inheritAttrs:Fe,components:nn,directives:yi,filters:dn}=n;if(C&&X1(C,l,null),p)for(const Jt in p){const ft=p[Jt];oe(ft)&&(l[Jt]=ft.bind(i))}if(h){const Jt=h.call(i,i);cn(Jt)&&(o.data=sf(Jt))}if(Av=!0,f)for(const Jt in f){const ft=f[Jt],xi=oe(ft)?ft.bind(i,i):oe(ft.get)?ft.get.bind(i,i):sr,kt=!oe(ft)&&oe(ft.set)?ft.set.bind(i):sr,Ft=Uw({get:xi,set:kt});Object.defineProperty(l,Jt,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:Ee=>Ft.value=Ee})}if(x)for(const Jt in x)Wy(x[Jt],l,i,Jt);if(A){const Jt=oe(A)?A.call(i):A;Reflect.ownKeys(Jt).forEach(ft=>{nw(ft,Jt[ft])})}I&&T0(I,o,"c");function pe(Jt,ft){Qt(ft)?ft.forEach(xi=>Jt(xi.bind(i))):ft&&Jt(ft.bind(i))}if(pe(F1,O),pe(Zy,U),pe(U1,tt),pe(Z1,G),pe(z1,q),pe(N1,K),pe(q1,ne),pe(V1,Tt),pe(H1,Ht),pe(W1,ct),pe(e0,Ct),pe(j1,ue),Qt(Te))if(Te.length){const Jt=o.exposed||(o.exposed={});Te.forEach(ft=>{Object.defineProperty(Jt,ft,{get:()=>i[ft],set:xi=>i[ft]=xi})})}else o.exposed||(o.exposed={});Dt&&o.render===sr&&(o.render=Dt),Fe!=null&&(o.inheritAttrs=Fe),nn&&(o.components=nn),yi&&(o.directives=yi)}function X1(o,n,i=sr){Qt(o)&&(o=Tv(o));for(const l in o){const h=o[l];let f;cn(h)?"default"in h?f=jc(h.from||l,h.default,!0):f=jc(h.from||l):f=jc(h),Si(f)?Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:()=>f.value,set:p=>f.value=p}):n[l]=f}}function T0(o,n,i){Or(Qt(o)?o.map(l=>l.bind(n.proxy)):o.bind(n.proxy),n,i)}function Wy(o,n,i,l){const h=l.includes(".")?nx(i,l):()=>i[l];if(zn(o)){const f=n[o];oe(f)&&uv(h,f)}else if(oe(o))uv(h,o.bind(i));else if(cn(o))if(Qt(o))o.forEach(f=>Wy(f,n,i,l));else{const f=oe(o.handler)?o.handler.bind(i):n[o.handler];oe(f)&&uv(h,f,o)}}function n0(o){const n=o.type,{mixins:i,extends:l}=n,{mixins:h,optionsCache:f,config:{optionMergeStrategies:p}}=o.appContext,x=f.get(n);let A;return x?A=x:!h.length&&!i&&!l?A=n:(A={},h.length&&h.forEach(C=>Yc(A,C,p,!0)),Yc(A,n,p)),cn(n)&&f.set(n,A),A}function Yc(o,n,i,l=!1){const{mixins:h,extends:f}=n;f&&Yc(o,f,i,!0),h&&h.forEach(p=>Yc(o,p,i,!0));for(const p in n)if(!(l&&p==="expose")){const x=K1[p]||i&&i[p];o[p]=x?x(o[p],n[p]):n[p]}return o}const K1={data:E0,props:I0,emits:I0,methods:ac,computed:ac,beforeCreate:gi,created:gi,beforeMount:gi,mounted:gi,beforeUpdate:gi,updated:gi,beforeDestroy:gi,beforeUnmount:gi,destroyed:gi,unmounted:gi,activated:gi,deactivated:gi,errorCaptured:gi,serverPrefetch:gi,components:ac,directives:ac,watch:$1,provide:E0,inject:Q1};function E0(o,n){return n?o?function(){return vi(oe(o)?o.call(this,this):o,oe(n)?n.call(this,this):n)}:n:o}function Q1(o,n){return ac(Tv(o),Tv(n))}function Tv(o){if(Qt(o)){const n={};for(let i=0;i<o.length;i++)n[o[i]]=o[i];return n}return o}function gi(o,n){return o?[...new Set([].concat(o,n))]:n}function ac(o,n){return o?vi(Object.create(null),o,n):n}function I0(o,n){return o?Qt(o)&&Qt(n)?[...new Set([...o,...n])]:vi(Object.create(null),A0(o),A0(n??{})):n}function $1(o,n){if(!o)return n;if(!n)return o;const i=vi(Object.create(null),o);for(const l in n)i[l]=gi(o[l],n[l]);return i}function jy(){return{app:null,config:{isNativeTag:Fx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tw=0;function ew(o,n){return function(l,h=null){oe(l)||(l=vi({},l)),h!=null&&!cn(h)&&(h=null);const f=jy(),p=new WeakSet;let x=!1;const A=f.app={_uid:tw++,_component:l,_props:h,_container:null,_context:f,_instance:null,version:Zw,get config(){return f.config},set config(C){},use(C,...I){return p.has(C)||(C&&oe(C.install)?(p.add(C),C.install(A,...I)):oe(C)&&(p.add(C),C(A,...I))),A},mixin(C){return f.mixins.includes(C)||f.mixins.push(C),A},component(C,I){return I?(f.components[C]=I,A):f.components[C]},directive(C,I){return I?(f.directives[C]=I,A):f.directives[C]},mount(C,I,O){if(!x){const U=qo(l,h);return U.appContext=f,O===!0?O="svg":O===!1&&(O=void 0),I&&n?n(U,C):o(U,C,O),x=!0,A._container=C,C.__vue_app__=A,o0(U.component)}},unmount(){x&&(o(null,A._container),delete A._container.__vue_app__)},provide(C,I){return f.provides[C]=I,A},runWithContext(C){const I=Bl;Bl=A;try{return C()}finally{Bl=I}}};return A}}let Bl=null;function nw(o,n){if(mi){let i=mi.provides;const l=mi.parent&&mi.parent.provides;l===i&&(i=mi.provides=Object.create(l)),i[o]=n}}function jc(o,n,i=!1){const l=mi||Gr;if(l||Bl){const h=Bl?Bl._context.provides:l?l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides:void 0;if(h&&o in h)return h[o];if(arguments.length>1)return i&&oe(n)?n.call(l&&l.proxy):n}}const Hy={},Vy=()=>Object.create(Hy),qy=o=>Object.getPrototypeOf(o)===Hy;function iw(o,n,i,l=!1){const h={},f=Vy();o.propsDefaults=Object.create(null),Gy(o,n,h,f);for(const p in o.propsOptions[0])p in h||(h[p]=void 0);i?o.props=l?h:y1(h):o.type.props?o.props=h:o.props=f,o.attrs=f}function rw(o,n,i,l){const{props:h,attrs:f,vnode:{patchFlag:p}}=o,x=Ae(h),[A]=o.propsOptions;let C=!1;if((l||p>0)&&!(p&16)){if(p&8){const I=o.vnode.dynamicProps;for(let O=0;O<I.length;O++){let U=I[O];if(hf(o.emitsOptions,U))continue;const tt=n[U];if(A)if(ge(f,U))tt!==f[U]&&(f[U]=tt,C=!0);else{const G=qa(U);h[G]=Ev(A,x,G,tt,o,!1)}else tt!==f[U]&&(f[U]=tt,C=!0)}}}else{Gy(o,n,h,f)&&(C=!0);let I;for(const O in x)(!n||!ge(n,O)&&((I=Ka(O))===O||!ge(n,I)))&&(A?i&&(i[O]!==void 0||i[I]!==void 0)&&(h[O]=Ev(A,x,O,void 0,o,!0)):delete h[O]);if(f!==x)for(const O in f)(!n||!ge(n,O))&&(delete f[O],C=!0)}C&&Vo(o.attrs,"set","")}function Gy(o,n,i,l){const[h,f]=o.propsOptions;let p=!1,x;if(n)for(let A in n){if(cc(A))continue;const C=n[A];let I;h&&ge(h,I=qa(A))?!f||!f.includes(I)?i[I]=C:(x||(x={}))[I]=C:hf(o.emitsOptions,A)||(!(A in l)||C!==l[A])&&(l[A]=C,p=!0)}if(f){const A=Ae(i),C=x||un;for(let I=0;I<f.length;I++){const O=f[I];i[O]=Ev(h,A,O,C[O],o,!ge(C,O))}}return p}function Ev(o,n,i,l,h,f){const p=o[i];if(p!=null){const x=ge(p,"default");if(x&&l===void 0){const A=p.default;if(p.type!==Function&&!p.skipFactory&&oe(A)){const{propsDefaults:C}=h;if(i in C)l=C[i];else{const I=Tc(h);l=C[i]=A.call(null,n),I()}}else l=A}p[0]&&(f&&!x?l=!1:p[1]&&(l===""||l===Ka(i))&&(l=!0))}return l}const ow=new WeakMap;function Yy(o,n,i=!1){const l=i?ow:n.propsCache,h=l.get(o);if(h)return h;const f=o.props,p={},x=[];let A=!1;if(!oe(o)){const I=O=>{A=!0;const[U,tt]=Yy(O,n,!0);vi(p,U),tt&&x.push(...tt)};!i&&n.mixins.length&&n.mixins.forEach(I),o.extends&&I(o.extends),o.mixins&&o.mixins.forEach(I)}if(!f&&!A)return cn(o)&&l.set(o,Sl),Sl;if(Qt(f))for(let I=0;I<f.length;I++){const O=qa(f[I]);C0(O)&&(p[O]=un)}else if(f)for(const I in f){const O=qa(I);if(C0(O)){const U=f[I],tt=p[O]=Qt(U)||oe(U)?{type:U}:vi({},U),G=tt.type;let q=!1,K=!0;if(Qt(G))for(let nt=0;nt<G.length;++nt){const ct=G[nt],X=oe(ct)&&ct.name;if(X==="Boolean"){q=!0;break}else X==="String"&&(K=!1)}else q=oe(G)&&G.name==="Boolean";tt[0]=q,tt[1]=K,(q||ge(tt,"default"))&&x.push(O)}}const C=[p,x];return cn(o)&&l.set(o,C),C}function C0(o){return o[0]!=="$"&&!cc(o)}const Jy=o=>o[0]==="_"||o==="$stable",i0=o=>Qt(o)?o.map(Hr):[Hr(o)],sw=(o,n,i)=>{if(n._n)return n;const l=k1((...h)=>i0(n(...h)),i);return l._c=!1,l},Xy=(o,n,i)=>{const l=o._ctx;for(const h in o){if(Jy(h))continue;const f=o[h];if(oe(f))n[h]=sw(h,f,l);else if(f!=null){const p=i0(f);n[h]=()=>p}}},Ky=(o,n)=>{const i=i0(n);o.slots.default=()=>i},Qy=(o,n,i)=>{for(const l in n)(i||l!=="_")&&(o[l]=n[l])},aw=(o,n,i)=>{const l=o.slots=Vy();if(o.vnode.shapeFlag&32){const h=n._;h?(Qy(l,n,i),i&&dy(l,"_",h,!0)):Xy(n,l)}else n&&Ky(o,n)},lw=(o,n,i)=>{const{vnode:l,slots:h}=o;let f=!0,p=un;if(l.shapeFlag&32){const x=n._;x?i&&x===1?f=!1:Qy(h,n,i):(f=!n.$stable,Xy(n,h)),p=n}else n&&(Ky(o,n),p={default:1});if(f)for(const x in h)!Jy(x)&&p[x]==null&&delete h[x]};function Iv(o,n,i,l,h=!1){if(Qt(o)){o.forEach((U,tt)=>Iv(U,n&&(Qt(n)?n[tt]:n),i,l,h));return}if(Wc(l)&&!h)return;const f=l.shapeFlag&4?o0(l.component):l.el,p=h?null:f,{i:x,r:A}=o,C=n&&n.r,I=x.refs===un?x.refs={}:x.refs,O=x.setupState;if(C!=null&&C!==A&&(zn(C)?(I[C]=null,ge(O,C)&&(O[C]=null)):Si(C)&&(C.value=null)),oe(A))vs(A,x,12,[p,I]);else{const U=zn(A),tt=Si(A);if(U||tt){const G=()=>{if(o.f){const q=U?ge(O,A)?O[A]:I[A]:A.value;h?Qt(q)&&Wv(q,f):Qt(q)?q.includes(f)||q.push(f):U?(I[A]=[f],ge(O,A)&&(O[A]=I[A])):(A.value=[f],o.k&&(I[o.k]=A.value))}else U?(I[A]=p,ge(O,A)&&(O[A]=p)):tt&&(A.value=p,o.k&&(I[o.k]=p))};p?(G.id=-1,Ii(G,i)):G()}}}const uw=Symbol("_vte"),hw=o=>o.__isTeleport,Ii=Aw;function cw(o){return fw(o)}function fw(o,n){const i=py();i.__VUE__=!0;const{insert:l,remove:h,patchProp:f,createElement:p,createText:x,createComment:A,setText:C,setElementText:I,parentNode:O,nextSibling:U,setScopeId:tt=sr,insertStaticContent:G}=o,q=(R,N,H,st=null,Y=null,ot=null,gt=void 0,ut=null,et=!!N.dynamicChildren)=>{if(R===N)return;R&&!ic(R,N)&&(st=Nn(R),Ee(R,Y,ot,!0),R=null),N.patchFlag===-2&&(et=!1,N.dynamicChildren=null);const{type:Q,ref:mt,shapeFlag:Bt}=N;switch(Q){case cf:K(R,N,H,st);break;case Ya:nt(R,N,H,st);break;case cv:R==null&&ct(N,H,st,gt);break;case or:nn(R,N,H,st,Y,ot,gt,ut,et);break;default:Bt&1?Dt(R,N,H,st,Y,ot,gt,ut,et):Bt&6?yi(R,N,H,st,Y,ot,gt,ut,et):(Bt&64||Bt&128)&&Q.process(R,N,H,st,Y,ot,gt,ut,et,Mi)}mt!=null&&Y&&Iv(mt,R&&R.ref,ot,N||R,!N)},K=(R,N,H,st)=>{if(R==null)l(N.el=x(N.children),H,st);else{const Y=N.el=R.el;N.children!==R.children&&C(Y,N.children)}},nt=(R,N,H,st)=>{R==null?l(N.el=A(N.children||""),H,st):N.el=R.el},ct=(R,N,H,st)=>{[R.el,R.anchor]=G(R.children,N,H,st,R.el,R.anchor)},X=({el:R,anchor:N},H,st)=>{let Y;for(;R&&R!==N;)Y=U(R),l(R,H,st),R=Y;l(N,H,st)},Ct=({el:R,anchor:N})=>{let H;for(;R&&R!==N;)H=U(R),h(R),R=H;h(N)},Dt=(R,N,H,st,Y,ot,gt,ut,et)=>{N.type==="svg"?gt="svg":N.type==="math"&&(gt="mathml"),R==null?Tt(N,H,st,Y,ot,gt,ut,et):ue(R,N,Y,ot,gt,ut,et)},Tt=(R,N,H,st,Y,ot,gt,ut)=>{let et,Q;const{props:mt,shapeFlag:Bt,transition:Lt,dirs:Wt}=R;if(et=R.el=p(R.type,ot,mt&&mt.is,mt),Bt&8?I(et,R.children):Bt&16&&ne(R.children,et,null,st,Y,lv(R,ot),gt,ut),Wt&&Fa(R,null,st,"created"),Ht(et,R,R.scopeId,gt,st),mt){for(const ee in mt)ee!=="value"&&!cc(ee)&&f(et,ee,null,mt[ee],ot,st);"value"in mt&&f(et,"value",null,mt.value,ot),(Q=mt.onVnodeBeforeMount)&&jr(Q,st,R)}Wt&&Fa(R,null,st,"beforeMount");const Ut=dw(Y,Lt);Ut&&Lt.beforeEnter(et),l(et,N,H),((Q=mt&&mt.onVnodeMounted)||Ut||Wt)&&Ii(()=>{Q&&jr(Q,st,R),Ut&&Lt.enter(et),Wt&&Fa(R,null,st,"mounted")},Y)},Ht=(R,N,H,st,Y)=>{if(H&&tt(R,H),st)for(let ot=0;ot<st.length;ot++)tt(R,st[ot]);if(Y){let ot=Y.subTree;if(N===ot){const gt=Y.vnode;Ht(R,gt,gt.scopeId,gt.slotScopeIds,Y.parent)}}},ne=(R,N,H,st,Y,ot,gt,ut,et=0)=>{for(let Q=et;Q<R.length;Q++){const mt=R[Q]=ut?ps(R[Q]):Hr(R[Q]);q(null,mt,N,H,st,Y,ot,gt,ut)}},ue=(R,N,H,st,Y,ot,gt)=>{const ut=N.el=R.el;let{patchFlag:et,dynamicChildren:Q,dirs:mt}=N;et|=R.patchFlag&16;const Bt=R.props||un,Lt=N.props||un;let Wt;if(H&&Ua(H,!1),(Wt=Lt.onVnodeBeforeUpdate)&&jr(Wt,H,N,R),mt&&Fa(N,R,H,"beforeUpdate"),H&&Ua(H,!0),(Bt.innerHTML&&Lt.innerHTML==null||Bt.textContent&&Lt.textContent==null)&&I(ut,""),Q?Te(R.dynamicChildren,Q,ut,H,st,lv(N,Y),ot):gt||ft(R,N,ut,null,H,st,lv(N,Y),ot,!1),et>0){if(et&16)Fe(ut,Bt,Lt,H,Y);else if(et&2&&Bt.class!==Lt.class&&f(ut,"class",null,Lt.class,Y),et&4&&f(ut,"style",Bt.style,Lt.style,Y),et&8){const Ut=N.dynamicProps;for(let ee=0;ee<Ut.length;ee++){const re=Ut[ee],Ie=Bt[re],fn=Lt[re];(fn!==Ie||re==="value")&&f(ut,re,Ie,fn,Y,H)}}et&1&&R.children!==N.children&&I(ut,N.children)}else!gt&&Q==null&&Fe(ut,Bt,Lt,H,Y);((Wt=Lt.onVnodeUpdated)||mt)&&Ii(()=>{Wt&&jr(Wt,H,N,R),mt&&Fa(N,R,H,"updated")},st)},Te=(R,N,H,st,Y,ot,gt)=>{for(let ut=0;ut<N.length;ut++){const et=R[ut],Q=N[ut],mt=et.el&&(et.type===or||!ic(et,Q)||et.shapeFlag&70)?O(et.el):H;q(et,Q,mt,null,st,Y,ot,gt,!0)}},Fe=(R,N,H,st,Y)=>{if(N!==H){if(N!==un)for(const ot in N)!cc(ot)&&!(ot in H)&&f(R,ot,N[ot],null,Y,st);for(const ot in H){if(cc(ot))continue;const gt=H[ot],ut=N[ot];gt!==ut&&ot!=="value"&&f(R,ot,ut,gt,Y,st)}"value"in H&&f(R,"value",N.value,H.value,Y)}},nn=(R,N,H,st,Y,ot,gt,ut,et)=>{const Q=N.el=R?R.el:x(""),mt=N.anchor=R?R.anchor:x("");let{patchFlag:Bt,dynamicChildren:Lt,slotScopeIds:Wt}=N;Wt&&(ut=ut?ut.concat(Wt):Wt),R==null?(l(Q,H,st),l(mt,H,st),ne(N.children||[],H,mt,Y,ot,gt,ut,et)):Bt>0&&Bt&64&&Lt&&R.dynamicChildren?(Te(R.dynamicChildren,Lt,H,Y,ot,gt,ut),(N.key!=null||Y&&N===Y.subTree)&&$y(R,N,!0)):ft(R,N,H,mt,Y,ot,gt,ut,et)},yi=(R,N,H,st,Y,ot,gt,ut,et)=>{N.slotScopeIds=ut,R==null?N.shapeFlag&512?Y.ctx.activate(N,H,st,gt,et):dn(N,H,st,Y,ot,gt,et):Br(R,N,et)},dn=(R,N,H,st,Y,ot,gt)=>{const ut=R.component=Rw(R,st,Y);if(Fy(R)&&(ut.ctx.renderer=Mi),kw(ut,!1,gt),ut.asyncDep){if(Y&&Y.registerDep(ut,pe,gt),!R.el){const et=ut.subTree=qo(Ya);nt(null,et,N,H)}}else pe(ut,R,N,H,Y,ot,gt)},Br=(R,N,H)=>{const st=N.component=R.component;if(bw(R,N,H))if(st.asyncDep&&!st.asyncResolved){Jt(st,N,H);return}else st.next=N,S1(st.update),st.effect.dirty=!0,st.update();else N.el=R.el,st.vnode=N},pe=(R,N,H,st,Y,ot,gt)=>{const ut=()=>{if(R.isMounted){let{next:mt,bu:Bt,u:Lt,parent:Wt,vnode:Ut}=R;{const ti=tx(R);if(ti){mt&&(mt.el=Ut.el,Jt(R,mt,gt)),ti.asyncDep.then(()=>{R.isUnmounted||ut()});return}}let ee=mt,re;Ua(R,!1),mt?(mt.el=Ut.el,Jt(R,mt,gt)):mt=Ut,Bt&&rv(Bt),(re=mt.props&&mt.props.onVnodeBeforeUpdate)&&jr(re,Wt,mt,Ut),Ua(R,!0);const Ie=hv(R),fn=R.subTree;R.subTree=Ie,q(fn,Ie,O(fn.el),Nn(fn),R,Y,ot),mt.el=Ie.el,ee===null&&Lw(R,Ie.el),Lt&&Ii(Lt,Y),(re=mt.props&&mt.props.onVnodeUpdated)&&Ii(()=>jr(re,Wt,mt,Ut),Y)}else{let mt;const{el:Bt,props:Lt}=N,{bm:Wt,m:Ut,parent:ee}=R,re=Wc(N);if(Ua(R,!1),Wt&&rv(Wt),!re&&(mt=Lt&&Lt.onVnodeBeforeMount)&&jr(mt,ee,N),Ua(R,!0),Bt&&Dn){const Ie=()=>{R.subTree=hv(R),Dn(Bt,R.subTree,R,Y,null)};re?N.type.__asyncLoader().then(()=>!R.isUnmounted&&Ie()):Ie()}else{const Ie=R.subTree=hv(R);q(null,Ie,H,st,R,Y,ot),N.el=Ie.el}if(Ut&&Ii(Ut,Y),!re&&(mt=Lt&&Lt.onVnodeMounted)){const Ie=N;Ii(()=>jr(mt,ee,Ie),Y)}(N.shapeFlag&256||ee&&Wc(ee.vnode)&&ee.vnode.shapeFlag&256)&&R.a&&Ii(R.a,Y),R.isMounted=!0,N=H=st=null}},et=R.effect=new qv(ut,sr,()=>t0(Q),R.scope),Q=R.update=()=>{et.dirty&&et.run()};Q.i=R,Q.id=R.uid,Ua(R,!0),Q()},Jt=(R,N,H)=>{N.component=R;const st=R.vnode.props;R.vnode=N,R.next=null,rw(R,N.props,st,H),lw(R,N.children,H),bs(),P0(R),Ls()},ft=(R,N,H,st,Y,ot,gt,ut,et=!1)=>{const Q=R&&R.children,mt=R?R.shapeFlag:0,Bt=N.children,{patchFlag:Lt,shapeFlag:Wt}=N;if(Lt>0){if(Lt&128){kt(Q,Bt,H,st,Y,ot,gt,ut,et);return}else if(Lt&256){xi(Q,Bt,H,st,Y,ot,gt,ut,et);return}}Wt&8?(mt&16&&jt(Q,Y,ot),Bt!==Q&&I(H,Bt)):mt&16?Wt&16?kt(Q,Bt,H,st,Y,ot,gt,ut,et):jt(Q,Y,ot,!0):(mt&8&&I(H,""),Wt&16&&ne(Bt,H,st,Y,ot,gt,ut,et))},xi=(R,N,H,st,Y,ot,gt,ut,et)=>{R=R||Sl,N=N||Sl;const Q=R.length,mt=N.length,Bt=Math.min(Q,mt);let Lt;for(Lt=0;Lt<Bt;Lt++){const Wt=N[Lt]=et?ps(N[Lt]):Hr(N[Lt]);q(R[Lt],Wt,H,null,Y,ot,gt,ut,et)}Q>mt?jt(R,Y,ot,!0,!1,Bt):ne(N,H,st,Y,ot,gt,ut,et,Bt)},kt=(R,N,H,st,Y,ot,gt,ut,et)=>{let Q=0;const mt=N.length;let Bt=R.length-1,Lt=mt-1;for(;Q<=Bt&&Q<=Lt;){const Wt=R[Q],Ut=N[Q]=et?ps(N[Q]):Hr(N[Q]);if(ic(Wt,Ut))q(Wt,Ut,H,null,Y,ot,gt,ut,et);else break;Q++}for(;Q<=Bt&&Q<=Lt;){const Wt=R[Bt],Ut=N[Lt]=et?ps(N[Lt]):Hr(N[Lt]);if(ic(Wt,Ut))q(Wt,Ut,H,null,Y,ot,gt,ut,et);else break;Bt--,Lt--}if(Q>Bt){if(Q<=Lt){const Wt=Lt+1,Ut=Wt<mt?N[Wt].el:st;for(;Q<=Lt;)q(null,N[Q]=et?ps(N[Q]):Hr(N[Q]),H,Ut,Y,ot,gt,ut,et),Q++}}else if(Q>Lt)for(;Q<=Bt;)Ee(R[Q],Y,ot,!0),Q++;else{const Wt=Q,Ut=Q,ee=new Map;for(Q=Ut;Q<=Lt;Q++){const rn=N[Q]=et?ps(N[Q]):Hr(N[Q]);rn.key!=null&&ee.set(rn.key,Q)}let re,Ie=0;const fn=Lt-Ut+1;let ti=!1,Oi=0;const Vn=new Array(fn);for(Q=0;Q<fn;Q++)Vn[Q]=0;for(Q=Wt;Q<=Bt;Q++){const rn=R[Q];if(Ie>=fn){Ee(rn,Y,ot,!0);continue}let $e;if(rn.key!=null)$e=ee.get(rn.key);else for(re=Ut;re<=Lt;re++)if(Vn[re-Ut]===0&&ic(rn,N[re])){$e=re;break}$e===void 0?Ee(rn,Y,ot,!0):(Vn[$e-Ut]=Q+1,$e>=Oi?Oi=$e:ti=!0,q(rn,N[$e],H,null,Y,ot,gt,ut,et),Ie++)}const Bi=ti?pw(Vn):Sl;for(re=Bi.length-1,Q=fn-1;Q>=0;Q--){const rn=Ut+Q,$e=N[rn],Yo=rn+1<mt?N[rn+1].el:st;Vn[Q]===0?q(null,$e,H,Yo,Y,ot,gt,ut,et):ti&&(re<0||Q!==Bi[re]?Ft($e,H,Yo,2):re--)}}},Ft=(R,N,H,st,Y=null)=>{const{el:ot,type:gt,transition:ut,children:et,shapeFlag:Q}=R;if(Q&6){Ft(R.component.subTree,N,H,st);return}if(Q&128){R.suspense.move(N,H,st);return}if(Q&64){gt.move(R,N,H,Mi);return}if(gt===or){l(ot,N,H);for(let Bt=0;Bt<et.length;Bt++)Ft(et[Bt],N,H,st);l(R.anchor,N,H);return}if(gt===cv){X(R,N,H);return}if(st!==2&&Q&1&&ut)if(st===0)ut.beforeEnter(ot),l(ot,N,H),Ii(()=>ut.enter(ot),Y);else{const{leave:Bt,delayLeave:Lt,afterLeave:Wt}=ut,Ut=()=>l(ot,N,H),ee=()=>{Bt(ot,()=>{Ut(),Wt&&Wt()})};Lt?Lt(ot,Ut,ee):ee()}else l(ot,N,H)},Ee=(R,N,H,st=!1,Y=!1)=>{const{type:ot,props:gt,ref:ut,children:et,dynamicChildren:Q,shapeFlag:mt,patchFlag:Bt,dirs:Lt,cacheIndex:Wt}=R;if(Bt===-2&&(Y=!1),ut!=null&&Iv(ut,null,H,R,!0),Wt!=null&&(N.renderCache[Wt]=void 0),mt&256){N.ctx.deactivate(R);return}const Ut=mt&1&&Lt,ee=!Wc(R);let re;if(ee&&(re=gt&&gt.onVnodeBeforeUnmount)&&jr(re,N,R),mt&6)Kt(R.component,H,st);else{if(mt&128){R.suspense.unmount(H,st);return}Ut&&Fa(R,null,N,"beforeUnmount"),mt&64?R.type.remove(R,N,H,Mi,st):Q&&!Q.hasOnce&&(ot!==or||Bt>0&&Bt&64)?jt(Q,N,H,!1,!0):(ot===or&&Bt&384||!Y&&mt&16)&&jt(et,N,H),st&&pn(R)}(ee&&(re=gt&&gt.onVnodeUnmounted)||Ut)&&Ii(()=>{re&&jr(re,N,R),Ut&&Fa(R,null,N,"unmounted")},H)},pn=R=>{const{type:N,el:H,anchor:st,transition:Y}=R;if(N===or){qe(H,st);return}if(N===cv){Ct(R);return}const ot=()=>{h(H),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(R.shapeFlag&1&&Y&&!Y.persisted){const{leave:gt,delayLeave:ut}=Y,et=()=>gt(H,ot);ut?ut(R.el,ot,et):et()}else ot()},qe=(R,N)=>{let H;for(;R!==N;)H=U(R),h(R),R=H;h(N)},Kt=(R,N,H)=>{const{bum:st,scope:Y,update:ot,subTree:gt,um:ut,m:et,a:Q}=R;S0(et),S0(Q),st&&rv(st),Y.stop(),ot&&(ot.active=!1,Ee(gt,R,N,H)),ut&&Ii(ut,N),Ii(()=>{R.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},jt=(R,N,H,st=!1,Y=!1,ot=0)=>{for(let gt=ot;gt<R.length;gt++)Ee(R[gt],N,H,st,Y)},Nn=R=>{if(R.shapeFlag&6)return Nn(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const N=U(R.anchor||R.el),H=N&&N[uw];return H?U(H):N};let Qe=!1;const Hn=(R,N,H)=>{R==null?N._vnode&&Ee(N._vnode,null,null,!0):q(N._vnode||null,R,N,null,null,null,H),N._vnode=R,Qe||(Qe=!0,P0(),zy(),Qe=!1)},Mi={p:q,um:Ee,m:Ft,r:pn,mt:dn,mc:ne,pc:ft,pbc:Te,n:Nn,o};let $n,Dn;return{render:Hn,hydrate:$n,createApp:ew(Hn,$n)}}function lv({type:o,props:n},i){return i==="svg"&&o==="foreignObject"||i==="mathml"&&o==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:i}function Ua({effect:o,update:n},i){o.allowRecurse=n.allowRecurse=i}function dw(o,n){return(!o||o&&!o.pendingBranch)&&n&&!n.persisted}function $y(o,n,i=!1){const l=o.children,h=n.children;if(Qt(l)&&Qt(h))for(let f=0;f<l.length;f++){const p=l[f];let x=h[f];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=h[f]=ps(h[f]),x.el=p.el),!i&&x.patchFlag!==-2&&$y(p,x)),x.type===cf&&(x.el=p.el)}}function pw(o){const n=o.slice(),i=[0];let l,h,f,p,x;const A=o.length;for(l=0;l<A;l++){const C=o[l];if(C!==0){if(h=i[i.length-1],o[h]<C){n[l]=h,i.push(l);continue}for(f=0,p=i.length-1;f<p;)x=f+p>>1,o[i[x]]<C?f=x+1:p=x;C<o[i[f]]&&(f>0&&(n[l]=i[f-1]),i[f]=l)}}for(f=i.length,p=i[f-1];f-- >0;)i[f]=p,p=n[p];return i}function tx(o){const n=o.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:tx(n)}function S0(o){if(o)for(let n=0;n<o.length;n++)o[n].active=!1}const _w=Symbol.for("v-scx"),gw=()=>jc(_w),zc={};function uv(o,n,i){return ex(o,n,i)}function ex(o,n,{immediate:i,deep:l,flush:h,once:f,onTrack:p,onTrigger:x}=un){if(n&&f){const Tt=n;n=(...Ht)=>{Tt(...Ht),Dt()}}const A=mi,C=Tt=>l===!0?Tt:Wa(Tt,l===!1?1:void 0);let I,O=!1,U=!1;if(Si(o)?(I=()=>o.value,O=kl(o)):fc(o)?(I=()=>C(o),O=!0):Qt(o)?(U=!0,O=o.some(Tt=>fc(Tt)||kl(Tt)),I=()=>o.map(Tt=>{if(Si(Tt))return Tt.value;if(fc(Tt))return C(Tt);if(oe(Tt))return vs(Tt,A,2)})):oe(o)?n?I=()=>vs(o,A,2):I=()=>(tt&&tt(),Or(o,A,3,[G])):I=sr,n&&l){const Tt=I;I=()=>Wa(Tt())}let tt,G=Tt=>{tt=X.onStop=()=>{vs(Tt,A,4),tt=X.onStop=void 0}},q;if(ff)if(G=sr,n?i&&Or(n,A,3,[I(),U?[]:void 0,G]):I(),h==="sync"){const Tt=gw();q=Tt.__watcherHandles||(Tt.__watcherHandles=[])}else return sr;let K=U?new Array(o.length).fill(zc):zc;const nt=()=>{if(!(!X.active||!X.dirty))if(n){const Tt=X.run();(l||O||(U?Tt.some((Ht,ne)=>ys(Ht,K[ne])):ys(Tt,K)))&&(tt&&tt(),Or(n,A,3,[Tt,K===zc?void 0:U&&K[0]===zc?[]:K,G]),K=Tt)}else X.run()};nt.allowRecurse=!!n;let ct;h==="sync"?ct=nt:h==="post"?ct=()=>Ii(nt,A&&A.suspense):(nt.pre=!0,A&&(nt.id=A.uid),ct=()=>t0(nt));const X=new qv(I,sr,ct),Ct=$x(),Dt=()=>{X.stop(),Ct&&Wv(Ct.effects,X)};return n?i?nt():K=X.run():h==="post"?Ii(X.run.bind(X),A&&A.suspense):X.run(),q&&q.push(Dt),Dt}function mw(o,n,i){const l=this.proxy,h=zn(o)?o.includes(".")?nx(l,o):()=>l[o]:o.bind(l,l);let f;oe(n)?f=n:(f=n.handler,i=n);const p=Tc(this),x=ex(h,f.bind(l),i);return p(),x}function nx(o,n){const i=n.split(".");return()=>{let l=o;for(let h=0;h<i.length&&l;h++)l=l[i[h]];return l}}function Wa(o,n=1/0,i){if(n<=0||!cn(o)||o.__v_skip||(i=i||new Set,i.has(o)))return o;if(i.add(o),n--,Si(o))Wa(o.value,n,i);else if(Qt(o))for(let l=0;l<o.length;l++)Wa(o[l],n,i);else if(ly(o)||Ml(o))o.forEach(l=>{Wa(l,n,i)});else if(cy(o)){for(const l in o)Wa(o[l],n,i);for(const l of Object.getOwnPropertySymbols(o))Object.prototype.propertyIsEnumerable.call(o,l)&&Wa(o[l],n,i)}return o}const vw=(o,n)=>n==="modelValue"||n==="model-value"?o.modelModifiers:o[`${n}Modifiers`]||o[`${qa(n)}Modifiers`]||o[`${Ka(n)}Modifiers`];function yw(o,n,...i){if(o.isUnmounted)return;const l=o.vnode.props||un;let h=i;const f=n.startsWith("update:"),p=f&&vw(l,n.slice(7));p&&(p.trim&&(h=i.map(I=>zn(I)?I.trim():I)),p.number&&(h=i.map(Hx)));let x,A=l[x=iv(n)]||l[x=iv(qa(n))];!A&&f&&(A=l[x=iv(Ka(n))]),A&&Or(A,o,6,h);const C=l[x+"Once"];if(C){if(!o.emitted)o.emitted={};else if(o.emitted[x])return;o.emitted[x]=!0,Or(C,o,6,h)}}function ix(o,n,i=!1){const l=n.emitsCache,h=l.get(o);if(h!==void 0)return h;const f=o.emits;let p={},x=!1;if(!oe(o)){const A=C=>{const I=ix(C,n,!0);I&&(x=!0,vi(p,I))};!i&&n.mixins.length&&n.mixins.forEach(A),o.extends&&A(o.extends),o.mixins&&o.mixins.forEach(A)}return!f&&!x?(cn(o)&&l.set(o,null),null):(Qt(f)?f.forEach(A=>p[A]=null):vi(p,f),cn(o)&&l.set(o,p),p)}function hf(o,n){return!o||!ef(n)?!1:(n=n.slice(2).replace(/Once$/,""),ge(o,n[0].toLowerCase()+n.slice(1))||ge(o,Ka(n))||ge(o,n))}function hv(o){const{type:n,vnode:i,proxy:l,withProxy:h,propsOptions:[f],slots:p,attrs:x,emit:A,render:C,renderCache:I,props:O,data:U,setupState:tt,ctx:G,inheritAttrs:q}=o,K=Gc(o);let nt,ct;try{if(i.shapeFlag&4){const Ct=h||l,Dt=Ct;nt=Hr(C.call(Dt,Ct,I,O,tt,U,G)),ct=x}else{const Ct=n;nt=Hr(Ct.length>1?Ct(O,{attrs:x,slots:p,emit:A}):Ct(O,null)),ct=n.props?x:xw(x)}}catch(Ct){pc.length=0,af(Ct,o,1),nt=qo(Ya)}let X=nt;if(ct&&q!==!1){const Ct=Object.keys(ct),{shapeFlag:Dt}=X;Ct.length&&Dt&7&&(f&&Ct.some(Zv)&&(ct=ww(ct,f)),X=zl(X,ct,!1,!0))}return i.dirs&&(X=zl(X,null,!1,!0),X.dirs=X.dirs?X.dirs.concat(i.dirs):i.dirs),i.transition&&(X.transition=i.transition),nt=X,Gc(K),nt}const xw=o=>{let n;for(const i in o)(i==="class"||i==="style"||ef(i))&&((n||(n={}))[i]=o[i]);return n},ww=(o,n)=>{const i={};for(const l in o)(!Zv(l)||!(l.slice(9)in n))&&(i[l]=o[l]);return i};function bw(o,n,i){const{props:l,children:h,component:f}=o,{props:p,children:x,patchFlag:A}=n,C=f.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&A>=0){if(A&1024)return!0;if(A&16)return l?M0(l,p,C):!!p;if(A&8){const I=n.dynamicProps;for(let O=0;O<I.length;O++){const U=I[O];if(p[U]!==l[U]&&!hf(C,U))return!0}}}else return(h||x)&&(!x||!x.$stable)?!0:l===p?!1:l?p?M0(l,p,C):!0:!!p;return!1}function M0(o,n,i){const l=Object.keys(n);if(l.length!==Object.keys(o).length)return!0;for(let h=0;h<l.length;h++){const f=l[h];if(n[f]!==o[f]&&!hf(i,f))return!0}return!1}function Lw({vnode:o,parent:n},i){for(;n;){const l=n.subTree;if(l.suspense&&l.suspense.activeBranch===o&&(l.el=o.el),l===o)(o=n.vnode).el=i,n=n.parent;else break}}const Pw=o=>o.__isSuspense;function Aw(o,n){n&&n.pendingBranch?Qt(o)?n.effects.push(...o):n.effects.push(o):M1(o)}const or=Symbol.for("v-fgt"),cf=Symbol.for("v-txt"),Ya=Symbol.for("v-cmt"),cv=Symbol.for("v-stc"),pc=[];let ji=null;function Sr(o=!1){pc.push(ji=o?null:[])}function Tw(){pc.pop(),ji=pc[pc.length-1]||null}let Lc=1;function O0(o){Lc+=o,o<0&&ji&&(ji.hasOnce=!0)}function rx(o){return o.dynamicChildren=Lc>0?ji||Sl:null,Tw(),Lc>0&&ji&&ji.push(o),o}function Wr(o,n,i,l,h,f){return rx(De(o,n,i,l,h,f,!0))}function Ew(o,n,i,l,h){return rx(qo(o,n,i,l,h,!0))}function Iw(o){return o?o.__v_isVNode===!0:!1}function ic(o,n){return o.type===n.type&&o.key===n.key}const ox=({key:o})=>o??null,Hc=({ref:o,ref_key:n,ref_for:i})=>(typeof o=="number"&&(o=""+o),o!=null?zn(o)||Si(o)||oe(o)?{i:Gr,r:o,k:n,f:!!i}:o:null);function De(o,n=null,i=null,l=0,h=null,f=o===or?0:1,p=!1,x=!1){const A={__v_isVNode:!0,__v_skip:!0,type:o,props:n,key:n&&ox(n),ref:n&&Hc(n),scopeId:lf,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:l,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:Gr};return x?(r0(A,i),f&128&&o.normalize(A)):i&&(A.shapeFlag|=zn(i)?8:16),Lc>0&&!p&&ji&&(A.patchFlag>0||f&6)&&A.patchFlag!==32&&ji.push(A),A}const qo=Cw;function Cw(o,n=null,i=null,l=0,h=null,f=!1){if((!o||o===G1)&&(o=Ya),Iw(o)){const x=zl(o,n,!0);return i&&r0(x,i),Lc>0&&!f&&ji&&(x.shapeFlag&6?ji[ji.indexOf(o)]=x:ji.push(x)),x.patchFlag=-2,x}if(Fw(o)&&(o=o.__vccOpts),n){n=Sw(n);let{class:x,style:A}=n;x&&!zn(x)&&(n.class=Vv(x)),cn(A)&&(Sy(A)&&!Qt(A)&&(A=vi({},A)),n.style=Hv(A))}const p=zn(o)?1:Pw(o)?128:hw(o)?64:cn(o)?4:oe(o)?2:0;return De(o,n,i,l,h,p,f,!0)}function Sw(o){return o?Sy(o)||qy(o)?vi({},o):o:null}function zl(o,n,i=!1,l=!1){const{props:h,ref:f,patchFlag:p,children:x,transition:A}=o,C=n?Mw(h||{},n):h,I={__v_isVNode:!0,__v_skip:!0,type:o.type,props:C,key:C&&ox(C),ref:n&&n.ref?i&&f?Qt(f)?f.concat(Hc(n)):[f,Hc(n)]:Hc(n):f,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:x,target:o.target,targetStart:o.targetStart,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:n&&o.type!==or?p===-1?16:p|16:p,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:A,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&zl(o.ssContent),ssFallback:o.ssFallback&&zl(o.ssFallback),el:o.el,anchor:o.anchor,ctx:o.ctx,ce:o.ce};return A&&l&&Dy(I,A.clone(I)),I}function lc(o=" ",n=0){return qo(cf,null,o,n)}function fv(o="",n=!1){return n?(Sr(),Ew(Ya,null,o)):qo(Ya,null,o)}function Hr(o){return o==null||typeof o=="boolean"?qo(Ya):Qt(o)?qo(or,null,o.slice()):typeof o=="object"?ps(o):qo(cf,null,String(o))}function ps(o){return o.el===null&&o.patchFlag!==-1||o.memo?o:zl(o)}function r0(o,n){let i=0;const{shapeFlag:l}=o;if(n==null)n=null;else if(Qt(n))i=16;else if(typeof n=="object")if(l&65){const h=n.default;h&&(h._c&&(h._d=!1),r0(o,h()),h._c&&(h._d=!0));return}else{i=32;const h=n._;!h&&!qy(n)?n._ctx=Gr:h===3&&Gr&&(Gr.slots._===1?n._=1:(n._=2,o.patchFlag|=1024))}else oe(n)?(n={default:n,_ctx:Gr},i=32):(n=String(n),l&64?(i=16,n=[lc(n)]):i=8);o.children=n,o.shapeFlag|=i}function Mw(...o){const n={};for(let i=0;i<o.length;i++){const l=o[i];for(const h in l)if(h==="class")n.class!==l.class&&(n.class=Vv([n.class,l.class]));else if(h==="style")n.style=Hv([n.style,l.style]);else if(ef(h)){const f=n[h],p=l[h];p&&f!==p&&!(Qt(f)&&f.includes(p))&&(n[h]=f?[].concat(f,p):p)}else h!==""&&(n[h]=l[h])}return n}function jr(o,n,i,l=null){Or(o,n,7,[i,l])}const Ow=jy();let Bw=0;function Rw(o,n,i){const l=o.type,h=(n?n.appContext:o.appContext)||Ow,f={uid:Bw++,vnode:o,type:l,parent:n,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new Kx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yy(l,h),emitsOptions:ix(l,h),emit:null,emitted:null,propsDefaults:un,inheritAttrs:l.inheritAttrs,ctx:un,data:un,props:un,attrs:un,slots:un,refs:un,setupState:un,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=n?n.root:f,f.emit=yw.bind(null,f),o.ce&&o.ce(f),f}let mi=null,Jc,Cv;{const o=py(),n=(i,l)=>{let h;return(h=o[i])||(h=o[i]=[]),h.push(l),f=>{h.length>1?h.forEach(p=>p(f)):h[0](f)}};Jc=n("__VUE_INSTANCE_SETTERS__",i=>mi=i),Cv=n("__VUE_SSR_SETTERS__",i=>ff=i)}const Tc=o=>{const n=mi;return Jc(o),o.scope.on(),()=>{o.scope.off(),Jc(n)}},B0=()=>{mi&&mi.scope.off(),Jc(null)};function sx(o){return o.vnode.shapeFlag&4}let ff=!1;function kw(o,n=!1,i=!1){n&&Cv(n);const{props:l,children:h}=o.vnode,f=sx(o);iw(o,l,f,n),aw(o,h,i);const p=f?zw(o,n):void 0;return n&&Cv(!1),p}function zw(o,n){const i=o.type;o.accessCache=Object.create(null),o.proxy=new Proxy(o.ctx,Y1);const{setup:l}=i;if(l){const h=o.setupContext=l.length>1?Dw(o):null,f=Tc(o);bs();const p=vs(l,o,0,[o.props,h]);if(Ls(),f(),uy(p)){if(p.then(B0,B0),n)return p.then(x=>{R0(o,x,n)}).catch(x=>{af(x,o,0)});o.asyncDep=p}else R0(o,p,n)}else ax(o,n)}function R0(o,n,i){oe(n)?o.type.__ssrInlineRender?o.ssrRender=n:o.render=n:cn(n)&&(o.setupState=By(n)),ax(o,i)}let k0;function ax(o,n,i){const l=o.type;if(!o.render){if(!n&&k0&&!l.render){const h=l.template||n0(o).template;if(h){const{isCustomElement:f,compilerOptions:p}=o.appContext.config,{delimiters:x,compilerOptions:A}=l,C=vi(vi({isCustomElement:f,delimiters:x},p),A);l.render=k0(h,C)}}o.render=l.render||sr}{const h=Tc(o);bs();try{J1(o)}finally{Ls(),h()}}}const Nw={get(o,n){return Ci(o,"get",""),o[n]}};function Dw(o){const n=i=>{o.exposed=i||{}};return{attrs:new Proxy(o.attrs,Nw),slots:o.slots,emit:o.emit,expose:n}}function o0(o){return o.exposed?o.exposeProxy||(o.exposeProxy=new Proxy(By(x1(o.exposed)),{get(n,i){if(i in n)return n[i];if(i in dc)return dc[i](o)},has(n,i){return i in n||i in dc}})):o.proxy}function Fw(o){return oe(o)&&"__vccOpts"in o}const Uw=(o,n)=>w1(o,n,ff),Zw="3.4.37";/**
* @vue/runtime-dom v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ww="http://www.w3.org/2000/svg",jw="http://www.w3.org/1998/Math/MathML",Ho=typeof document<"u"?document:null,z0=Ho&&Ho.createElement("template"),Hw={insert:(o,n,i)=>{n.insertBefore(o,i||null)},remove:o=>{const n=o.parentNode;n&&n.removeChild(o)},createElement:(o,n,i,l)=>{const h=n==="svg"?Ho.createElementNS(Ww,o):n==="mathml"?Ho.createElementNS(jw,o):i?Ho.createElement(o,{is:i}):Ho.createElement(o);return o==="select"&&l&&l.multiple!=null&&h.setAttribute("multiple",l.multiple),h},createText:o=>Ho.createTextNode(o),createComment:o=>Ho.createComment(o),setText:(o,n)=>{o.nodeValue=n},setElementText:(o,n)=>{o.textContent=n},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>Ho.querySelector(o),setScopeId(o,n){o.setAttribute(n,"")},insertStaticContent(o,n,i,l,h,f){const p=i?i.previousSibling:n.lastChild;if(h&&(h===f||h.nextSibling))for(;n.insertBefore(h.cloneNode(!0),i),!(h===f||!(h=h.nextSibling)););else{z0.innerHTML=l==="svg"?`<svg>${o}</svg>`:l==="mathml"?`<math>${o}</math>`:o;const x=z0.content;if(l==="svg"||l==="mathml"){const A=x.firstChild;for(;A.firstChild;)x.appendChild(A.firstChild);x.removeChild(A)}n.insertBefore(x,i)}return[p?p.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}},Vw=Symbol("_vtc");function qw(o,n,i){const l=o[Vw];l&&(n=(n?[n,...l]:[...l]).join(" ")),n==null?o.removeAttribute("class"):i?o.setAttribute("class",n):o.className=n}const N0=Symbol("_vod"),Gw=Symbol("_vsh"),Yw=Symbol(""),Jw=/(^|;)\s*display\s*:/;function Xw(o,n,i){const l=o.style,h=zn(i);let f=!1;if(i&&!h){if(n)if(zn(n))for(const p of n.split(";")){const x=p.slice(0,p.indexOf(":")).trim();i[x]==null&&Vc(l,x,"")}else for(const p in n)i[p]==null&&Vc(l,p,"");for(const p in i)p==="display"&&(f=!0),Vc(l,p,i[p])}else if(h){if(n!==i){const p=l[Yw];p&&(i+=";"+p),l.cssText=i,f=Jw.test(i)}}else n&&o.removeAttribute("style");N0 in o&&(o[N0]=f?l.display:"",o[Gw]&&(l.display="none"))}const D0=/\s*!important$/;function Vc(o,n,i){if(Qt(i))i.forEach(l=>Vc(o,n,l));else if(i==null&&(i=""),n.startsWith("--"))o.setProperty(n,i);else{const l=Kw(o,n);D0.test(i)?o.setProperty(Ka(l),i.replace(D0,""),"important"):o[l]=i}}const F0=["Webkit","Moz","ms"],dv={};function Kw(o,n){const i=dv[n];if(i)return i;let l=qa(n);if(l!=="filter"&&l in o)return dv[n]=l;l=fy(l);for(let h=0;h<F0.length;h++){const f=F0[h]+l;if(f in o)return dv[n]=f}return n}const U0="http://www.w3.org/1999/xlink";function Z0(o,n,i,l,h,f=Xx(n)){l&&n.startsWith("xlink:")?i==null?o.removeAttributeNS(U0,n.slice(6,n.length)):o.setAttributeNS(U0,n,i):i==null||f&&!_y(i)?o.removeAttribute(n):o.setAttribute(n,f?"":ws(i)?String(i):i)}function Qw(o,n,i,l){if(n==="innerHTML"||n==="textContent"){if(i==null)return;o[n]=i;return}const h=o.tagName;if(n==="value"&&h!=="PROGRESS"&&!h.includes("-")){const p=h==="OPTION"?o.getAttribute("value")||"":o.value,x=i==null?"":String(i);(p!==x||!("_value"in o))&&(o.value=x),i==null&&o.removeAttribute(n),o._value=i;return}let f=!1;if(i===""||i==null){const p=typeof o[n];p==="boolean"?i=_y(i):i==null&&p==="string"?(i="",f=!0):p==="number"&&(i=0,f=!0)}try{o[n]=i}catch{}f&&o.removeAttribute(n)}function $w(o,n,i,l){o.addEventListener(n,i,l)}function tb(o,n,i,l){o.removeEventListener(n,i,l)}const W0=Symbol("_vei");function eb(o,n,i,l,h=null){const f=o[W0]||(o[W0]={}),p=f[n];if(l&&p)p.value=l;else{const[x,A]=nb(n);if(l){const C=f[n]=ob(l,h);$w(o,x,C,A)}else p&&(tb(o,x,p,A),f[n]=void 0)}}const j0=/(?:Once|Passive|Capture)$/;function nb(o){let n;if(j0.test(o)){n={};let l;for(;l=o.match(j0);)o=o.slice(0,o.length-l[0].length),n[l[0].toLowerCase()]=!0}return[o[2]===":"?o.slice(3):Ka(o.slice(2)),n]}let pv=0;const ib=Promise.resolve(),rb=()=>pv||(ib.then(()=>pv=0),pv=Date.now());function ob(o,n){const i=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=i.attached)return;Or(sb(l,i.value),n,5,[l])};return i.value=o,i.attached=rb(),i}function sb(o,n){if(Qt(n)){const i=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{i.call(o),o._stopped=!0},n.map(l=>h=>!h._stopped&&l&&l(h))}else return n}const H0=o=>o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)>96&&o.charCodeAt(2)<123,ab=(o,n,i,l,h,f)=>{const p=h==="svg";n==="class"?qw(o,l,p):n==="style"?Xw(o,i,l):ef(n)?Zv(n)||eb(o,n,i,l,f):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):lb(o,n,l,p))?(Qw(o,n,l),!o.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Z0(o,n,l,p,f,n!=="value")):(n==="true-value"?o._trueValue=l:n==="false-value"&&(o._falseValue=l),Z0(o,n,l,p))};function lb(o,n,i,l){if(l)return!!(n==="innerHTML"||n==="textContent"||n in o&&H0(n)&&oe(i));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&o.tagName==="INPUT"||n==="type"&&o.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const h=o.tagName;if(h==="IMG"||h==="VIDEO"||h==="CANVAS"||h==="SOURCE")return!1}return H0(n)&&zn(i)?!1:n in o}const ub=vi({patchProp:ab},Hw);let V0;function hb(){return V0||(V0=cw(ub))}const cb=(...o)=>{const n=hb().createApp(...o),{mount:i}=n;return n.mount=l=>{const h=db(l);if(!h)return;const f=n._component;!oe(f)&&!f.render&&!f.template&&(f.template=h.innerHTML),h.innerHTML="";const p=i(h,!1,fb(h));return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),p},n};function fb(o){if(o instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&o instanceof MathMLElement)return"mathml"}function db(o){return zn(o)?document.querySelector(o):o}const pb=""+new URL("stop1-gIXfRQy_.png",import.meta.url).href,_b=""+new URL("stop2-cLwBqKmL.png",import.meta.url).href;var gb=Object.defineProperty,mb=(o,n,i)=>n in o?gb(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,rt=(o,n,i)=>(mb(o,typeof n!="symbol"?n+"":n,i),i),Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lx(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Sv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(o,n){(function(i,l){l(n)})(Tl,function(i){var l="1.9.4";function h(r){var a,c,_,y;for(c=1,_=arguments.length;c<_;c++){y=arguments[c];for(a in y)r[a]=y[a]}return r}var f=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function p(r,a){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var _=c.call(arguments,2);return function(){return r.apply(a,_.length?_.concat(c.call(arguments)):arguments)}}var x=0;function A(r){return"_leaflet_id"in r||(r._leaflet_id=++x),r._leaflet_id}function C(r,a,c){var _,y,P,k;return k=function(){_=!1,y&&(P.apply(c,y),y=!1)},P=function(){_?y=arguments:(r.apply(c,arguments),setTimeout(k,a),_=!0)},P}function I(r,a,c){var _=a[1],y=a[0],P=_-y;return r===_&&c?r:((r-y)%P+P)%P+y}function O(){return!1}function U(r,a){if(a===!1)return r;var c=Math.pow(10,a===void 0?6:a);return Math.round(r*c)/c}function tt(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function G(r){return tt(r).split(/\s+/)}function q(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?f(r.options):{});for(var c in a)r.options[c]=a[c];return r.options}function K(r,a,c){var _=[];for(var y in r)_.push(encodeURIComponent(c?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(!a||a.indexOf("?")===-1?"?":"&")+_.join("&")}var nt=/\{ *([\w_ -]+) *\}/g;function ct(r,a){return r.replace(nt,function(c,_){var y=a[_];if(y===void 0)throw new Error("No value provided for variable "+c);return typeof y=="function"&&(y=y(a)),y})}var X=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Ct(r,a){for(var c=0;c<r.length;c++)if(r[c]===a)return c;return-1}var Dt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Tt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var Ht=0;function ne(r){var a=+new Date,c=Math.max(0,16-(a-Ht));return Ht=a+c,window.setTimeout(r,c)}var ue=window.requestAnimationFrame||Tt("RequestAnimationFrame")||ne,Te=window.cancelAnimationFrame||Tt("CancelAnimationFrame")||Tt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Fe(r,a,c){if(c&&ue===ne)r.call(a);else return ue.call(window,p(r,a))}function nn(r){r&&Te.call(window,r)}var yi={__proto__:null,extend:h,create:f,bind:p,get lastId(){return x},stamp:A,throttle:C,wrapNum:I,falseFn:O,formatNum:U,trim:tt,splitWords:G,setOptions:q,getParamString:K,template:ct,isArray:X,indexOf:Ct,emptyImageUrl:Dt,requestFn:ue,cancelFn:Te,requestAnimFrame:Fe,cancelAnimFrame:nn};function dn(){}dn.extend=function(r){var a=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,_=f(c);_.constructor=a,a.prototype=_;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(a[y]=this[y]);return r.statics&&h(a,r.statics),r.includes&&(Br(r.includes),h.apply(null,[_].concat(r.includes))),h(_,r),delete _.statics,delete _.includes,_.options&&(_.options=c.options?f(c.options):{},h(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,k=_._initHooks.length;P<k;P++)_._initHooks[P].call(this)}},a},dn.include=function(r){var a=this.prototype.options;return h(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},dn.mergeOptions=function(r){return h(this.prototype.options,r),this},dn.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Br(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=X(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pe={on:function(r,a,c){if(typeof r=="object")for(var _ in r)this._on(_,r[_],a);else{r=G(r);for(var y=0,P=r.length;y<P;y++)this._on(r[y],a,c)}return this},off:function(r,a,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],a);else{r=G(r);for(var y=arguments.length===1,P=0,k=r.length;P<k;P++)y?this._off(r[P]):this._off(r[P],a,c)}return this},_on:function(r,a,c,_){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,c)===!1){c===this&&(c=void 0);var y={fn:a,ctx:c};_&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}},_off:function(r,a,c){var _,y,P;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(y=0,P=_.length;y<P;y++)_[y].fn=O;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var k=this._listens(r,a,c);if(k!==!1){var F=_[k];this._firingCount&&(F.fn=O,this._events[r]=_=_.slice()),_.splice(k,1)}}},fire:function(r,a,c){if(!this.listens(r,c))return this;var _=h({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var P=0,k=y.length;P<k;P++){var F=y[P],W=F.fn;F.once&&this.off(r,W,F.ctx),W.call(F.ctx||this,_)}this._firingCount--}}return c&&this._propagateEvent(_),this},listens:function(r,a,c,_){typeof r!="string"&&console.warn('"string" type argument expected');var y=a;typeof a!="function"&&(_=!!a,y=void 0,c=void 0);var P=this._events&&this._events[r];if(P&&P.length&&this._listens(r,y,c)!==!1)return!0;if(_){for(var k in this._eventParents)if(this._eventParents[k].listens(r,a,c,_))return!0}return!1},_listens:function(r,a,c){if(!this._events)return!1;var _=this._events[r]||[];if(!a)return!!_.length;c===this&&(c=void 0);for(var y=0,P=_.length;y<P;y++)if(_[y].fn===a&&_[y].ctx===c)return y;return!1},once:function(r,a,c){if(typeof r=="object")for(var _ in r)this._on(_,r[_],a,!0);else{r=G(r);for(var y=0,P=r.length;y<P;y++)this._on(r[y],a,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[A(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[A(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,h({layer:r.target,propagatedFrom:r.target},r),!0)}};pe.addEventListener=pe.on,pe.removeEventListener=pe.clearAllEventListeners=pe.off,pe.addOneTimeEventListener=pe.once,pe.fireEvent=pe.fire,pe.hasEventListeners=pe.listens;var Jt=dn.extend(pe);function ft(r,a,c){this.x=c?Math.round(r):r,this.y=c?Math.round(a):a}var xi=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(r){return this.clone()._add(kt(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(kt(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ft(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ft(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=xi(this.x),this.y=xi(this.y),this},distanceTo:function(r){r=kt(r);var a=r.x-this.x,c=r.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(r){return r=kt(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=kt(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+U(this.x)+", "+U(this.y)+")"}};function kt(r,a,c){return r instanceof ft?r:X(r)?new ft(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ft(r.x,r.y):new ft(r,a,c)}function Ft(r,a){if(r)for(var c=a?[r,a]:r,_=0,y=c.length;_<y;_++)this.extend(c[_])}Ft.prototype={extend:function(r){var a,c;if(!r)return this;if(r instanceof ft||typeof r[0]=="number"||"x"in r)a=c=kt(r);else if(r=Ee(r),a=r.min,c=r.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return kt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return kt(this.min.x,this.max.y)},getTopRight:function(){return kt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,c;return typeof r[0]=="number"||r instanceof ft?r=kt(r):r=Ee(r),r instanceof Ft?(a=r.min,c=r.max):a=c=r,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=Ee(r);var a=this.min,c=this.max,_=r.min,y=r.max,P=y.x>=a.x&&_.x<=c.x,k=y.y>=a.y&&_.y<=c.y;return P&&k},overlaps:function(r){r=Ee(r);var a=this.min,c=this.max,_=r.min,y=r.max,P=y.x>a.x&&_.x<c.x,k=y.y>a.y&&_.y<c.y;return P&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,c=this.max,_=Math.abs(a.x-c.x)*r,y=Math.abs(a.y-c.y)*r;return Ee(kt(a.x-_,a.y-y),kt(c.x+_,c.y+y))},equals:function(r){return r?(r=Ee(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function Ee(r,a){return!r||r instanceof Ft?r:new Ft(r,a)}function pn(r,a){if(r)for(var c=a?[r,a]:r,_=0,y=c.length;_<y;_++)this.extend(c[_])}pn.prototype={extend:function(r){var a=this._southWest,c=this._northEast,_,y;if(r instanceof Kt)_=r,y=r;else if(r instanceof pn){if(_=r._southWest,y=r._northEast,!_||!y)return this}else return r?this.extend(jt(r)||qe(r)):this;return!a&&!c?(this._southWest=new Kt(_.lat,_.lng),this._northEast=new Kt(y.lat,y.lng)):(a.lat=Math.min(_.lat,a.lat),a.lng=Math.min(_.lng,a.lng),c.lat=Math.max(y.lat,c.lat),c.lng=Math.max(y.lng,c.lng)),this},pad:function(r){var a=this._southWest,c=this._northEast,_=Math.abs(a.lat-c.lat)*r,y=Math.abs(a.lng-c.lng)*r;return new pn(new Kt(a.lat-_,a.lng-y),new Kt(c.lat+_,c.lng+y))},getCenter:function(){return new Kt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Kt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Kt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Kt||"lat"in r?r=jt(r):r=qe(r);var a=this._southWest,c=this._northEast,_,y;return r instanceof pn?(_=r.getSouthWest(),y=r.getNorthEast()):_=y=r,_.lat>=a.lat&&y.lat<=c.lat&&_.lng>=a.lng&&y.lng<=c.lng},intersects:function(r){r=qe(r);var a=this._southWest,c=this._northEast,_=r.getSouthWest(),y=r.getNorthEast(),P=y.lat>=a.lat&&_.lat<=c.lat,k=y.lng>=a.lng&&_.lng<=c.lng;return P&&k},overlaps:function(r){r=qe(r);var a=this._southWest,c=this._northEast,_=r.getSouthWest(),y=r.getNorthEast(),P=y.lat>a.lat&&_.lat<c.lat,k=y.lng>a.lng&&_.lng<c.lng;return P&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=qe(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function qe(r,a){return r instanceof pn?r:new pn(r,a)}function Kt(r,a,c){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,c!==void 0&&(this.alt=+c)}Kt.prototype={equals:function(r,a){if(!r)return!1;r=jt(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+U(this.lat,r)+", "+U(this.lng,r)+")"},distanceTo:function(r){return Qe.distance(this,jt(r))},wrap:function(){return Qe.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,c=a/Math.cos(Math.PI/180*this.lat);return qe([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new Kt(this.lat,this.lng,this.alt)}};function jt(r,a,c){return r instanceof Kt?r:X(r)&&typeof r[0]!="object"?r.length===3?new Kt(r[0],r[1],r[2]):r.length===2?new Kt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Kt(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new Kt(r,a,c)}var Nn={latLngToPoint:function(r,a){var c=this.projection.project(r),_=this.scale(a);return this.transformation._transform(c,_)},pointToLatLng:function(r,a){var c=this.scale(a),_=this.transformation.untransform(r,c);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(r),_=this.transformation.transform(a.min,c),y=this.transformation.transform(a.max,c);return new Ft(_,y)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?I(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?I(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new Kt(c,a,_)},wrapLatLngBounds:function(r){var a=r.getCenter(),c=this.wrapLatLng(a),_=a.lat-c.lat,y=a.lng-c.lng;if(_===0&&y===0)return r;var P=r.getSouthWest(),k=r.getNorthEast(),F=new Kt(P.lat-_,P.lng-y),W=new Kt(k.lat-_,k.lng-y);return new pn(F,W)}},Qe=h({},Nn,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var c=Math.PI/180,_=r.lat*c,y=a.lat*c,P=Math.sin((a.lat-r.lat)*c/2),k=Math.sin((a.lng-r.lng)*c/2),F=P*P+Math.cos(_)*Math.cos(y)*k*k,W=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*W}}),Hn=6378137,Mi={R:Hn,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,c=this.MAX_LATITUDE,_=Math.max(Math.min(c,r.lat),-c),y=Math.sin(_*a);return new ft(this.R*r.lng*a,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var a=180/Math.PI;return new Kt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=Hn*Math.PI;return new Ft([-r,-r],[r,r])}()};function $n(r,a,c,_){if(X(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=c,this._d=_}$n.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new ft((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function Dn(r,a,c,_){return new $n(r,a,c,_)}var R=h({},Qe,{code:"EPSG:3857",projection:Mi,transformation:function(){var r=.5/(Math.PI*Mi.R);return Dn(r,.5,-r,.5)}()}),N=h({},R,{code:"EPSG:900913"});function H(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function st(r,a){var c="",_,y,P,k,F,W;for(_=0,P=r.length;_<P;_++){for(F=r[_],y=0,k=F.length;y<k;y++)W=F[y],c+=(y?"L":"M")+W.x+" "+W.y;c+=a?Rt.svg?"z":"x":""}return c||"M0 0"}var Y=document.documentElement.style,ot="ActiveXObject"in window,gt=ot&&!document.addEventListener,ut="msLaunchUri"in navigator&&!("documentMode"in document),et=wi("webkit"),Q=wi("android"),mt=wi("android 2")||wi("android 3"),Bt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Lt=Q&&wi("Google")&&Bt<537&&!("AudioNode"in window),Wt=!!window.opera,Ut=!ut&&wi("chrome"),ee=wi("gecko")&&!et&&!Wt&&!ot,re=!Ut&&wi("safari"),Ie=wi("phantom"),fn="OTransition"in Y,ti=navigator.platform.indexOf("Win")===0,Oi=ot&&"transition"in Y,Vn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mt,Bi="MozPerspective"in Y,rn=!window.L_DISABLE_3D&&(Oi||Vn||Bi)&&!fn&&!Ie,$e=typeof orientation<"u"||wi("mobile"),Yo=$e&&et,Vl=$e&&Vn,tl=!window.PointerEvent&&window.MSPointerEvent,Jo=!!(window.PointerEvent||tl),Xo="ontouchstart"in window||!!window.TouchEvent,ql=!window.L_NO_TOUCH&&(Xo||Jo),Gl=$e&&Wt,Yl=$e&&ee,Jl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,As=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",O,a),window.removeEventListener("testPassiveEventSupport",O,a)}catch{}return r}(),Xl=function(){return!!document.createElement("canvas").getContext}(),Ts=!!(document.createElementNS&&H("svg").createSVGRect),Kl=!!Ts&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Kr=!Ts&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Ql=navigator.platform.indexOf("Mac")===0,Qr=navigator.platform.indexOf("Linux")===0;function wi(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Rt={ie:ot,ielt9:gt,edge:ut,webkit:et,android:Q,android23:mt,androidStock:Lt,opera:Wt,chrome:Ut,gecko:ee,safari:re,phantom:Ie,opera12:fn,win:ti,ie3d:Oi,webkit3d:Vn,gecko3d:Bi,any3d:rn,mobile:$e,mobileWebkit:Yo,mobileWebkit3d:Vl,msPointer:tl,pointer:Jo,touch:ql,touchNative:Xo,mobileOpera:Gl,mobileGecko:Yl,retina:Jl,passiveEvents:As,canvas:Xl,svg:Ts,vml:Kr,inlineSvg:Kl,mac:Ql,linux:Qr},el=Rt.msPointer?"MSPointerDown":"pointerdown",nl=Rt.msPointer?"MSPointerMove":"pointermove",il=Rt.msPointer?"MSPointerUp":"pointerup",rl=Rt.msPointer?"MSPointerCancel":"pointercancel",Es={touchstart:el,touchmove:nl,touchend:il,touchcancel:rl},ol={touchstart:ur,touchmove:Ko,touchend:Ko,touchcancel:Ko},Hi={},sl=!1;function $l(r,a,c){return a==="touchstart"&&lr(),ol[a]?(c=ol[a].bind(this,c),r.addEventListener(Es[a],c,!1),c):(console.warn("wrong event specified:",a),O)}function tu(r,a,c){if(!Es[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(Es[a],c,!1)}function eu(r){Hi[r.pointerId]=r}function nu(r){Hi[r.pointerId]&&(Hi[r.pointerId]=r)}function al(r){delete Hi[r.pointerId]}function lr(){sl||(document.addEventListener(el,eu,!0),document.addEventListener(nl,nu,!0),document.addEventListener(il,al,!0),document.addEventListener(rl,al,!0),sl=!0)}function Ko(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in Hi)a.touches.push(Hi[c]);a.changedTouches=[a],r(a)}}function ur(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Pt(a),Ko(r,a)}function iu(r){var a={},c,_;for(_ in r)c=r[_],a[_]=c&&c.bind?c.bind(r):c;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var ru=200;function ou(r,a){r.addEventListener("dblclick",a);var c=0,_;function y(P){if(P.detail!==1){_=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var k=fl(P);if(!(k.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!k.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var F=Date.now();F-c<=ru?(_++,_===2&&a(iu(P))):_=1,c=F}}}return r.addEventListener("click",y),{dblclick:a,simDblclick:y}}function Is(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var $r=qi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hr=qi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ll=hr==="webkitTransition"||hr==="OTransition"?hr+"End":"transitionend";function ul(r){return typeof r=="string"?document.getElementById(r):r}function to(r,a){var c=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);c=_?_[a]:null}return c==="auto"?null:c}function fe(r,a,c){var _=document.createElement(r);return _.className=a||"",c&&c.appendChild(_),_}function Ce(r){var a=r.parentNode;a&&a.removeChild(r)}function Rr(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Vi(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function bi(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Cs(r,a){if(r.classList!==void 0)return r.classList.contains(a);var c=Qo(r);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function qt(r,a){if(r.classList!==void 0)for(var c=G(a),_=0,y=c.length;_<y;_++)r.classList.add(c[_]);else if(!Cs(r,a)){var P=Qo(r);eo(r,(P?P+" ":"")+a)}}function ve(r,a){r.classList!==void 0?r.classList.remove(a):eo(r,tt((" "+Qo(r)+" ").replace(" "+a+" "," ")))}function eo(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function Qo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Fn(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&Ss(r,a)}function Ss(r,a){var c=!1,_="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(_)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):r.style.filter+=" progid:"+_+"(opacity="+a+")"}function qi(r){for(var a=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in a)return r[c];return!1}function cr(r,a,c){var _=a||new ft(0,0);r.style[$r]=(Rt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(c?" scale("+c+")":"")}function Ge(r,a){r._leaflet_pos=a,Rt.any3d?cr(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function ni(r){return r._leaflet_pos||new ft(0,0)}var Ri,Ln,no;if("onselectstart"in document)Ri=function(){Gt(window,"selectstart",Pt)},Ln=function(){be(window,"selectstart",Pt)};else{var fr=qi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ri=function(){if(fr){var r=document.documentElement.style;no=r[fr],r[fr]="none"}},Ln=function(){fr&&(document.documentElement.style[fr]=no,no=void 0)}}function Ms(){Gt(window,"dragstart",Pt)}function io(){be(window,"dragstart",Pt)}var kr,ro;function oo(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&($o(),kr=r,ro=r.style.outlineStyle,r.style.outlineStyle="none",Gt(window,"keydown",$o))}function $o(){kr&&(kr.style.outlineStyle=ro,kr=void 0,ro=void 0,be(window,"keydown",$o))}function hl(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Os(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var Bs={__proto__:null,TRANSFORM:$r,TRANSITION:hr,TRANSITION_END:ll,get:ul,getStyle:to,create:fe,remove:Ce,empty:Rr,toFront:Vi,toBack:bi,hasClass:Cs,addClass:qt,removeClass:ve,setClass:eo,getClass:Qo,setOpacity:Fn,testProp:qi,setTransform:cr,setPosition:Ge,getPosition:ni,get disableTextSelection(){return Ri},get enableTextSelection(){return Ln},disableImageDrag:Ms,enableImageDrag:io,preventOutline:oo,restoreOutline:$o,getSizedParentNode:hl,getScale:Os};function Gt(r,a,c,_){if(a&&typeof a=="object")for(var y in a)Rs(r,y,a[y],c);else{a=G(a);for(var P=0,k=a.length;P<k;P++)Rs(r,a[P],c,_)}return this}var Li="_leaflet_events";function be(r,a,c,_){if(arguments.length===1)cl(r),delete r[Li];else if(a&&typeof a=="object")for(var y in a)ks(r,y,a[y],c);else if(a=G(a),arguments.length===2)cl(r,function(F){return Ct(a,F)!==-1});else for(var P=0,k=a.length;P<k;P++)ks(r,a[P],c,_);return this}function cl(r,a){for(var c in r[Li]){var _=c.split(/\d/)[0];(!a||a(_))&&ks(r,_,null,null,c)}}var dr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rs(r,a,c,_){var y=a+A(c)+(_?"_"+A(_):"");if(r[Li]&&r[Li][y])return this;var P=function(F){return c.call(_||r,F||window.event)},k=P;!Rt.touchNative&&Rt.pointer&&a.indexOf("touch")===0?P=$l(r,a,P):Rt.touch&&a==="dblclick"?P=ou(r,P):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(dr[a]||a,P,Rt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(P=function(F){F=F||window.event,Ns(r,F)&&k(F)},r.addEventListener(dr[a],P,!1)):r.addEventListener(a,k,!1):r.attachEvent("on"+a,P),r[Li]=r[Li]||{},r[Li][y]=P}function ks(r,a,c,_,y){y=y||a+A(c)+(_?"_"+A(_):"");var P=r[Li]&&r[Li][y];if(!P)return this;!Rt.touchNative&&Rt.pointer&&a.indexOf("touch")===0?tu(r,a,P):Rt.touch&&a==="dblclick"?Is(r,P):"removeEventListener"in r?r.removeEventListener(dr[a]||a,P,!1):r.detachEvent("on"+a,P),r[Li][y]=null}function pr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function zs(r){return Rs(r,"wheel",pr),this}function so(r){return Gt(r,"mousedown touchstart dblclick contextmenu",pr),r._leaflet_disable_click=!0,this}function Pt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function St(r){return Pt(r),pr(r),this}function fl(r){if(r.composedPath)return r.composedPath();for(var a=[],c=r.target;c;)a.push(c),c=c.parentNode;return a}function dl(r,a){if(!a)return new ft(r.clientX,r.clientY);var c=Os(a),_=c.boundingClientRect;return new ft((r.clientX-_.left)/c.x-a.clientLeft,(r.clientY-_.top)/c.y-a.clientTop)}var su=Rt.linux&&Rt.chrome?window.devicePixelRatio:Rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function pl(r){return Rt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/su:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ns(r,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var au={__proto__:null,on:Gt,off:be,stopPropagation:pr,disableScrollPropagation:zs,disableClickPropagation:so,preventDefault:Pt,stop:St,getPropagationPath:fl,getMousePosition:dl,getWheelDelta:pl,isExternalTarget:Ns,addListener:Gt,removeListener:be},ts=Jt.extend({run:function(r,a,c,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=ni(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Fe(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var c=this._startPos.add(this._offset.multiplyBy(r));a&&c._round(),Ge(this._el,c),this.fire("step")},_complete:function(){nn(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ae=Jt.extend({options:{crs:R,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=q(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(jt(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hr&&Rt.any3d&&!Rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Gt(this._proxy,ll,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(jt(r),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=h({animate:c.animate},c.zoom),c.pan=h({animate:c.animate,duration:c.duration},c.pan));var _=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,c.zoom):this._tryAnimatedPan(r,c.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,c){var _=this.getZoomScale(a),y=this.getSize().divideBy(2),P=r instanceof ft?r:this.latLngToContainerPoint(r),k=P.subtract(y).multiplyBy(1-1/_),F=this.containerPointToLatLng(y.add(k));return this.setView(F,a,{zoom:c})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():qe(r);var c=kt(a.paddingTopLeft||a.padding||[0,0]),_=kt(a.paddingBottomRight||a.padding||[0,0]),y=this.getBoundsZoom(r,!1,c.add(_));if(y=typeof a.maxZoom=="number"?Math.min(a.maxZoom,y):y,y===1/0)return{center:r.getCenter(),zoom:y};var P=_.subtract(c).divideBy(2),k=this.project(r.getSouthWest(),y),F=this.project(r.getNorthEast(),y),W=this.unproject(k.add(F).divideBy(2).add(P),y);return{center:W,zoom:y}},fitBounds:function(r,a){if(r=qe(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=kt(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ts,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,c){if(c=c||{},c.animate===!1||!Rt.any3d)return this.setView(r,a,c);this._stop();var _=this.project(this.getCenter()),y=this.project(r),P=this.getSize(),k=this._zoom;r=jt(r),a=a===void 0?k:a;var F=Math.max(P.x,P.y),W=F*this.getZoomScale(k,a),$=y.distanceTo(_)||1,yt=1.42,Mt=yt*yt;function Yt(me){var Zr=me?-1:1,g=me?W:F,li=W*W-F*F+Zr*Mt*Mt*$*$,yr=2*g*Mt*$,Oe=li/yr,xt=Math.sqrt(Oe*Oe+1)-Oe,wu=xt<1e-9?-18:Math.log(xt);return wu}function Me(me){return(Math.exp(me)-Math.exp(-me))/2}function Pe(me){return(Math.exp(me)+Math.exp(-me))/2}function tn(me){return Me(me)/Pe(me)}var en=Yt(0);function bn(me){return F*(Pe(en)/Pe(en+yt*me))}function mu(me){return F*(Pe(en)*tn(en+yt*me)-Me(en))/Mt}function vu(me){return 1-Math.pow(1-me,1.5)}var yu=Date.now(),bl=(Yt(1)-en)/yt,xu=c.duration?1e3*c.duration:1e3*bl*.8;function ir(){var me=(Date.now()-yu)/xu,Zr=vu(me)*bl;me<=1?(this._flyToFrame=Fe(ir,this),this._move(this.unproject(_.add(y.subtract(_).multiplyBy(mu(Zr)/$)),k),this.getScaleZoom(F/bn(Zr),k),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),ir.call(this),this},flyToBounds:function(r,a){var c=this._getBoundsCenterZoom(r,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(r){return r=qe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var c=this.getCenter(),_=this._limitCenter(c,this._zoom,qe(r));return c.equals(_)||this.panTo(_,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var c=kt(a.paddingTopLeft||a.padding||[0,0]),_=kt(a.paddingBottomRight||a.padding||[0,0]),y=this.project(this.getCenter()),P=this.project(r),k=this.getPixelBounds(),F=Ee([k.min.add(c),k.max.subtract(_)]),W=F.getSize();if(!F.contains(P)){this._enforcingBounds=!0;var $=P.subtract(F.getCenter()),yt=F.extend(P).getSize().subtract(W);y.x+=$.x<0?-yt.x:yt.x,y.y+=$.y<0?-yt.y:yt.y,this.panTo(this.unproject(y),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=h({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),_=a.divideBy(2).round(),y=c.divideBy(2).round(),P=_.subtract(y);return!P.x&&!P.y?this:(r.animate&&r.pan?this.panBy(P):(r.pan&&this._rawPanBy(P),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=h({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=p(this._handleGeolocationResponse,this),c=p(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,r):navigator.geolocation.getCurrentPosition(a,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,c=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,c=r.coords.longitude,_=new Kt(a,c),y=_.toBounds(r.coords.accuracy*2),P=this._locateOptions;if(P.setView){var k=this.getBoundsZoom(y);this.setView(_,P.maxZoom?Math.min(k,P.maxZoom):k)}var F={latlng:_,bounds:y,timestamp:r.timestamp};for(var W in r.coords)typeof r.coords[W]=="number"&&(F[W]=r.coords[W]);this.fire("locationfound",F)}},addHandler:function(r,a){if(!a)return this;var c=this[r]=new a(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(nn(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ce(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=fe("div",c,a||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new pn(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,c){r=qe(r),c=kt(c||[0,0]);var _=this.getZoom()||0,y=this.getMinZoom(),P=this.getMaxZoom(),k=r.getNorthWest(),F=r.getSouthEast(),W=this.getSize().subtract(c),$=Ee(this.project(F,_),this.project(k,_)).getSize(),yt=Rt.any3d?this.options.zoomSnap:1,Mt=W.x/$.x,Yt=W.y/$.y,Me=a?Math.max(Mt,Yt):Math.min(Mt,Yt);return _=this.getScaleZoom(Me,_),yt&&(_=Math.round(_/(yt/100))*(yt/100),_=a?Math.ceil(_/yt)*yt:Math.floor(_/yt)*yt),Math.max(y,Math.min(P,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var c=this._getTopLeftPoint(r,a);return new Ft(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(r)/c.scale(a)},getScaleZoom:function(r,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var _=c.zoom(r*c.scale(a));return isNaN(_)?1/0:_},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(jt(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(kt(r),a)},layerPointToLatLng:function(r){var a=kt(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(jt(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(jt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(qe(r))},distance:function(r,a){return this.options.crs.distance(jt(r),jt(a))},containerPointToLayerPoint:function(r){return kt(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return kt(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(kt(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(jt(r)))},mouseEventToContainerPoint:function(r){return dl(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=ul(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Gt(a,"scroll",this._onScroll,this),this._containerId=A(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Rt.any3d,qt(r,"leaflet-container"+(Rt.touch?" leaflet-touch":"")+(Rt.retina?" leaflet-retina":"")+(Rt.ielt9?" leaflet-oldie":"")+(Rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=to(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ge(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(r.markerPane,"leaflet-zoom-hide"),qt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,c){Ge(this._mapPane,new ft(0,0));var _=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var y=this._zoom!==a;this._moveStart(y,c)._move(r,a)._moveEnd(y),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,c,_){a===void 0&&(a=this._zoom);var y=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?c&&c.pinch&&this.fire("zoom",c):((y||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return nn(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ge(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[A(this._container)]=this;var a=r?be:Gt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Rt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){nn(this._resizeRequest),this._resizeRequest=Fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var c=[],_,y=a==="mouseout"||a==="mouseover",P=r.target||r.srcElement,k=!1;P;){if(_=this._targets[A(P)],_&&(a==="click"||a==="preclick")&&this._draggableMoved(_)){k=!0;break}if(_&&_.listens(a,!0)&&(y&&!Ns(P,r)||(c.push(_),y))||P===this._container)break;P=P.parentNode}return!c.length&&!k&&!y&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var c=r.type;c==="mousedown"&&oo(a),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,c){if(r.type==="click"){var _=h({},r);_.type="preclick",this._fireDOMEvent(_,_.type,c)}var y=this._findEventTargets(r,a);if(c){for(var P=[],k=0;k<c.length;k++)c[k].listens(a,!0)&&P.push(c[k]);y=P.concat(y)}if(y.length){a==="contextmenu"&&Pt(r);var F=y[0],W={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var $=F.getLatLng&&(!F._radius||F._radius<=10);W.containerPoint=$?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(r),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=$?F.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(k=0;k<y.length;k++)if(y[k].fire(a,W,!0),W.originalEvent._stopped||y[k].options.bubblingMouseEvents===!1&&Ct(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return ni(this._mapPane)||new ft(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var c=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var c=this.getSize()._divideBy(2);return this.project(r,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,c){var _=this._getNewPixelOrigin(c,a);return this.project(r,a)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,a,c){var _=this._getNewPixelOrigin(c,a);return Ee([this.project(r.getSouthWest(),a)._subtract(_),this.project(r.getNorthWest(),a)._subtract(_),this.project(r.getSouthEast(),a)._subtract(_),this.project(r.getNorthEast(),a)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,c){if(!c)return r;var _=this.project(r,a),y=this.getSize().divideBy(2),P=new Ft(_.subtract(y),_.add(y)),k=this._getBoundsOffset(P,c,a);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?r:this.unproject(_.add(k),a)},_limitOffset:function(r,a){if(!a)return r;var c=this.getPixelBounds(),_=new Ft(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(_,a))},_getBoundsOffset:function(r,a,c){var _=Ee(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),y=_.min.subtract(r.min),P=_.max.subtract(r.max),k=this._rebound(y.x,-P.x),F=this._rebound(y.y,-P.y);return new ft(k,F)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),c=this.getMaxZoom(),_=Rt.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(a,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var c=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var r=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var c=$r,_=this._proxy.style[c];cr(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),_===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();cr(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(a),y=this._getCenterOffset(r)._divideBy(1-1/_);return c.animate!==!0&&!this.getSize().contains(y)?!1:(Fe(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,c,_){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function he(r,a){return new ae(r,a)}var Pn=dn.extend({options:{position:"topright"},initialize:function(r){q(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),c=this.getPosition(),_=r._controlCorners[c];return qt(a,"leaflet-control"),c.indexOf("bottom")!==-1?_.insertBefore(a,_.firstChild):_.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),_n=function(r){return new Pn(r)};ae.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",c=this._controlContainer=fe("div",a+"control-container",this._container);function _(y,P){var k=a+y+" "+a+P;r[y+P]=fe("div",k,c)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ce(this._controlCorners[r]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var es=Pn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,c,_){return c<_?-1:_<c?1:0}},initialize:function(r,a,c){q(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in a)this._addLayer(a[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Pn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(A(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=fe("div",r),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),so(a),zs(a);var _=this._section=fe("section",r+"-list");c&&(this._map.on("click",this.collapse,this),Gt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=fe("a",r+"-toggle",a);y.href="#",y.title="Layers",y.setAttribute("role","button"),Gt(y,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Pt(P),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=fe("div",r+"-base",_),this._separator=fe("div",r+"-separator",_),this._overlaysList=fe("div",r+"-overlays",_),a.appendChild(_)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&A(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(p(function(_,y){return this.options.sortFunction(_.layer,y.layer,_.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rr(this._baseLayersList),Rr(this._overlaysList),this._layerControlInputs=[];var r,a,c,_,y=0;for(c=0;c<this._layers.length;c++)_=this._layers[c],this._addItem(_),a=a||_.overlay,r=r||!_.overlay,y+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&y>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(A(r.target)),c=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(r,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=c,_.firstChild},_addItem:function(r){var a=document.createElement("label"),c=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=c):_=this._createRadioElement("leaflet-base-layers_"+A(this),c),this._layerControlInputs.push(_),_.layerId=A(r.layer),Gt(_,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var P=document.createElement("span");a.appendChild(P),P.appendChild(_),P.appendChild(y);var k=r.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,c,_=[],y=[];this._handlingClick=!0;for(var P=r.length-1;P>=0;P--)a=r[P],c=this._getLayer(a.layerId).layer,a.checked?_.push(c):a.checked||y.push(c);for(P=0;P<y.length;P++)this._map.hasLayer(y[P])&&this._map.removeLayer(y[P]);for(P=0;P<_.length;P++)this._map.hasLayer(_[P])||this._map.addLayer(_[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,c,_=this._map.getZoom(),y=r.length-1;y>=0;y--)a=r[y],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&_<c.options.minZoom||c.options.maxZoom!==void 0&&_>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Gt(r,"click",Pt),this.expand();var a=this;setTimeout(function(){be(r,"click",Pt),a._preventClick=!1})}}),ao=function(r,a,c){return new es(r,a,c)},Se=Pn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",c=fe("div",a+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,c,_,y){var P=fe("a",c,_);return P.innerHTML=r,P.href="#",P.title=a,P.setAttribute("role","button"),P.setAttribute("aria-label",a),so(P),Gt(P,"click",St),Gt(P,"click",y,this),Gt(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";ve(this._zoomInButton,a),ve(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(qt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(qt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ae.mergeOptions({zoomControl:!0}),ae.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Se,this.addControl(this.zoomControl))});var Ds=function(r){return new Se(r)},ns=Pn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",c=fe("div",a),_=this.options;return this._addScales(_,a+"-line",c),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,c){r.metric&&(this._mScale=fe("div",a,c)),r.imperial&&(this._iScale=fe("div",a,c))},_update:function(){var r=this._map,a=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/r)},_updateImperial:function(r){var a=r*3.2808399,c,_,y;a>5280?(c=a/5280,_=this._getRoundNum(c),this._updateScale(this._iScale,_+" mi",_/c)):(y=this._getRoundNum(a),this._updateScale(this._iScale,y+" ft",y/a))},_updateScale:function(r,a,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),c=r/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),Fs=function(r){return new ns(r)},Us='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',lo=Pn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Rt.inlineSvg?Us+" ":"")+"Leaflet</a>"},initialize:function(r){q(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),so(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ae.mergeOptions({attributionControl:!0}),ae.addInitHook(function(){this.options.attributionControl&&new lo().addTo(this)});var Zs=function(r){return new lo(r)};Pn.Layers=es,Pn.Zoom=Se,Pn.Scale=ns,Pn.Attribution=lo,_n.layers=ao,_n.zoom=Ds,_n.scale=Fs,_n.attribution=Zs;var le=dn.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});le.addTo=function(r,a){return r.addHandler(a,this),this};var lu={Events:pe},Ue=Rt.touch?"touchstart mousedown":"mousedown",Gi=Jt.extend({options:{clickTolerance:3},initialize:function(r,a,c,_){q(this,_),this._element=r,this._dragStartTarget=a||r,this._preventOutline=c},enable:function(){this._enabled||(Gt(this._dragStartTarget,Ue,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gi._dragging===this&&this.finishDrag(!0),be(this._dragStartTarget,Ue,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Cs(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Gi._dragging===this&&this.finishDrag();return}if(!(Gi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Gi._dragging=this,this._preventOutline&&oo(this._element),Ms(),Ri(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,c=hl(this._element);this._startPoint=new ft(a.clientX,a.clientY),this._startPos=ni(this._element),this._parentScale=Os(c);var _=r.type==="mousedown";Gt(document,_?"mousemove":"touchmove",this._onMove,this),Gt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,c=new ft(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Pt(r),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ge(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),be(document,"mousemove touchmove",this._onMove,this),be(document,"mouseup touchend touchcancel",this._onUp,this),io(),Ln();var a=this._moved&&this._moving;this._moving=!1,Gi._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function is(r,a,c){var _,y=[1,4,2,8],P,k,F,W,$,yt,Mt,Yt;for(P=0,yt=r.length;P<yt;P++)r[P]._code=qn(r[P],a);for(F=0;F<4;F++){for(Mt=y[F],_=[],P=0,yt=r.length,k=yt-1;P<yt;k=P++)W=r[P],$=r[k],W._code&Mt?$._code&Mt||(Yt=zr($,W,Mt,a,c),Yt._code=qn(Yt,a),_.push(Yt)):($._code&Mt&&(Yt=zr($,W,Mt,a,c),Yt._code=qn(Yt,a),_.push(Yt)),_.push(W));r=_}return r}function yn(r,a){var c,_,y,P,k,F,W,$,yt;if(!r||r.length===0)throw new Error("latlngs not passed");Un(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Mt=jt([0,0]),Yt=qe(r),Me=Yt.getNorthWest().distanceTo(Yt.getSouthWest())*Yt.getNorthEast().distanceTo(Yt.getNorthWest());Me<1700&&(Mt=ki(r));var Pe=r.length,tn=[];for(c=0;c<Pe;c++){var en=jt(r[c]);tn.push(a.project(jt([en.lat-Mt.lat,en.lng-Mt.lng])))}for(F=W=$=0,c=0,_=Pe-1;c<Pe;_=c++)y=tn[c],P=tn[_],k=y.y*P.x-P.y*y.x,W+=(y.x+P.x)*k,$+=(y.y+P.y)*k,F+=k*3;F===0?yt=tn[0]:yt=[W/F,$/F];var bn=a.unproject(kt(yt));return jt([bn.lat+Mt.lat,bn.lng+Mt.lng])}function ki(r){for(var a=0,c=0,_=0,y=0;y<r.length;y++){var P=jt(r[y]);a+=P.lat,c+=P.lng,_++}return jt([a/_,c/_])}var uo={__proto__:null,clipPolygon:is,polygonCenter:yn,centroid:ki};function Zt(r,a){if(!a||!r.length)return r.slice();var c=a*a;return r=hu(r,c),r=uu(r,c),r}function xn(r,a,c){return Math.sqrt(co(r,a,c,!0))}function ho(r,a,c){return co(r,a,c)}function uu(r,a){var c=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,y=new _(c);y[0]=y[c-1]=1,_r(r,y,a,0,c-1);var P,k=[];for(P=0;P<c;P++)y[P]&&k.push(r[P]);return k}function _r(r,a,c,_,y){var P=0,k,F,W;for(F=_+1;F<=y-1;F++)W=co(r[F],r[_],r[y],!0),W>P&&(k=F,P=W);P>c&&(a[k]=1,_r(r,a,c,_,k),_r(r,a,c,k,y))}function hu(r,a){for(var c=[r[0]],_=1,y=0,P=r.length;_<P;_++)ii(r[_],r[y])>a&&(c.push(r[_]),y=_);return y<P-1&&c.push(r[P-1]),c}var _l;function gl(r,a,c,_,y){var P=_?_l:qn(r,c),k=qn(a,c),F,W,$;for(_l=k;;){if(!(P|k))return[r,a];if(P&k)return!1;F=P||k,W=zr(r,a,F,c,y),$=qn(W,c),F===P?(r=W,P=$):(a=W,k=$)}}function zr(r,a,c,_,y){var P=a.x-r.x,k=a.y-r.y,F=_.min,W=_.max,$,yt;return c&8?($=r.x+P*(W.y-r.y)/k,yt=W.y):c&4?($=r.x+P*(F.y-r.y)/k,yt=F.y):c&2?($=W.x,yt=r.y+k*(W.x-r.x)/P):c&1&&($=F.x,yt=r.y+k*(F.x-r.x)/P),new ft($,yt,y)}function qn(r,a){var c=0;return r.x<a.min.x?c|=1:r.x>a.max.x&&(c|=2),r.y<a.min.y?c|=4:r.y>a.max.y&&(c|=8),c}function ii(r,a){var c=a.x-r.x,_=a.y-r.y;return c*c+_*_}function co(r,a,c,_){var y=a.x,P=a.y,k=c.x-y,F=c.y-P,W=k*k+F*F,$;return W>0&&($=((r.x-y)*k+(r.y-P)*F)/W,$>1?(y=c.x,P=c.y):$>0&&(y+=k*$,P+=F*$)),k=r.x-y,F=r.y-P,_?k*k+F*F:new ft(y,P)}function Un(r){return!X(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function rs(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Un(r)}function Nr(r,a){var c,_,y,P,k,F,W,$;if(!r||r.length===0)throw new Error("latlngs not passed");Un(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var yt=jt([0,0]),Mt=qe(r),Yt=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());Yt<1700&&(yt=ki(r));var Me=r.length,Pe=[];for(c=0;c<Me;c++){var tn=jt(r[c]);Pe.push(a.project(jt([tn.lat-yt.lat,tn.lng-yt.lng])))}for(c=0,_=0;c<Me-1;c++)_+=Pe[c].distanceTo(Pe[c+1])/2;if(_===0)$=Pe[0];else for(c=0,P=0;c<Me-1;c++)if(k=Pe[c],F=Pe[c+1],y=k.distanceTo(F),P+=y,P>_){W=(P-_)/y,$=[F.x-W*(F.x-k.x),F.y-W*(F.y-k.y)];break}var en=a.unproject(kt($));return jt([en.lat+yt.lat,en.lng+yt.lng])}var fo={__proto__:null,simplify:Zt,pointToSegmentDistance:xn,closestPointOnSegment:ho,clipSegment:gl,_getEdgeIntersection:zr,_getBitCode:qn,_sqClosestPointOnSegment:co,isFlat:Un,_flat:rs,polylineCenter:Nr},po={project:function(r){return new ft(r.lng,r.lat)},unproject:function(r){return new Kt(r.y,r.x)},bounds:new Ft([-180,-90],[180,90])},Ws={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ft([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,c=this.R,_=r.lat*a,y=this.R_MINOR/c,P=Math.sqrt(1-y*y),k=P*Math.sin(_),F=Math.tan(Math.PI/4-_/2)/Math.pow((1-k)/(1+k),P/2);return _=-c*Math.log(Math.max(F,1e-10)),new ft(r.lng*a*c,_)},unproject:function(r){for(var a=180/Math.PI,c=this.R,_=this.R_MINOR/c,y=Math.sqrt(1-_*_),P=Math.exp(-r.y/c),k=Math.PI/2-2*Math.atan(P),F=0,W=.1,$;F<15&&Math.abs(W)>1e-7;F++)$=y*Math.sin(k),$=Math.pow((1-$)/(1+$),y/2),W=Math.PI/2-2*Math.atan(P*$)-k,k+=W;return new Kt(k*a,r.x*a/c)}},_o={__proto__:null,LonLat:po,Mercator:Ws,SphericalMercator:Mi},go=h({},Qe,{code:"EPSG:3395",projection:Ws,transformation:function(){var r=.5/(Math.PI*Ws.R);return Dn(r,.5,-r,.5)}()}),ml=h({},Qe,{code:"EPSG:4326",projection:po,transformation:Dn(1/180,1,-1/180,.5)}),js=h({},Nn,{projection:po,transformation:Dn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var c=a.lng-r.lng,_=a.lat-r.lat;return Math.sqrt(c*c+_*_)},infinite:!0});Nn.Earth=Qe,Nn.EPSG3395=go,Nn.EPSG3857=R,Nn.EPSG900913=N,Nn.EPSG4326=ml,Nn.Simple=js;var se=Jt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[A(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[A(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ae.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=A(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=A(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return A(r)in this._layers},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},_addLayers:function(r){r=r?X(r)?r:[r]:[];for(var a=0,c=r.length;a<c;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[A(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=A(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,c=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var y=this._zoomBoundLayers[_].options;r=y.minZoom===void 0?r:Math.min(r,y.minZoom),a=y.maxZoom===void 0?a:Math.max(a,y.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pi=se.extend({initialize:function(r,a){q(this,a),this._layers={};var c,_;if(r)for(c=0,_=r.length;c<_;c++)this.addLayer(r[c])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),c,_;for(c in this._layers)_=this._layers[c],_[r]&&_[r].apply(_,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return A(r)}}),zi=function(r,a){return new Pi(r,a)},ri=Pi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Pi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Pi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new pn;for(var a in this._layers){var c=this._layers[a];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),Hs=function(r,a){return new ri(r,a)},Dr=dn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){q(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,a){var c=this.options,_=c[a+"Size"];typeof _=="number"&&(_=[_,_]);var y=kt(_),P=kt(a==="shadow"&&c.shadowAnchor||c.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(c.className||""),P&&(r.style.marginLeft=-P.x+"px",r.style.marginTop=-P.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return Rt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function cu(r){return new Dr(r)}var mo=Dr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof mo.imagePath!="string"&&(mo.imagePath=this._detectIconPath()),(this.options.imagePath||mo.imagePath)+Dr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(c,_,y){var P=_.exec(c);return P&&P[y]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=fe("div","leaflet-default-icon-path",document.body),a=to(r,"background-image")||to(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),vl=le.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Gi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,c=a._map,_=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,P=ni(a._icon),k=c.getPixelBounds(),F=c.getPixelOrigin(),W=Ee(k.min._subtract(F).add(y),k.max._subtract(F).subtract(y));if(!W.contains(P)){var $=kt((Math.max(W.max.x,P.x)-W.max.x)/(k.max.x-W.max.x)-(Math.min(W.min.x,P.x)-W.min.x)/(k.min.x-W.min.x),(Math.max(W.max.y,P.y)-W.max.y)/(k.max.y-W.max.y)-(Math.min(W.min.y,P.y)-W.min.y)/(k.min.y-W.min.y)).multiplyBy(_);c.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),Ge(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Fe(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(nn(this._panRequest),this._panRequest=Fe(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,c=a._shadow,_=ni(a._icon),y=a._map.layerPointToLatLng(_);c&&Ge(c,_),a._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){nn(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),os=se.extend({options:{icon:new mo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){q(this,a),this._latlng=jt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=jt(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),_=!1;c!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),qt(c,a),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Gt(c,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),P=!1;y!==this._shadow&&(this._removeShadow(),P=!0),y&&(qt(y,a),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&P&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&be(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ge(this._icon,r),this._shadow&&Ge(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Fn(this._icon,r),this._shadow&&Fn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,c=a.iconSize?kt(a.iconSize):kt(0,0),_=a.iconAnchor?kt(a.iconAnchor):kt(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:c.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oi(r,a){return new os(r,a)}var Yi=se.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return q(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ss=Yi.extend({options:{fill:!0,radius:10},initialize:function(r,a){q(this,a),this._latlng=jt(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=jt(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return Yi.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,c=this._clickTolerance(),_=[r+c,a+c];this._pxBounds=new Ft(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vo(r,a){return new ss(r,a)}var yo=ss.extend({initialize:function(r,a,c){if(typeof a=="number"&&(a=h({},c,{radius:a})),q(this,a),this._latlng=jt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new pn(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Yi.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,c=this._map,_=c.options.crs;if(_.distance===Qe.distance){var y=Math.PI/180,P=this._mRadius/Qe.R/y,k=c.project([a+P,r]),F=c.project([a-P,r]),W=k.add(F).divideBy(2),$=c.unproject(W).lat,yt=Math.acos((Math.cos(P*y)-Math.sin(a*y)*Math.sin($*y))/(Math.cos(a*y)*Math.cos($*y)))/y;(isNaN(yt)||yt===0)&&(yt=P/Math.cos(Math.PI/180*a)),this._point=W.subtract(c.getPixelOrigin()),this._radius=isNaN(yt)?0:W.x-c.project([$,r-yt]).x,this._radiusY=W.y-k.y}else{var Mt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Mt).x}this._updateBounds()}});function An(r,a,c){return new yo(r,a,c)}var Tn=Yi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){q(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,c=null,_=co,y,P,k=0,F=this._parts.length;k<F;k++)for(var W=this._parts[k],$=1,yt=W.length;$<yt;$++){y=W[$-1],P=W[$];var Mt=_(r,y,P,!0);Mt<a&&(a=Mt,c=_(r,y,P))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=jt(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new pn,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Un(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],c=Un(r),_=0,y=r.length;_<y;_++)c?(a[_]=jt(r[_]),this._bounds.extend(a[_])):a[_]=this._convertLatLngs(r[_]);return a},_project:function(){var r=new Ft;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new ft(r,r);this._rawPxBounds&&(this._pxBounds=new Ft([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,c){var _=r[0]instanceof Kt,y=r.length,P,k;if(_){for(k=[],P=0;P<y;P++)k[P]=this._map.latLngToLayerPoint(r[P]),c.extend(k[P]);a.push(k)}else for(P=0;P<y;P++)this._projectLatlngs(r[P],a,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,_,y,P,k,F,W;for(c=0,y=0,P=this._rings.length;c<P;c++)for(W=this._rings[c],_=0,k=W.length;_<k-1;_++)F=gl(W[_],W[_+1],r,_,!0),F&&(a[y]=a[y]||[],a[y].push(F[0]),(F[1]!==W[_+1]||_===k-2)&&(a[y].push(F[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,c=0,_=r.length;c<_;c++)r[c]=Zt(r[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var c,_,y,P,k,F,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,P=this._parts.length;c<P;c++)for(F=this._parts[c],_=0,k=F.length,y=k-1;_<k;y=_++)if(!(!a&&_===0)&&xn(r,F[y],F[_])<=W)return!0;return!1}});function fu(r,a){return new Tn(r,a)}Tn._flat=rs;var Fr=Tn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=Tn.prototype._convertLatLngs.call(this,r),c=a.length;return c>=2&&a[0]instanceof Kt&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(r){Tn.prototype._setLatLngs.call(this,r),Un(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Un(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,c=new ft(a,a);if(r=new Ft(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,y=this._rings.length,P;_<y;_++)P=is(this._rings[_],r,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,c,_,y,P,k,F,W,$;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(P=0,W=this._parts.length;P<W;P++)for(c=this._parts[P],k=0,$=c.length,F=$-1;k<$;F=k++)_=c[k],y=c[F],_.y>r.y!=y.y>r.y&&r.x<(y.x-_.x)*(r.y-_.y)/(y.y-_.y)+_.x&&(a=!a);return a||Tn.prototype._containsPoint.call(this,r,!0)}});function du(r,a){return new Fr(r,a)}var on=ri.extend({initialize:function(r,a){q(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=X(r)?r:r.features,c,_,y;if(a){for(c=0,_=a.length;c<_;c++)y=a[c],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var P=this.options;if(P.filter&&!P.filter(r))return this;var k=Ze(r,P);return k?(k.feature=Zn(r),k.defaultOptions=k.options,this.resetStyle(k),P.onEachFeature&&P.onEachFeature(r,k),this.addLayer(k)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=h({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function Ze(r,a){var c=r.type==="Feature"?r.geometry:r,_=c?c.coordinates:null,y=[],P=a&&a.pointToLayer,k=a&&a.coordsToLatLng||Vs,F,W,$,yt;if(!_&&!c)return null;switch(c.type){case"Point":return F=k(_),as(P,r,F,a);case"MultiPoint":for($=0,yt=_.length;$<yt;$++)F=k(_[$]),y.push(as(P,r,F,a));return new ri(y);case"LineString":case"MultiLineString":return W=ls(_,c.type==="LineString"?0:1,k),new Tn(W,a);case"Polygon":case"MultiPolygon":return W=ls(_,c.type==="Polygon"?1:2,k),new Fr(W,a);case"GeometryCollection":for($=0,yt=c.geometries.length;$<yt;$++){var Mt=Ze({geometry:c.geometries[$],type:"Feature",properties:r.properties},a);Mt&&y.push(Mt)}return new ri(y);case"FeatureCollection":for($=0,yt=c.features.length;$<yt;$++){var Yt=Ze(c.features[$],a);Yt&&y.push(Yt)}return new ri(y);default:throw new Error("Invalid GeoJSON object.")}}function as(r,a,c,_){return r?r(a,c):new os(c,_&&_.markersInheritOptions&&_)}function Vs(r){return new Kt(r[1],r[0],r[2])}function ls(r,a,c){for(var _=[],y=0,P=r.length,k;y<P;y++)k=a?ls(r[y],a-1,c):(c||Vs)(r[y]),_.push(k);return _}function qs(r,a){return r=jt(r),r.alt!==void 0?[U(r.lng,a),U(r.lat,a),U(r.alt,a)]:[U(r.lng,a),U(r.lat,a)]}function us(r,a,c,_){for(var y=[],P=0,k=r.length;P<k;P++)y.push(a?us(r[P],Un(r[P])?0:a-1,c,_):qs(r[P],_));return!a&&c&&y.length>0&&y.push(y[0].slice()),y}function Ur(r,a){return r.feature?h({},r.feature,{geometry:a}):Zn(a)}function Zn(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var T={toGeoJSON:function(r){return Ur(this,{type:"Point",coordinates:qs(this.getLatLng(),r)})}};os.include(T),yo.include(T),ss.include(T),Tn.include({toGeoJSON:function(r){var a=!Un(this._latlngs),c=us(this._latlngs,a?1:0,!1,r);return Ur(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Fr.include({toGeoJSON:function(r){var a=!Un(this._latlngs),c=a&&!Un(this._latlngs[0]),_=us(this._latlngs,c?2:a?1:0,!0,r);return a||(_=[_]),Ur(this,{type:(c?"Multi":"")+"Polygon",coordinates:_})}}),Pi.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(r).geometry.coordinates)}),Ur(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var c=a==="GeometryCollection",_=[];return this.eachLayer(function(y){if(y.toGeoJSON){var P=y.toGeoJSON(r);if(c)_.push(P.geometry);else{var k=Zn(P);k.type==="FeatureCollection"?_.push.apply(_,k.features):_.push(k)}}}),c?Ur(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function M(r,a){return new on(r,a)}var S=M,V=se.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,c){this._url=r,this._bounds=qe(a),q(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Vi(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=qe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:fe("img");if(qt(a,"leaflet-image-layer"),this._zoomAnimated&&qt(a,"leaflet-zoom-animated"),this.options.className&&qt(a,this.options.className),a.onselectstart=O,a.onmousemove=O,a.onload=p(this.fire,this,"load"),a.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;cr(this._image,c,a)},_reset:function(){var r=this._image,a=new Ft(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Ge(r,a.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){Fn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ht=function(r,a,c){return new V(r,a,c)},At=V.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:fe("video");if(qt(a,"leaflet-image-layer"),this._zoomAnimated&&qt(a,"leaflet-zoom-animated"),this.options.className&&qt(a,this.options.className),a.onselectstart=O,a.onmousemove=O,a.onloadeddata=p(this.fire,this,"load"),r){for(var c=a.getElementsByTagName("source"),_=[],y=0;y<c.length;y++)_.push(c[y].src);this._url=c.length>0?_:[a.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var k=fe("source");k.src=this._url[P],a.appendChild(k)}}});function ie(r,a,c){return new At(r,a,c)}var zt=V.extend({_initImage:function(){var r=this._image=this._url;qt(r,"leaflet-image-layer"),this._zoomAnimated&&qt(r,"leaflet-zoom-animated"),this.options.className&&qt(r,this.options.className),r.onselectstart=O,r.onmousemove=O}});function xo(r,a,c){return new zt(r,a,c)}var Ai=se.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof Kt||X(r))?(this._latlng=jt(r),q(this,a)):(q(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Fn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Fn(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Fn(this._container,0),this._removeTimeout=setTimeout(p(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=jt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vi(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof ri){a=null;var c=this._source._layers;for(var _ in c)if(c[_]._map){a=c[_];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=kt(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ge(this._container,r.add(c)):a=a.add(r).add(c);var _=this._containerBottom=-a.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=_+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});ae.include({_initOverlay:function(r,a,c,_){var y=a;return y instanceof r||(y=new r(_).setContent(a)),c&&y.setLatLng(c),y}}),se.include({_initOverlay:function(r,a,c,_){var y=c;return y instanceof r?(q(y,_),y._source=this):(y=a&&!_?a:new r(_,this),y.setContent(c)),y}});var Le=Ai.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Ai.prototype.openOn.call(this,r)},onAdd:function(r){Ai.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yi||this._source.on("preclick",pr))},onRemove:function(r){Ai.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yi||this._source.off("preclick",pr))},getEvents:function(){var r=Ai.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=fe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=fe("div",r+"-content-wrapper",a);if(this._contentNode=fe("div",r+"-content",c),so(a),zs(this._contentNode),Gt(a,"contextmenu",pr),this._tipContainer=fe("div",r+"-tip-container",a),this._tip=fe("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=fe("a",r+"-close-button",a);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Gt(_,"click",function(y){Pt(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var _=r.offsetHeight,y=this.options.maxHeight,P="leaflet-popup-scrolled";y&&_>y?(a.height=y+"px",qt(r,P)):ve(r,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();Ge(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(to(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,_=this._containerWidth,y=new ft(this._containerLeft,-c-this._containerBottom);y._add(ni(this._container));var P=r.layerPointToContainerPoint(y),k=kt(this.options.autoPanPadding),F=kt(this.options.autoPanPaddingTopLeft||k),W=kt(this.options.autoPanPaddingBottomRight||k),$=r.getSize(),yt=0,Mt=0;P.x+_+W.x>$.x&&(yt=P.x+_-$.x+W.x),P.x-yt-F.x<0&&(yt=P.x-F.x),P.y+c+W.y>$.y&&(Mt=P.y+c-$.y+W.y),P.y-Mt-F.y<0&&(Mt=P.y-F.y),(yt||Mt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([yt,Mt]))}},_getAnchor:function(){return kt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gr=function(r,a){return new Le(r,a)};ae.mergeOptions({closePopupOnClick:!0}),ae.include({openPopup:function(r,a,c){return this._initOverlay(Le,r,a,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),se.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Le,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof ri||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){St(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof Yi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var hs=Ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Ai.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Ai.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Ai.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+A(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,c,_=this._map,y=this._container,P=_.latLngToContainerPoint(_.getCenter()),k=_.layerPointToContainerPoint(r),F=this.options.direction,W=y.offsetWidth,$=y.offsetHeight,yt=kt(this.options.offset),Mt=this._getAnchor();F==="top"?(a=W/2,c=$):F==="bottom"?(a=W/2,c=0):F==="center"?(a=W/2,c=$/2):F==="right"?(a=0,c=$/2):F==="left"?(a=W,c=$/2):k.x<P.x?(F="right",a=0,c=$/2):(F="left",a=W+(yt.x+Mt.x)*2,c=$/2),r=r.subtract(kt(a,c,!0)).add(yt).add(Mt),ve(y,"leaflet-tooltip-right"),ve(y,"leaflet-tooltip-left"),ve(y,"leaflet-tooltip-top"),ve(y,"leaflet-tooltip-bottom"),qt(y,"leaflet-tooltip-"+F),Ge(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Fn(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return kt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),si=function(r,a){return new hs(r,a)};ae.include({openTooltip:function(r,a,c){return this._initOverlay(hs,r,a,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),se.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hs,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof ri||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(Gt(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Gt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,c,_;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(a)}});var Ji=Dr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Rr(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var _=kt(c.bgPos);a.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function mr(r){return new Ji(r)}Dr.Default=mo;var Et=se.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){q(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ce(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=C(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ft?r:new ft(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,c=-r(-1/0,1/0),_=0,y=a.length,P;_<y;_++)P=a[_].style.zIndex,a[_]!==this._container&&P&&(c=r(c,+P));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt.ielt9){Fn(this._container,this.options.opacity);var r=+new Date,a=!1,c=!1;for(var _ in this._tiles){var y=this._tiles[_];if(!(!y.current||!y.loaded)){var P=Math.min(1,(r-y.loaded)/200);Fn(y.el,P),P<1?a=!0:(y.active?c=!0:this._onOpaqueTile(y),y.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(nn(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this))}},_onOpaqueTile:O,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=a-Math.abs(r-c),this._onUpdateLevel(c)):(Ce(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var _=this._levels[r],y=this._map;return _||(_=this._levels[r]={},_.el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=a,_.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,y.getCenter(),y.getZoom()),O(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:O,_onRemoveLevel:O,_onCreateLevel:O,_pruneTiles:function(){if(this._map){var r,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var _=a.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ce(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,c,_){var y=Math.floor(r/2),P=Math.floor(a/2),k=c-1,F=new ft(+y,+P);F.z=+k;var W=this._tileCoordsToKey(F),$=this._tiles[W];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),k>_?this._retainParent(y,P,k,_):!1)},_retainChildren:function(r,a,c,_){for(var y=2*r;y<2*r+2;y++)for(var P=2*a;P<2*a+2;P++){var k=new ft(y,P);k.z=c+1;var F=this._tileCoordsToKey(k),W=this._tiles[F];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);c+1<_&&this._retainChildren(y,P,c+1,_)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,c,_){var y=Math.round(a);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var P=this.options.updateWhenZooming&&y!==this._tileZoom;(!_||P)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,a)},_setZoomTransform:function(r,a,c){var _=this._map.getZoomScale(c,r.zoom),y=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(a,c)).round();Rt.any3d?cr(r.el,y,_):Ge(r.el,y)},_resetGrid:function(){var r=this._map,a=r.options.crs,c=this._tileSize=this.getTileSize(),_=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],_).x/c.x),Math.ceil(r.project([0,a.wrapLng[1]],_).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],_).y/c.x),Math.ceil(r.project([a.wrapLat[1],0],_).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),_=a.getZoomScale(c,this._tileZoom),y=a.project(r,this._tileZoom).floor(),P=a.getSize().divideBy(_*2);return new Ft(y.subtract(P),y.add(P))},_update:function(r){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(_),P=y.getCenter(),k=[],F=this.options.keepBuffer,W=new Ft(y.getBottomLeft().subtract([F,-F]),y.getTopRight().add([F,-F]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var yt=this._tiles[$].coords;(yt.z!==this._tileZoom||!W.contains(new ft(yt.x,yt.y)))&&(this._tiles[$].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var Mt=y.min.y;Mt<=y.max.y;Mt++)for(var Yt=y.min.x;Yt<=y.max.x;Yt++){var Me=new ft(Yt,Mt);if(Me.z=this._tileZoom,!!this._isValidTile(Me)){var Pe=this._tiles[this._tileCoordsToKey(Me)];Pe?Pe.current=!0:k.push(Me)}}if(k.sort(function(en,bn){return en.distanceTo(P)-bn.distanceTo(P)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tn=document.createDocumentFragment();for(Yt=0;Yt<k.length;Yt++)this._addTile(k[Yt],tn);this._level.el.appendChild(tn)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!a.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return qe(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,c=this.getTileSize(),_=r.scaleBy(c),y=_.add(c),P=a.unproject(_,r.z),k=a.unproject(y,r.z);return[P,k]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),c=new pn(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),c=new ft(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(r){var a=this._tiles[r];a&&(Ce(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){qt(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=O,r.onmousemove=O,Rt.ielt9&&this.options.opacity<1&&Fn(r,this.options.opacity)},_addTile:function(r,a){var c=this._getTilePos(r),_=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),p(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&Fe(p(this._tileReady,this,r,null,y)),Ge(y,c),this._tiles[_]={el:y,coords:r,current:!0},a.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:r});var _=this._tileCoordsToKey(r);c=this._tiles[_],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Fn(c.el,0),nn(this._fadeFrame),this._fadeFrame=Fe(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(qt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt.ielt9||!this._map._fadeAnimated?Fe(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new ft(this._wrapX?I(r.x,this._wrapX):r.x,this._wrapY?I(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new Ft(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function pu(r){return new Et(r)}var Xi=Et.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=q(this,a),a.detectRetina&&Rt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var c=document.createElement("img");return Gt(c,"load",p(this._tileOnLoad,this,a,c)),Gt(c,"error",p(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var a={r:Rt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=c),a["-y"]=c}return ct(this._url,h(a,this.options))},_tileOnLoad:function(r,a){Rt.ielt9?setTimeout(p(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,c){var _=this.options.errorTileUrl;_&&a.getAttribute("src")!==_&&(a.src=_),r(c,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,_=this.options.zoomOffset;return c&&(r=a-r),r+_},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=O,a.onerror=O,!a.complete)){a.src=Dt;var c=this._tiles[r].coords;Ce(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",Dt),Et.prototype._removeTile.call(this,r)},_tileReady:function(r,a,c){if(!(!this._map||c&&c.getAttribute("src")===Dt))return Et.prototype._tileReady.call(this,r,a,c)}});function Ki(r,a){return new Xi(r,a)}var yl=Xi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var c=h({},this.defaultWmsParams);for(var _ in a)_ in this.options||(c[_]=a[_]);a=q(this,a);var y=a.detectRetina&&Rt.retina?2:1,P=this.getTileSize();c.width=P.x*y,c.height=P.y*y,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Xi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),c=this._crs,_=Ee(c.project(a[0]),c.project(a[1])),y=_.min,P=_.max,k=(this._wmsVersion>=1.3&&this._crs===ml?[y.y,y.x,P.y,P.x]:[y.x,y.y,P.x,P.y]).join(","),F=Xi.prototype.getTileUrl.call(this,r);return F+K(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(r,a){return h(this.wmsParams,r),a||this.redraw(),this}});function _u(r,a){return new yl(r,a)}Xi.WMS=yl,Ki.wms=_u;var Ni=se.extend({options:{padding:.1},initialize:function(r){q(this,r),A(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var c=this._map.getZoomScale(a,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,a),P=_.multiplyBy(-c).add(y).subtract(this._map._getNewPixelOrigin(r,a));Rt.any3d?cr(this._container,P,c):Ge(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new Ft(c,c.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Qi=Ni.extend({options:{tolerance:0},getEvents:function(){var r=Ni.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ni.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Gt(r,"mousemove",this._onMouseMove,this),Gt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Gt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){nn(this._redrawRequest),delete this._ctx,Ce(this._container),be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ni.prototype._update.call(this);var r=this._bounds,a=this._container,c=r.getSize(),_=Rt.retina?2:1;Ge(a,r.min),a.width=_*c.x,a.height=_*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",Rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ni.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[A(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,c=a.next,_=a.prev;c?c.prev=_:this._drawLast=_,_?_.next=c:this._drawFirst=c,delete r._order,delete this._layers[A(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),c=[],_,y;for(y=0;y<a.length;y++){if(_=Number(a[y]),isNaN(_))return;c.push(_)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Fe(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ft,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var c,_,y,P,k=r._parts,F=k.length,W=this._ctx;if(F){for(W.beginPath(),c=0;c<F;c++){for(_=0,y=k[c].length;_<y;_++)P=k[c][_],W[_?"lineTo":"moveTo"](P.x,P.y);a&&W.closePath()}this._fillStroke(W,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,c=this._ctx,_=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||_)/_;y!==1&&(c.save(),c.scale(1,y)),c.beginPath(),c.arc(a.x,a.y/y,_,0,Math.PI*2,!1),y!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,a){var c=a.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),c,_,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(_=c);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(ve(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var c,_,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(_=c);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(qt(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,c){this._map._fireDOMEvent(a,c||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var c=a.next,_=a.prev;if(c)c.prev=_;else return;_?_.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var c=a.next,_=a.prev;if(_)_.next=c;else return;c?c.prev=_:_&&(this._drawLast=_),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function wn(r){return Rt.canvas?new Qi(r):null}var ai=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gs={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ni.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=ai("shape");qt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=ai("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[A(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Ce(a),r.removeInteractiveTarget(a),delete this._layers[A(r)]},_updateStyle:function(r){var a=r._stroke,c=r._fill,_=r.options,y=r._container;y.stroked=!!_.stroke,y.filled=!!_.fill,_.stroke?(a||(a=r._stroke=ai("stroke")),y.appendChild(a),a.weight=_.weight+"px",a.color=_.color,a.opacity=_.opacity,_.dashArray?a.dashStyle=X(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=_.lineCap.replace("butt","flat"),a.joinstyle=_.lineJoin):a&&(y.removeChild(a),r._stroke=null),_.fill?(c||(c=r._fill=ai("fill")),y.appendChild(c),c.color=_.fillColor||_.color,c.opacity=_.fillOpacity):c&&(y.removeChild(c),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),c=Math.round(r._radius),_=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+_+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){Vi(r._container)},_bringToBack:function(r){bi(r._container)}},Ti=Rt.vml?ai:H,vr=Ni.extend({_initContainer:function(){this._container=Ti("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ti("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ni.prototype._update.call(this);var r=this._bounds,a=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Ge(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Ti("path");r.options.className&&qt(a,r.options.className),r.options.interactive&&qt(a,"leaflet-interactive"),this._updateStyle(r),this._layers[A(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ce(r._path),r.removeInteractiveTarget(r._path),delete this._layers[A(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,c=r.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,st(r._parts,a))},_updateCircle:function(r){var a=r._point,c=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||c,y="a"+c+","+_+" 0 1,0 ",P=r._empty()?"M0 0":"M"+(a.x-c)+","+a.y+y+c*2+",0 "+y+-c*2+",0 ";this._setPath(r,P)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){Vi(r._path)},_bringToBack:function(r){bi(r._path)}});Rt.vml&&vr.include(Gs);function cs(r){return Rt.svg||Rt.vml?new vr(r):null}ae.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&wn(r)||cs(r)}});var $i=Fr.extend({initialize:function(r,a){Fr.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=qe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Ys(r,a){return new $i(r,a)}vr.create=Ti,vr.pointsToPath=st,on.geometryToLayer=Ze,on.coordsToLatLng=Vs,on.coordsToLatLngs=ls,on.latLngToCoords=qs,on.latLngsToCoords=us,on.getFeature=Ur,on.asFeature=Zn,ae.mergeOptions({boxZoom:!0});var Ei=le.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ri(),Ms(),this._startPoint=this._map.mouseEventToContainerPoint(r),Gt(document,{contextmenu:St,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new Ft(this._point,this._startPoint),c=a.getSize();Ge(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ce(this._box),ve(this._container,"leaflet-crosshair")),Ln(),io(),be(document,{contextmenu:St,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var a=new pn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ae.addInitHook("addHandler","boxZoom",Ei),ae.mergeOptions({doubleClickZoom:!0});var Wn=le.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,c=a.getZoom(),_=a.options.zoomDelta,y=r.originalEvent.shiftKey?c-_:c+_;a.options.doubleClickZoom==="center"?a.setZoom(y):a.setZoomAround(r.containerPoint,y)}});ae.addInitHook("addHandler","doubleClickZoom",Wn),ae.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var tr=le.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Gi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=qe(this._map.options.maxBounds);this._offsetLimit=Ee(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),c=this._initialWorldOffset,_=this._draggable._newPos.x,y=(_-a+c)%r+a-c,P=(_+a+c)%r-a-c,k=Math.abs(y+c)<Math.abs(P+c)?y:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(r){var a=this._map,c=a.options,_=!c.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),_)a.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,k=c.easeLinearity,F=y.multiplyBy(k/P),W=F.distanceTo([0,0]),$=Math.min(c.inertiaMaxSpeed,W),yt=F.multiplyBy($/W),Mt=$/(c.inertiaDeceleration*k),Yt=yt.multiplyBy(-Mt/2).round();!Yt.x&&!Yt.y?a.fire("moveend"):(Yt=a._limitOffset(Yt,a.options.maxBounds),Fe(function(){a.panBy(Yt,{duration:Mt,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});ae.addInitHook("addHandler","dragging",tr),ae.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xl=le.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Gt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,c=r.scrollTop||a.scrollTop,_=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(_,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},c=this.keyCodes,_,y;for(_=0,y=c.left.length;_<y;_++)a[c.left[_]]=[-1*r,0];for(_=0,y=c.right.length;_<y;_++)a[c.right[_]]=[r,0];for(_=0,y=c.down.length;_<y;_++)a[c.down[_]]=[0,r];for(_=0,y=c.up.length;_<y;_++)a[c.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},c=this.keyCodes,_,y;for(_=0,y=c.zoomIn.length;_<y;_++)a[c.zoomIn[_]]=r;for(_=0,y=c.zoomOut.length;_<y;_++)a[c.zoomOut[_]]=-r},_addHooks:function(){Gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,c=this._map,_;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(_=this._panKeys[a],r.shiftKey&&(_=kt(_).multiplyBy(3)),c.options.maxBounds&&(_=c._limitOffset(kt(_),c.options.maxBounds)),c.options.worldCopyJump){var y=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(_)));c.panTo(y)}else c.panBy(_)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;St(r)}}});ae.addInitHook("addHandler","keyboard",xl),ae.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wl=le.extend({addHooks:function(){Gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=pl(r),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),St(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,P=c?Math.ceil(y/c)*c:y,k=r._limitZoom(a+(this._delta>0?P:-P))-a;this._delta=0,this._startTime=null,k&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+k):r.setZoomAround(this._lastMousePos,a+k))}});ae.addInitHook("addHandler","scrollWheelZoom",wl);var gu=600;ae.mergeOptions({tapHold:Rt.touchNative&&Rt.safari&&Rt.mobile,tapTolerance:15});var er=le.extend({addHooks:function(){Gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new ft(a.clientX,a.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Gt(document,"touchend",Pt),Gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),gu),Gt(document,"touchend touchcancel contextmenu",this._cancel,this),Gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){be(document,"touchend",Pt),be(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),be(document,"touchend touchcancel contextmenu",this._cancel,this),be(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new ft(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});ae.addInitHook("addHandler","tapHold",er),ae.mergeOptions({touchZoom:Rt.touch,bounceAtZoomLimits:!0});var nr=le.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(r.touches[0]),_=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(_)._divideBy(2))),this._startDist=c.distanceTo(_),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Gt(document,"touchmove",this._onTouchMove,this),Gt(document,"touchend touchcancel",this._onTouchEnd,this),Pt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(r.touches[0]),_=a.mouseEventToContainerPoint(r.touches[1]),y=c.distanceTo(_)/this._startDist;if(this._zoom=a.getScaleZoom(y,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&y<1||this._zoom>a.getMaxZoom()&&y>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var P=c._add(_)._divideBy(2)._subtract(this._centerPoint);if(y===1&&P.x===0&&P.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),nn(this._animRequest);var k=p(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Fe(k,this,!0),Pt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,nn(this._animRequest),be(document,"touchmove",this._onTouchMove,this),be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ae.addInitHook("addHandler","touchZoom",nr),ae.BoxZoom=Ei,ae.DoubleClickZoom=Wn,ae.Drag=tr,ae.Keyboard=xl,ae.ScrollWheelZoom=wl,ae.TapHold=er,ae.TouchZoom=nr,i.Bounds=Ft,i.Browser=Rt,i.CRS=Nn,i.Canvas=Qi,i.Circle=yo,i.CircleMarker=ss,i.Class=dn,i.Control=Pn,i.DivIcon=Ji,i.DivOverlay=Ai,i.DomEvent=au,i.DomUtil=Bs,i.Draggable=Gi,i.Evented=Jt,i.FeatureGroup=ri,i.GeoJSON=on,i.GridLayer=Et,i.Handler=le,i.Icon=Dr,i.ImageOverlay=V,i.LatLng=Kt,i.LatLngBounds=pn,i.Layer=se,i.LayerGroup=Pi,i.LineUtil=fo,i.Map=ae,i.Marker=os,i.Mixin=lu,i.Path=Yi,i.Point=ft,i.PolyUtil=uo,i.Polygon=Fr,i.Polyline=Tn,i.Popup=Le,i.PosAnimation=ts,i.Projection=_o,i.Rectangle=$i,i.Renderer=Ni,i.SVG=vr,i.SVGOverlay=zt,i.TileLayer=Xi,i.Tooltip=hs,i.Transformation=$n,i.Util=yi,i.VideoOverlay=At,i.bind=p,i.bounds=Ee,i.canvas=wn,i.circle=An,i.circleMarker=vo,i.control=_n,i.divIcon=mr,i.extend=h,i.featureGroup=Hs,i.geoJSON=M,i.geoJson=S,i.gridLayer=pu,i.icon=cu,i.imageOverlay=ht,i.latLng=jt,i.latLngBounds=qe,i.layerGroup=zi,i.map=he,i.marker=oi,i.point=kt,i.polygon=du,i.polyline=fu,i.popup=gr,i.rectangle=Ys,i.setOptions=q,i.stamp=A,i.svg=cs,i.svgOverlay=xo,i.tileLayer=Ki,i.tooltip=si,i.transformation=Dn,i.version=l,i.videoOverlay=ie;var wo=window.L;i.noConflict=function(){return window.L=wo,this},window.L=i})})(Sv,Sv.exports);var rr=Sv.exports;const j=lx(rr);var Xc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Xc.exports;(function(o,n){(function(){var i,l="4.17.21",h=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",x="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",C=500,I="__lodash_placeholder__",O=1,U=2,tt=4,G=1,q=2,K=1,nt=2,ct=4,X=8,Ct=16,Dt=32,Tt=64,Ht=128,ne=256,ue=512,Te=30,Fe="...",nn=800,yi=16,dn=1,Br=2,pe=3,Jt=1/0,ft=9007199254740991,xi=17976931348623157e292,kt=NaN,Ft=4294967295,Ee=Ft-1,pn=Ft>>>1,qe=[["ary",Ht],["bind",K],["bindKey",nt],["curry",X],["curryRight",Ct],["flip",ue],["partial",Dt],["partialRight",Tt],["rearg",ne]],Kt="[object Arguments]",jt="[object Array]",Nn="[object AsyncFunction]",Qe="[object Boolean]",Hn="[object Date]",Mi="[object DOMException]",$n="[object Error]",Dn="[object Function]",R="[object GeneratorFunction]",N="[object Map]",H="[object Number]",st="[object Null]",Y="[object Object]",ot="[object Promise]",gt="[object Proxy]",ut="[object RegExp]",et="[object Set]",Q="[object String]",mt="[object Symbol]",Bt="[object Undefined]",Lt="[object WeakMap]",Wt="[object WeakSet]",Ut="[object ArrayBuffer]",ee="[object DataView]",re="[object Float32Array]",Ie="[object Float64Array]",fn="[object Int8Array]",ti="[object Int16Array]",Oi="[object Int32Array]",Vn="[object Uint8Array]",Bi="[object Uint8ClampedArray]",rn="[object Uint16Array]",$e="[object Uint32Array]",Yo=/\b__p \+= '';/g,Vl=/\b(__p \+=) '' \+/g,tl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jo=/&(?:amp|lt|gt|quot|#39);/g,Xo=/[&<>"']/g,ql=RegExp(Jo.source),Gl=RegExp(Xo.source),Yl=/<%-([\s\S]+?)%>/g,Jl=/<%([\s\S]+?)%>/g,As=/<%=([\s\S]+?)%>/g,Xl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ts=/^\w*$/,Kl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kr=/[\\^$.*+?()[\]{}|]/g,Ql=RegExp(Kr.source),Qr=/^\s+/,wi=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,el=/\{\n\/\* \[wrapped with (.+)\] \*/,nl=/,? & /,il=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rl=/[()=,{}\[\]\/\s]/,Es=/\\(\\)?/g,ol=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hi=/\w*$/,sl=/^[-+]0x[0-9a-f]+$/i,$l=/^0b[01]+$/i,tu=/^\[object .+?Constructor\]$/,eu=/^0o[0-7]+$/i,nu=/^(?:0|[1-9]\d*)$/,al=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lr=/($^)/,Ko=/['\n\r\u2028\u2029\\]/g,ur="\\ud800-\\udfff",iu="\\u0300-\\u036f",ru="\\ufe20-\\ufe2f",ou="\\u20d0-\\u20ff",Is=iu+ru+ou,$r="\\u2700-\\u27bf",hr="a-z\\xdf-\\xf6\\xf8-\\xff",ll="\\xac\\xb1\\xd7\\xf7",ul="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",to="\\u2000-\\u206f",fe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Rr="\\ufe0e\\ufe0f",Vi=ll+ul+to+fe,bi="[']",Cs="["+ur+"]",qt="["+Vi+"]",ve="["+Is+"]",eo="\\d+",Qo="["+$r+"]",Fn="["+hr+"]",Ss="[^"+ur+Vi+eo+$r+hr+Ce+"]",qi="\\ud83c[\\udffb-\\udfff]",cr="(?:"+ve+"|"+qi+")",Ge="[^"+ur+"]",ni="(?:\\ud83c[\\udde6-\\uddff]){2}",Ri="[\\ud800-\\udbff][\\udc00-\\udfff]",Ln="["+Ce+"]",no="\\u200d",fr="(?:"+Fn+"|"+Ss+")",Ms="(?:"+Ln+"|"+Ss+")",io="(?:"+bi+"(?:d|ll|m|re|s|t|ve))?",kr="(?:"+bi+"(?:D|LL|M|RE|S|T|VE))?",ro=cr+"?",oo="["+Rr+"]?",$o="(?:"+no+"(?:"+[Ge,ni,Ri].join("|")+")"+oo+ro+")*",hl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Os="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bs=oo+ro+$o,Gt="(?:"+[Qo,ni,Ri].join("|")+")"+Bs,Li="(?:"+[Ge+ve+"?",ve,ni,Ri,Cs].join("|")+")",be=RegExp(bi,"g"),cl=RegExp(ve,"g"),dr=RegExp(qi+"(?="+qi+")|"+Li+Bs,"g"),Rs=RegExp([Ln+"?"+Fn+"+"+io+"(?="+[qt,Ln,"$"].join("|")+")",Ms+"+"+kr+"(?="+[qt,Ln+fr,"$"].join("|")+")",Ln+"?"+fr+"+"+io,Ln+"+"+kr,Os,hl,eo,Gt].join("|"),"g"),ks=RegExp("["+no+ur+Is+Rr+"]"),pr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],so=-1,Pt={};Pt[re]=Pt[Ie]=Pt[fn]=Pt[ti]=Pt[Oi]=Pt[Vn]=Pt[Bi]=Pt[rn]=Pt[$e]=!0,Pt[Kt]=Pt[jt]=Pt[Ut]=Pt[Qe]=Pt[ee]=Pt[Hn]=Pt[$n]=Pt[Dn]=Pt[N]=Pt[H]=Pt[Y]=Pt[ut]=Pt[et]=Pt[Q]=Pt[Lt]=!1;var St={};St[Kt]=St[jt]=St[Ut]=St[ee]=St[Qe]=St[Hn]=St[re]=St[Ie]=St[fn]=St[ti]=St[Oi]=St[N]=St[H]=St[Y]=St[ut]=St[et]=St[Q]=St[mt]=St[Vn]=St[Bi]=St[rn]=St[$e]=!0,St[$n]=St[Dn]=St[Lt]=!1;var fl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},dl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},su={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ns=parseFloat,au=parseInt,ts=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,ae=typeof self=="object"&&self&&self.Object===Object&&self,he=ts||ae||Function("return this")(),Pn=n&&!n.nodeType&&n,_n=Pn&&!0&&o&&!o.nodeType&&o,es=_n&&_n.exports===Pn,ao=es&&ts.process,Se=function(){try{var T=_n&&_n.require&&_n.require("util").types;return T||ao&&ao.binding&&ao.binding("util")}catch{}}(),Ds=Se&&Se.isArrayBuffer,ns=Se&&Se.isDate,Fs=Se&&Se.isMap,Us=Se&&Se.isRegExp,lo=Se&&Se.isSet,Zs=Se&&Se.isTypedArray;function le(T,M,S){switch(S.length){case 0:return T.call(M);case 1:return T.call(M,S[0]);case 2:return T.call(M,S[0],S[1]);case 3:return T.call(M,S[0],S[1],S[2])}return T.apply(M,S)}function lu(T,M,S,V){for(var ht=-1,At=T==null?0:T.length;++ht<At;){var ie=T[ht];M(V,ie,S(ie),T)}return V}function Ue(T,M){for(var S=-1,V=T==null?0:T.length;++S<V&&M(T[S],S,T)!==!1;);return T}function Gi(T,M){for(var S=T==null?0:T.length;S--&&M(T[S],S,T)!==!1;);return T}function is(T,M){for(var S=-1,V=T==null?0:T.length;++S<V;)if(!M(T[S],S,T))return!1;return!0}function yn(T,M){for(var S=-1,V=T==null?0:T.length,ht=0,At=[];++S<V;){var ie=T[S];M(ie,S,T)&&(At[ht++]=ie)}return At}function ki(T,M){var S=T==null?0:T.length;return!!S&&ii(T,M,0)>-1}function uo(T,M,S){for(var V=-1,ht=T==null?0:T.length;++V<ht;)if(S(M,T[V]))return!0;return!1}function Zt(T,M){for(var S=-1,V=T==null?0:T.length,ht=Array(V);++S<V;)ht[S]=M(T[S],S,T);return ht}function xn(T,M){for(var S=-1,V=M.length,ht=T.length;++S<V;)T[ht+S]=M[S];return T}function ho(T,M,S,V){var ht=-1,At=T==null?0:T.length;for(V&&At&&(S=T[++ht]);++ht<At;)S=M(S,T[ht],ht,T);return S}function uu(T,M,S,V){var ht=T==null?0:T.length;for(V&&ht&&(S=T[--ht]);ht--;)S=M(S,T[ht],ht,T);return S}function _r(T,M){for(var S=-1,V=T==null?0:T.length;++S<V;)if(M(T[S],S,T))return!0;return!1}var hu=Nr("length");function _l(T){return T.split("")}function gl(T){return T.match(il)||[]}function zr(T,M,S){var V;return S(T,function(ht,At,ie){if(M(ht,At,ie))return V=At,!1}),V}function qn(T,M,S,V){for(var ht=T.length,At=S+(V?1:-1);V?At--:++At<ht;)if(M(T[At],At,T))return At;return-1}function ii(T,M,S){return M===M?Fr(T,M,S):qn(T,Un,S)}function co(T,M,S,V){for(var ht=S-1,At=T.length;++ht<At;)if(V(T[ht],M))return ht;return-1}function Un(T){return T!==T}function rs(T,M){var S=T==null?0:T.length;return S?_o(T,M)/S:kt}function Nr(T){return function(M){return M==null?i:M[T]}}function fo(T){return function(M){return T==null?i:T[M]}}function po(T,M,S,V,ht){return ht(T,function(At,ie,zt){S=V?(V=!1,At):M(S,At,ie,zt)}),S}function Ws(T,M){var S=T.length;for(T.sort(M);S--;)T[S]=T[S].value;return T}function _o(T,M){for(var S,V=-1,ht=T.length;++V<ht;){var At=M(T[V]);At!==i&&(S=S===i?At:S+At)}return S}function go(T,M){for(var S=-1,V=Array(T);++S<T;)V[S]=M(S);return V}function ml(T,M){return Zt(M,function(S){return[S,T[S]]})}function js(T){return T&&T.slice(0,as(T)+1).replace(Qr,"")}function se(T){return function(M){return T(M)}}function Pi(T,M){return Zt(M,function(S){return T[S]})}function zi(T,M){return T.has(M)}function ri(T,M){for(var S=-1,V=T.length;++S<V&&ii(M,T[S],0)>-1;);return S}function Hs(T,M){for(var S=T.length;S--&&ii(M,T[S],0)>-1;);return S}function Dr(T,M){for(var S=T.length,V=0;S--;)T[S]===M&&++V;return V}var cu=fo(fl),mo=fo(dl);function vl(T){return"\\"+pl[T]}function os(T,M){return T==null?i:T[M]}function oi(T){return ks.test(T)}function Yi(T){return pr.test(T)}function ss(T){for(var M,S=[];!(M=T.next()).done;)S.push(M.value);return S}function vo(T){var M=-1,S=Array(T.size);return T.forEach(function(V,ht){S[++M]=[ht,V]}),S}function yo(T,M){return function(S){return T(M(S))}}function An(T,M){for(var S=-1,V=T.length,ht=0,At=[];++S<V;){var ie=T[S];(ie===M||ie===I)&&(T[S]=I,At[ht++]=S)}return At}function Tn(T){var M=-1,S=Array(T.size);return T.forEach(function(V){S[++M]=V}),S}function fu(T){var M=-1,S=Array(T.size);return T.forEach(function(V){S[++M]=[V,V]}),S}function Fr(T,M,S){for(var V=S-1,ht=T.length;++V<ht;)if(T[V]===M)return V;return-1}function du(T,M,S){for(var V=S+1;V--;)if(T[V]===M)return V;return V}function on(T){return oi(T)?ls(T):hu(T)}function Ze(T){return oi(T)?qs(T):_l(T)}function as(T){for(var M=T.length;M--&&wi.test(T.charAt(M)););return M}var Vs=fo(su);function ls(T){for(var M=dr.lastIndex=0;dr.test(T);)++M;return M}function qs(T){return T.match(dr)||[]}function us(T){return T.match(Rs)||[]}var Ur=function T(M){M=M==null?he:Zn.defaults(he.Object(),M,Zn.pick(he,zs));var S=M.Array,V=M.Date,ht=M.Error,At=M.Function,ie=M.Math,zt=M.Object,xo=M.RegExp,Ai=M.String,Le=M.TypeError,gr=S.prototype,hs=At.prototype,si=zt.prototype,Ji=M["__core-js_shared__"],mr=hs.toString,Et=si.hasOwnProperty,pu=0,Xi=function(){var t=/[^.]+$/.exec(Ji&&Ji.keys&&Ji.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ki=si.toString,yl=mr.call(zt),_u=he._,Ni=xo("^"+mr.call(Et).replace(Kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qi=es?M.Buffer:i,wn=M.Symbol,ai=M.Uint8Array,Gs=Qi?Qi.allocUnsafe:i,Ti=yo(zt.getPrototypeOf,zt),vr=zt.create,cs=si.propertyIsEnumerable,$i=gr.splice,Ys=wn?wn.isConcatSpreadable:i,Ei=wn?wn.iterator:i,Wn=wn?wn.toStringTag:i,tr=function(){try{var t=di(zt,"defineProperty");return t({},"",{}),t}catch{}}(),xl=M.clearTimeout!==he.clearTimeout&&M.clearTimeout,wl=V&&V.now!==he.Date.now&&V.now,gu=M.setTimeout!==he.setTimeout&&M.setTimeout,er=ie.ceil,nr=ie.floor,wo=zt.getOwnPropertySymbols,r=Qi?Qi.isBuffer:i,a=M.isFinite,c=gr.join,_=yo(zt.keys,zt),y=ie.max,P=ie.min,k=V.now,F=M.parseInt,W=ie.random,$=gr.reverse,yt=di(M,"DataView"),Mt=di(M,"Map"),Yt=di(M,"Promise"),Me=di(M,"Set"),Pe=di(M,"WeakMap"),tn=di(zt,"create"),en=Pe&&new Pe,bn={},mu=pi(yt),vu=pi(Mt),yu=pi(Yt),bl=pi(Me),xu=pi(Pe),ir=wn?wn.prototype:i,me=ir?ir.valueOf:i,Zr=ir?ir.toString:i;function g(t){if(Xt(t)&&!dt(t)&&!(t instanceof xt)){if(t instanceof Oe)return t;if(Et.call(t,"__wrapped__"))return bh(t)}return new Oe(t)}var li=function(){function t(){}return function(e){if(!Vt(e))return{};if(vr)return vr(e);t.prototype=e;var s=new t;return t.prototype=i,s}}();function yr(){}function Oe(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}g.templateSettings={escape:Yl,evaluate:Jl,interpolate:As,variable:"",imports:{_:g}},g.prototype=yr.prototype,g.prototype.constructor=g,Oe.prototype=li(yr.prototype),Oe.prototype.constructor=Oe;function xt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ft,this.__views__=[]}function wu(){var t=new xt(this.__wrapped__);return t.__actions__=Be(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Be(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Be(this.__views__),t}function mf(){if(this.__filtered__){var t=new xt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function vf(){var t=this.__wrapped__.value(),e=this.__dir__,s=dt(t),u=e<0,d=s?t.length:0,m=Sd(0,d,this.__views__),w=m.start,b=m.end,E=b-w,B=u?b:w-1,z=this.__iteratees__,D=z.length,Z=0,J=P(E,this.__takeCount__);if(!s||!u&&d==E&&J==E)return Vu(t,this.__actions__);var at=[];t:for(;E--&&Z<J;){B+=e;for(var _t=-1,lt=t[B];++_t<D;){var wt=z[_t],bt=wt.iteratee,He=wt.type,we=bt(lt);if(He==Br)lt=we;else if(!we){if(He==dn)continue t;break t}}at[Z++]=lt}return at}xt.prototype=li(yr.prototype),xt.prototype.constructor=xt;function ui(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var u=t[e];this.set(u[0],u[1])}}function yf(){this.__data__=tn?tn(null):{},this.size=0}function xf(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function wf(t){var e=this.__data__;if(tn){var s=e[t];return s===A?i:s}return Et.call(e,t)?e[t]:i}function bf(t){var e=this.__data__;return tn?e[t]!==i:Et.call(e,t)}function Lf(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=tn&&e===i?A:e,this}ui.prototype.clear=yf,ui.prototype.delete=xf,ui.prototype.get=wf,ui.prototype.has=bf,ui.prototype.set=Lf;function En(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var u=t[e];this.set(u[0],u[1])}}function Pf(){this.__data__=[],this.size=0}function Af(t){var e=this.__data__,s=bo(e,t);if(s<0)return!1;var u=e.length-1;return s==u?e.pop():$i.call(e,s,1),--this.size,!0}function Tf(t){var e=this.__data__,s=bo(e,t);return s<0?i:e[s][1]}function Ef(t){return bo(this.__data__,t)>-1}function If(t,e){var s=this.__data__,u=bo(s,t);return u<0?(++this.size,s.push([t,e])):s[u][1]=e,this}En.prototype.clear=Pf,En.prototype.delete=Af,En.prototype.get=Tf,En.prototype.has=Ef,En.prototype.set=If;function In(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var u=t[e];this.set(u[0],u[1])}}function Cf(){this.size=0,this.__data__={hash:new ui,map:new(Mt||En),string:new ui}}function Sf(t){var e=Ro(this,t).delete(t);return this.size-=e?1:0,e}function Mf(t){return Ro(this,t).get(t)}function Of(t){return Ro(this,t).has(t)}function Bf(t,e){var s=Ro(this,t),u=s.size;return s.set(t,e),this.size+=s.size==u?0:1,this}In.prototype.clear=Cf,In.prototype.delete=Sf,In.prototype.get=Mf,In.prototype.has=Of,In.prototype.set=Bf;function hi(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new In;++e<s;)this.add(t[e])}function Rf(t){return this.__data__.set(t,A),this}function kf(t){return this.__data__.has(t)}hi.prototype.add=hi.prototype.push=Rf,hi.prototype.has=kf;function sn(t){var e=this.__data__=new En(t);this.size=e.size}function zf(){this.__data__=new En,this.size=0}function Nf(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}function Df(t){return this.__data__.get(t)}function Ff(t){return this.__data__.has(t)}function Uf(t,e){var s=this.__data__;if(s instanceof En){var u=s.__data__;if(!Mt||u.length<h-1)return u.push([t,e]),this.size=++s.size,this;s=this.__data__=new In(u)}return s.set(t,e),this.size=s.size,this}sn.prototype.clear=zf,sn.prototype.delete=Nf,sn.prototype.get=Df,sn.prototype.has=Ff,sn.prototype.set=Uf;function bu(t,e){var s=dt(t),u=!s&&_i(t),d=!s&&!u&&Kn(t),m=!s&&!u&&!d&&Zi(t),w=s||u||d||m,b=w?go(t.length,Ai):[],E=b.length;for(var B in t)(e||Et.call(t,B))&&!(w&&(B=="length"||d&&(B=="offset"||B=="parent")||m&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||On(B,E)))&&b.push(B);return b}function Lu(t){var e=t.length;return e?t[oa(0,e-1)]:i}function Zf(t,e){return ko(Be(t),ci(e,0,t.length))}function Wf(t){return ko(Be(t))}function Js(t,e,s){(s!==i&&!an(t[e],s)||s===i&&!(e in t))&&Cn(t,e,s)}function xr(t,e,s){var u=t[e];(!(Et.call(t,e)&&an(u,s))||s===i&&!(e in t))&&Cn(t,e,s)}function bo(t,e){for(var s=t.length;s--;)if(an(t[s][0],e))return s;return-1}function jf(t,e,s,u){return Gn(t,function(d,m,w){e(u,d,s(d),w)}),u}function Pu(t,e){return t&&mn(e,ce(e),t)}function Hf(t,e){return t&&mn(e,ke(e),t)}function Cn(t,e,s){e=="__proto__"&&tr?tr(t,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[e]=s}function Xs(t,e){for(var s=-1,u=e.length,d=S(u),m=t==null;++s<u;)d[s]=m?i:Sa(t,e[s]);return d}function ci(t,e,s){return t===t&&(s!==i&&(t=t<=s?t:s),e!==i&&(t=t>=e?t:e)),t}function Ye(t,e,s,u,d,m){var w,b=e&O,E=e&U,B=e&tt;if(s&&(w=d?s(t,u,d,m):s(t)),w!==i)return w;if(!Vt(t))return t;var z=dt(t);if(z){if(w=Od(t),!b)return Be(t,w)}else{var D=_e(t),Z=D==Dn||D==R;if(Kn(t))return Yu(t,b);if(D==Y||D==Kt||Z&&!d){if(w=E||Z?{}:dh(t),!b)return E?wd(t,Hf(w,t)):xd(t,Pu(w,t))}else{if(!St[D])return d?t:{};w=Bd(t,D,b)}}m||(m=new sn);var J=m.get(t);if(J)return J;m.set(t,w),Wh(t)?t.forEach(function(lt){w.add(Ye(lt,e,s,lt,t,m))}):Uh(t)&&t.forEach(function(lt,wt){w.set(wt,Ye(lt,e,s,wt,t,m))});var at=B?E?ga:_a:E?ke:ce,_t=z?i:at(t);return Ue(_t||t,function(lt,wt){_t&&(wt=lt,lt=t[wt]),xr(w,wt,Ye(lt,e,s,wt,t,m))}),w}function Vf(t){var e=ce(t);return function(s){return Au(s,t,e)}}function Au(t,e,s){var u=s.length;if(t==null)return!u;for(t=zt(t);u--;){var d=s[u],m=e[d],w=t[d];if(w===i&&!(d in t)||!m(w))return!1}return!0}function Tu(t,e,s){if(typeof t!="function")throw new Le(p);return Er(function(){t.apply(i,s)},e)}function wr(t,e,s,u){var d=-1,m=ki,w=!0,b=t.length,E=[],B=e.length;if(!b)return E;s&&(e=Zt(e,se(s))),u?(m=uo,w=!1):e.length>=h&&(m=zi,w=!1,e=new hi(e));t:for(;++d<b;){var z=t[d],D=s==null?z:s(z);if(z=u||z!==0?z:0,w&&D===D){for(var Z=B;Z--;)if(e[Z]===D)continue t;E.push(z)}else m(e,D,u)||E.push(z)}return E}var Gn=$u(gn),Eu=$u(Qs,!0);function qf(t,e){var s=!0;return Gn(t,function(u,d,m){return s=!!e(u,d,m),s}),s}function Lo(t,e,s){for(var u=-1,d=t.length;++u<d;){var m=t[u],w=e(m);if(w!=null&&(b===i?w===w&&!je(w):s(w,b)))var b=w,E=m}return E}function Gf(t,e,s,u){var d=t.length;for(s=pt(s),s<0&&(s=-s>d?0:d+s),u=u===i||u>d?d:pt(u),u<0&&(u+=d),u=s>u?0:Hh(u);s<u;)t[s++]=e;return t}function Iu(t,e){var s=[];return Gn(t,function(u,d,m){e(u,d,m)&&s.push(u)}),s}function de(t,e,s,u,d){var m=-1,w=t.length;for(s||(s=kd),d||(d=[]);++m<w;){var b=t[m];e>0&&s(b)?e>1?de(b,e-1,s,u,d):xn(d,b):u||(d[d.length]=b)}return d}var Ks=th(),Cu=th(!0);function gn(t,e){return t&&Ks(t,e,ce)}function Qs(t,e){return t&&Cu(t,e,ce)}function Po(t,e){return yn(e,function(s){return Bn(t[s])})}function fi(t,e){e=Jn(e,t);for(var s=0,u=e.length;t!=null&&s<u;)t=t[vn(e[s++])];return s&&s==u?t:i}function Su(t,e,s){var u=e(t);return dt(t)?u:xn(u,s(t))}function ye(t){return t==null?t===i?Bt:st:Wn&&Wn in zt(t)?Cd(t):Wd(t)}function $s(t,e){return t>e}function Yf(t,e){return t!=null&&Et.call(t,e)}function Jf(t,e){return t!=null&&e in zt(t)}function Xf(t,e,s){return t>=P(e,s)&&t<y(e,s)}function ta(t,e,s){for(var u=s?uo:ki,d=t[0].length,m=t.length,w=m,b=S(m),E=1/0,B=[];w--;){var z=t[w];w&&e&&(z=Zt(z,se(e))),E=P(z.length,E),b[w]=!s&&(e||d>=120&&z.length>=120)?new hi(w&&z):i}z=t[0];var D=-1,Z=b[0];t:for(;++D<d&&B.length<E;){var J=z[D],at=e?e(J):J;if(J=s||J!==0?J:0,!(Z?zi(Z,at):u(B,at,s))){for(w=m;--w;){var _t=b[w];if(!(_t?zi(_t,at):u(t[w],at,s)))continue t}Z&&Z.push(at),B.push(J)}}return B}function Kf(t,e,s,u){return gn(t,function(d,m,w){e(u,s(d),m,w)}),u}function br(t,e,s){e=Jn(e,t),t=mh(t,e);var u=t==null?t:t[vn(Xe(e))];return u==null?i:le(u,t,s)}function Mu(t){return Xt(t)&&ye(t)==Kt}function Qf(t){return Xt(t)&&ye(t)==Ut}function $f(t){return Xt(t)&&ye(t)==Hn}function Lr(t,e,s,u,d){return t===e?!0:t==null||e==null||!Xt(t)&&!Xt(e)?t!==t&&e!==e:td(t,e,s,u,Lr,d)}function td(t,e,s,u,d,m){var w=dt(t),b=dt(e),E=w?jt:_e(t),B=b?jt:_e(e);E=E==Kt?Y:E,B=B==Kt?Y:B;var z=E==Y,D=B==Y,Z=E==B;if(Z&&Kn(t)){if(!Kn(e))return!1;w=!0,z=!1}if(Z&&!z)return m||(m=new sn),w||Zi(t)?hh(t,e,s,u,d,m):Ed(t,e,E,s,u,d,m);if(!(s&G)){var J=z&&Et.call(t,"__wrapped__"),at=D&&Et.call(e,"__wrapped__");if(J||at){var _t=J?t.value():t,lt=at?e.value():e;return m||(m=new sn),d(_t,lt,s,u,m)}}return Z?(m||(m=new sn),Id(t,e,s,u,d,m)):!1}function ed(t){return Xt(t)&&_e(t)==N}function ea(t,e,s,u){var d=s.length,m=d,w=!u;if(t==null)return!m;for(t=zt(t);d--;){var b=s[d];if(w&&b[2]?b[1]!==t[b[0]]:!(b[0]in t))return!1}for(;++d<m;){b=s[d];var E=b[0],B=t[E],z=b[1];if(w&&b[2]){if(B===i&&!(E in t))return!1}else{var D=new sn;if(u)var Z=u(B,z,E,t,e,D);if(!(Z===i?Lr(z,B,G|q,u,D):Z))return!1}}return!0}function Ou(t){if(!Vt(t)||Nd(t))return!1;var e=Bn(t)?Ni:tu;return e.test(pi(t))}function nd(t){return Xt(t)&&ye(t)==ut}function id(t){return Xt(t)&&_e(t)==et}function rd(t){return Xt(t)&&Zo(t.length)&&!!Pt[ye(t)]}function Bu(t){return typeof t=="function"?t:t==null?ze:typeof t=="object"?dt(t)?zu(t[0],t[1]):ku(t):ec(t)}function na(t){if(!Tr(t))return _(t);var e=[];for(var s in zt(t))Et.call(t,s)&&s!="constructor"&&e.push(s);return e}function od(t){if(!Vt(t))return Zd(t);var e=Tr(t),s=[];for(var u in t)u=="constructor"&&(e||!Et.call(t,u))||s.push(u);return s}function ia(t,e){return t<e}function Ru(t,e){var s=-1,u=Re(t)?S(t.length):[];return Gn(t,function(d,m,w){u[++s]=e(d,m,w)}),u}function ku(t){var e=va(t);return e.length==1&&e[0][2]?_h(e[0][0],e[0][1]):function(s){return s===t||ea(s,t,e)}}function zu(t,e){return xa(t)&&ph(e)?_h(vn(t),e):function(s){var u=Sa(s,t);return u===i&&u===e?Ma(s,t):Lr(e,u,G|q)}}function Ao(t,e,s,u,d){t!==e&&Ks(e,function(m,w){if(d||(d=new sn),Vt(m))sd(t,e,w,s,Ao,u,d);else{var b=u?u(ba(t,w),m,w+"",t,e,d):i;b===i&&(b=m),Js(t,w,b)}},ke)}function sd(t,e,s,u,d,m,w){var b=ba(t,s),E=ba(e,s),B=w.get(E);if(B){Js(t,s,B);return}var z=m?m(b,E,s+"",t,e,w):i,D=z===i;if(D){var Z=dt(E),J=!Z&&Kn(E),at=!Z&&!J&&Zi(E);z=E,Z||J||at?dt(b)?z=b:$t(b)?z=Be(b):J?(D=!1,z=Yu(E,!0)):at?(D=!1,z=Ju(E,!0)):z=[]:Ir(E)||_i(E)?(z=b,_i(b)?z=Vh(b):(!Vt(b)||Bn(b))&&(z=dh(E))):D=!1}D&&(w.set(E,z),d(z,E,u,m,w),w.delete(E)),Js(t,s,z)}function Nu(t,e){var s=t.length;if(s)return e+=e<0?s:0,On(e,s)?t[e]:i}function Du(t,e,s){e.length?e=Zt(e,function(m){return dt(m)?function(w){return fi(w,m.length===1?m[0]:m)}:m}):e=[ze];var u=-1;e=Zt(e,se(it()));var d=Ru(t,function(m,w,b){var E=Zt(e,function(B){return B(m)});return{criteria:E,index:++u,value:m}});return Ws(d,function(m,w){return yd(m,w,s)})}function ad(t,e){return Fu(t,e,function(s,u){return Ma(t,u)})}function Fu(t,e,s){for(var u=-1,d=e.length,m={};++u<d;){var w=e[u],b=fi(t,w);s(b,w)&&Pr(m,Jn(w,t),b)}return m}function ld(t){return function(e){return fi(e,t)}}function ra(t,e,s,u){var d=u?co:ii,m=-1,w=e.length,b=t;for(t===e&&(e=Be(e)),s&&(b=Zt(t,se(s)));++m<w;)for(var E=0,B=e[m],z=s?s(B):B;(E=d(b,z,E,u))>-1;)b!==t&&$i.call(b,E,1),$i.call(t,E,1);return t}function Uu(t,e){for(var s=t?e.length:0,u=s-1;s--;){var d=e[s];if(s==u||d!==m){var m=d;On(d)?$i.call(t,d,1):la(t,d)}}return t}function oa(t,e){return t+nr(W()*(e-t+1))}function ud(t,e,s,u){for(var d=-1,m=y(er((e-t)/(s||1)),0),w=S(m);m--;)w[u?m:++d]=t,t+=s;return w}function sa(t,e){var s="";if(!t||e<1||e>ft)return s;do e%2&&(s+=t),e=nr(e/2),e&&(t+=t);while(e);return s}function vt(t,e){return La(gh(t,e,ze),t+"")}function hd(t){return Lu(Wi(t))}function cd(t,e){var s=Wi(t);return ko(s,ci(e,0,s.length))}function Pr(t,e,s,u){if(!Vt(t))return t;e=Jn(e,t);for(var d=-1,m=e.length,w=m-1,b=t;b!=null&&++d<m;){var E=vn(e[d]),B=s;if(E==="__proto__"||E==="constructor"||E==="prototype")return t;if(d!=w){var z=b[E];B=u?u(z,E,b):i,B===i&&(B=Vt(z)?z:On(e[d+1])?[]:{})}xr(b,E,B),b=b[E]}return t}var Zu=en?function(t,e){return en.set(t,e),t}:ze,fd=tr?function(t,e){return tr(t,"toString",{configurable:!0,enumerable:!1,value:Ba(e),writable:!0})}:ze;function dd(t){return ko(Wi(t))}function Je(t,e,s){var u=-1,d=t.length;e<0&&(e=-e>d?0:d+e),s=s>d?d:s,s<0&&(s+=d),d=e>s?0:s-e>>>0,e>>>=0;for(var m=S(d);++u<d;)m[u]=t[u+e];return m}function pd(t,e){var s;return Gn(t,function(u,d,m){return s=e(u,d,m),!s}),!!s}function To(t,e,s){var u=0,d=t==null?u:t.length;if(typeof e=="number"&&e===e&&d<=pn){for(;u<d;){var m=u+d>>>1,w=t[m];w!==null&&!je(w)&&(s?w<=e:w<e)?u=m+1:d=m}return d}return aa(t,e,ze,s)}function aa(t,e,s,u){var d=0,m=t==null?0:t.length;if(m===0)return 0;e=s(e);for(var w=e!==e,b=e===null,E=je(e),B=e===i;d<m;){var z=nr((d+m)/2),D=s(t[z]),Z=D!==i,J=D===null,at=D===D,_t=je(D);if(w)var lt=u||at;else B?lt=at&&(u||Z):b?lt=at&&Z&&(u||!J):E?lt=at&&Z&&!J&&(u||!_t):J||_t?lt=!1:lt=u?D<=e:D<e;lt?d=z+1:m=z}return P(m,Ee)}function Wu(t,e){for(var s=-1,u=t.length,d=0,m=[];++s<u;){var w=t[s],b=e?e(w):w;if(!s||!an(b,E)){var E=b;m[d++]=w===0?0:w}}return m}function ju(t){return typeof t=="number"?t:je(t)?kt:+t}function We(t){if(typeof t=="string")return t;if(dt(t))return Zt(t,We)+"";if(je(t))return Zr?Zr.call(t):"";var e=t+"";return e=="0"&&1/t==-Jt?"-0":e}function Yn(t,e,s){var u=-1,d=ki,m=t.length,w=!0,b=[],E=b;if(s)w=!1,d=uo;else if(m>=h){var B=e?null:Ad(t);if(B)return Tn(B);w=!1,d=zi,E=new hi}else E=e?[]:b;t:for(;++u<m;){var z=t[u],D=e?e(z):z;if(z=s||z!==0?z:0,w&&D===D){for(var Z=E.length;Z--;)if(E[Z]===D)continue t;e&&E.push(D),b.push(z)}else d(E,D,s)||(E!==b&&E.push(D),b.push(z))}return b}function la(t,e){return e=Jn(e,t),t=mh(t,e),t==null||delete t[vn(Xe(e))]}function Hu(t,e,s,u){return Pr(t,e,s(fi(t,e)),u)}function Eo(t,e,s,u){for(var d=t.length,m=u?d:-1;(u?m--:++m<d)&&e(t[m],m,t););return s?Je(t,u?0:m,u?m+1:d):Je(t,u?m+1:0,u?d:m)}function Vu(t,e){var s=t;return s instanceof xt&&(s=s.value()),ho(e,function(u,d){return d.func.apply(d.thisArg,xn([u],d.args))},s)}function ua(t,e,s){var u=t.length;if(u<2)return u?Yn(t[0]):[];for(var d=-1,m=S(u);++d<u;)for(var w=t[d],b=-1;++b<u;)b!=d&&(m[d]=wr(m[d]||w,t[b],e,s));return Yn(de(m,1),e,s)}function qu(t,e,s){for(var u=-1,d=t.length,m=e.length,w={};++u<d;){var b=u<m?e[u]:i;s(w,t[u],b)}return w}function ha(t){return $t(t)?t:[]}function ca(t){return typeof t=="function"?t:ze}function Jn(t,e){return dt(t)?t:xa(t,e)?[t]:wh(Ot(t))}var _d=vt;function Xn(t,e,s){var u=t.length;return s=s===i?u:s,!e&&s>=u?t:Je(t,e,s)}var Gu=xl||function(t){return he.clearTimeout(t)};function Yu(t,e){if(e)return t.slice();var s=t.length,u=Gs?Gs(s):new t.constructor(s);return t.copy(u),u}function fa(t){var e=new t.constructor(t.byteLength);return new ai(e).set(new ai(t)),e}function gd(t,e){var s=e?fa(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}function md(t){var e=new t.constructor(t.source,Hi.exec(t));return e.lastIndex=t.lastIndex,e}function vd(t){return me?zt(me.call(t)):{}}function Ju(t,e){var s=e?fa(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}function Xu(t,e){if(t!==e){var s=t!==i,u=t===null,d=t===t,m=je(t),w=e!==i,b=e===null,E=e===e,B=je(e);if(!b&&!B&&!m&&t>e||m&&w&&E&&!b&&!B||u&&w&&E||!s&&E||!d)return 1;if(!u&&!m&&!B&&t<e||B&&s&&d&&!u&&!m||b&&s&&d||!w&&d||!E)return-1}return 0}function yd(t,e,s){for(var u=-1,d=t.criteria,m=e.criteria,w=d.length,b=s.length;++u<w;){var E=Xu(d[u],m[u]);if(E){if(u>=b)return E;var B=s[u];return E*(B=="desc"?-1:1)}}return t.index-e.index}function Ku(t,e,s,u){for(var d=-1,m=t.length,w=s.length,b=-1,E=e.length,B=y(m-w,0),z=S(E+B),D=!u;++b<E;)z[b]=e[b];for(;++d<w;)(D||d<m)&&(z[s[d]]=t[d]);for(;B--;)z[b++]=t[d++];return z}function Qu(t,e,s,u){for(var d=-1,m=t.length,w=-1,b=s.length,E=-1,B=e.length,z=y(m-b,0),D=S(z+B),Z=!u;++d<z;)D[d]=t[d];for(var J=d;++E<B;)D[J+E]=e[E];for(;++w<b;)(Z||d<m)&&(D[J+s[w]]=t[d++]);return D}function Be(t,e){var s=-1,u=t.length;for(e||(e=S(u));++s<u;)e[s]=t[s];return e}function mn(t,e,s,u){var d=!s;s||(s={});for(var m=-1,w=e.length;++m<w;){var b=e[m],E=u?u(s[b],t[b],b,s,t):i;E===i&&(E=t[b]),d?Cn(s,b,E):xr(s,b,E)}return s}function xd(t,e){return mn(t,ya(t),e)}function wd(t,e){return mn(t,ch(t),e)}function Io(t,e){return function(s,u){var d=dt(s)?lu:jf,m=e?e():{};return d(s,t,it(u,2),m)}}function Di(t){return vt(function(e,s){var u=-1,d=s.length,m=d>1?s[d-1]:i,w=d>2?s[2]:i;for(m=t.length>3&&typeof m=="function"?(d--,m):i,w&&xe(s[0],s[1],w)&&(m=d<3?i:m,d=1),e=zt(e);++u<d;){var b=s[u];b&&t(e,b,u,m)}return e})}function $u(t,e){return function(s,u){if(s==null)return s;if(!Re(s))return t(s,u);for(var d=s.length,m=e?d:-1,w=zt(s);(e?m--:++m<d)&&u(w[m],m,w)!==!1;);return s}}function th(t){return function(e,s,u){for(var d=-1,m=zt(e),w=u(e),b=w.length;b--;){var E=w[t?b:++d];if(s(m[E],E,m)===!1)break}return e}}function bd(t,e,s){var u=e&K,d=Ar(t);function m(){var w=this&&this!==he&&this instanceof m?d:t;return w.apply(u?s:this,arguments)}return m}function eh(t){return function(e){e=Ot(e);var s=oi(e)?Ze(e):i,u=s?s[0]:e.charAt(0),d=s?Xn(s,1).join(""):e.slice(1);return u[t]()+d}}function Fi(t){return function(e){return ho($h(Qh(e).replace(be,"")),t,"")}}function Ar(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var s=li(t.prototype),u=t.apply(s,e);return Vt(u)?u:s}}function Ld(t,e,s){var u=Ar(t);function d(){for(var m=arguments.length,w=S(m),b=m,E=Ui(d);b--;)w[b]=arguments[b];var B=m<3&&w[0]!==E&&w[m-1]!==E?[]:An(w,E);if(m-=B.length,m<s)return sh(t,e,Co,d.placeholder,i,w,B,i,i,s-m);var z=this&&this!==he&&this instanceof d?u:t;return le(z,this,w)}return d}function nh(t){return function(e,s,u){var d=zt(e);if(!Re(e)){var m=it(s,3);e=ce(e),s=function(b){return m(d[b],b,d)}}var w=t(e,s,u);return w>-1?d[m?e[w]:w]:i}}function ih(t){return Mn(function(e){var s=e.length,u=s,d=Oe.prototype.thru;for(t&&e.reverse();u--;){var m=e[u];if(typeof m!="function")throw new Le(p);if(d&&!w&&Bo(m)=="wrapper")var w=new Oe([],!0)}for(u=w?u:s;++u<s;){m=e[u];var b=Bo(m),E=b=="wrapper"?ma(m):i;E&&wa(E[0])&&E[1]==(Ht|X|Dt|ne)&&!E[4].length&&E[9]==1?w=w[Bo(E[0])].apply(w,E[3]):w=m.length==1&&wa(m)?w[b]():w.thru(m)}return function(){var B=arguments,z=B[0];if(w&&B.length==1&&dt(z))return w.plant(z).value();for(var D=0,Z=s?e[D].apply(this,B):z;++D<s;)Z=e[D].call(this,Z);return Z}})}function Co(t,e,s,u,d,m,w,b,E,B){var z=e&Ht,D=e&K,Z=e&nt,J=e&(X|Ct),at=e&ue,_t=Z?i:Ar(t);function lt(){for(var wt=arguments.length,bt=S(wt),He=wt;He--;)bt[He]=arguments[He];if(J)var we=Ui(lt),Ve=Dr(bt,we);if(u&&(bt=Ku(bt,u,d,J)),m&&(bt=Qu(bt,m,w,J)),wt-=Ve,J&&wt<B){var te=An(bt,we);return sh(t,e,Co,lt.placeholder,s,bt,te,b,E,B-wt)}var ln=D?s:this,kn=Z?ln[t]:t;return wt=bt.length,b?bt=jd(bt,b):at&&wt>1&&bt.reverse(),z&&E<wt&&(bt.length=E),this&&this!==he&&this instanceof lt&&(kn=_t||Ar(kn)),kn.apply(ln,bt)}return lt}function rh(t,e){return function(s,u){return Kf(s,t,e(u),{})}}function So(t,e){return function(s,u){var d;if(s===i&&u===i)return e;if(s!==i&&(d=s),u!==i){if(d===i)return u;typeof s=="string"||typeof u=="string"?(s=We(s),u=We(u)):(s=ju(s),u=ju(u)),d=t(s,u)}return d}}function da(t){return Mn(function(e){return e=Zt(e,se(it())),vt(function(s){var u=this;return t(e,function(d){return le(d,u,s)})})})}function Mo(t,e){e=e===i?" ":We(e);var s=e.length;if(s<2)return s?sa(e,t):e;var u=sa(e,er(t/on(e)));return oi(e)?Xn(Ze(u),0,t).join(""):u.slice(0,t)}function Pd(t,e,s,u){var d=e&K,m=Ar(t);function w(){for(var b=-1,E=arguments.length,B=-1,z=u.length,D=S(z+E),Z=this&&this!==he&&this instanceof w?m:t;++B<z;)D[B]=u[B];for(;E--;)D[B++]=arguments[++b];return le(Z,d?s:this,D)}return w}function oh(t){return function(e,s,u){return u&&typeof u!="number"&&xe(e,s,u)&&(s=u=i),e=Rn(e),s===i?(s=e,e=0):s=Rn(s),u=u===i?e<s?1:-1:Rn(u),ud(e,s,u,t)}}function Oo(t){return function(e,s){return typeof e=="string"&&typeof s=="string"||(e=Ke(e),s=Ke(s)),t(e,s)}}function sh(t,e,s,u,d,m,w,b,E,B){var z=e&X,D=z?w:i,Z=z?i:w,J=z?m:i,at=z?i:m;e|=z?Dt:Tt,e&=~(z?Tt:Dt),e&ct||(e&=~(K|nt));var _t=[t,e,d,J,D,at,Z,b,E,B],lt=s.apply(i,_t);return wa(t)&&vh(lt,_t),lt.placeholder=u,yh(lt,t,e)}function pa(t){var e=ie[t];return function(s,u){if(s=Ke(s),u=u==null?0:P(pt(u),292),u&&a(s)){var d=(Ot(s)+"e").split("e"),m=e(d[0]+"e"+(+d[1]+u));return d=(Ot(m)+"e").split("e"),+(d[0]+"e"+(+d[1]-u))}return e(s)}}var Ad=Me&&1/Tn(new Me([,-0]))[1]==Jt?function(t){return new Me(t)}:za;function ah(t){return function(e){var s=_e(e);return s==N?vo(e):s==et?fu(e):ml(e,t(e))}}function Sn(t,e,s,u,d,m,w,b){var E=e&nt;if(!E&&typeof t!="function")throw new Le(p);var B=u?u.length:0;if(B||(e&=~(Dt|Tt),u=d=i),w=w===i?w:y(pt(w),0),b=b===i?b:pt(b),B-=d?d.length:0,e&Tt){var z=u,D=d;u=d=i}var Z=E?i:ma(t),J=[t,e,s,u,d,z,D,m,w,b];if(Z&&Ud(J,Z),t=J[0],e=J[1],s=J[2],u=J[3],d=J[4],b=J[9]=J[9]===i?E?0:t.length:y(J[9]-B,0),!b&&e&(X|Ct)&&(e&=~(X|Ct)),!e||e==K)var at=bd(t,e,s);else e==X||e==Ct?at=Ld(t,e,b):(e==Dt||e==(K|Dt))&&!d.length?at=Pd(t,e,s,u):at=Co.apply(i,J);var _t=Z?Zu:vh;return yh(_t(at,J),t,e)}function lh(t,e,s,u){return t===i||an(t,si[s])&&!Et.call(u,s)?e:t}function uh(t,e,s,u,d,m){return Vt(t)&&Vt(e)&&(m.set(e,t),Ao(t,e,i,uh,m),m.delete(e)),t}function Td(t){return Ir(t)?i:t}function hh(t,e,s,u,d,m){var w=s&G,b=t.length,E=e.length;if(b!=E&&!(w&&E>b))return!1;var B=m.get(t),z=m.get(e);if(B&&z)return B==e&&z==t;var D=-1,Z=!0,J=s&q?new hi:i;for(m.set(t,e),m.set(e,t);++D<b;){var at=t[D],_t=e[D];if(u)var lt=w?u(_t,at,D,e,t,m):u(at,_t,D,t,e,m);if(lt!==i){if(lt)continue;Z=!1;break}if(J){if(!_r(e,function(wt,bt){if(!zi(J,bt)&&(at===wt||d(at,wt,s,u,m)))return J.push(bt)})){Z=!1;break}}else if(!(at===_t||d(at,_t,s,u,m))){Z=!1;break}}return m.delete(t),m.delete(e),Z}function Ed(t,e,s,u,d,m,w){switch(s){case ee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ut:return!(t.byteLength!=e.byteLength||!m(new ai(t),new ai(e)));case Qe:case Hn:case H:return an(+t,+e);case $n:return t.name==e.name&&t.message==e.message;case ut:case Q:return t==e+"";case N:var b=vo;case et:var E=u&G;if(b||(b=Tn),t.size!=e.size&&!E)return!1;var B=w.get(t);if(B)return B==e;u|=q,w.set(t,e);var z=hh(b(t),b(e),u,d,m,w);return w.delete(t),z;case mt:if(me)return me.call(t)==me.call(e)}return!1}function Id(t,e,s,u,d,m){var w=s&G,b=_a(t),E=b.length,B=_a(e),z=B.length;if(E!=z&&!w)return!1;for(var D=E;D--;){var Z=b[D];if(!(w?Z in e:Et.call(e,Z)))return!1}var J=m.get(t),at=m.get(e);if(J&&at)return J==e&&at==t;var _t=!0;m.set(t,e),m.set(e,t);for(var lt=w;++D<E;){Z=b[D];var wt=t[Z],bt=e[Z];if(u)var He=w?u(bt,wt,Z,e,t,m):u(wt,bt,Z,t,e,m);if(!(He===i?wt===bt||d(wt,bt,s,u,m):He)){_t=!1;break}lt||(lt=Z=="constructor")}if(_t&&!lt){var we=t.constructor,Ve=e.constructor;we!=Ve&&"constructor"in t&&"constructor"in e&&!(typeof we=="function"&&we instanceof we&&typeof Ve=="function"&&Ve instanceof Ve)&&(_t=!1)}return m.delete(t),m.delete(e),_t}function Mn(t){return La(gh(t,i,Ah),t+"")}function _a(t){return Su(t,ce,ya)}function ga(t){return Su(t,ke,ch)}var ma=en?function(t){return en.get(t)}:za;function Bo(t){for(var e=t.name+"",s=bn[e],u=Et.call(bn,e)?s.length:0;u--;){var d=s[u],m=d.func;if(m==null||m==t)return d.name}return e}function Ui(t){var e=Et.call(g,"placeholder")?g:t;return e.placeholder}function it(){var t=g.iteratee||Ra;return t=t===Ra?Bu:t,arguments.length?t(arguments[0],arguments[1]):t}function Ro(t,e){var s=t.__data__;return zd(e)?s[typeof e=="string"?"string":"hash"]:s.map}function va(t){for(var e=ce(t),s=e.length;s--;){var u=e[s],d=t[u];e[s]=[u,d,ph(d)]}return e}function di(t,e){var s=os(t,e);return Ou(s)?s:i}function Cd(t){var e=Et.call(t,Wn),s=t[Wn];try{t[Wn]=i;var u=!0}catch{}var d=Ki.call(t);return u&&(e?t[Wn]=s:delete t[Wn]),d}var ya=wo?function(t){return t==null?[]:(t=zt(t),yn(wo(t),function(e){return cs.call(t,e)}))}:Na,ch=wo?function(t){for(var e=[];t;)xn(e,ya(t)),t=Ti(t);return e}:Na,_e=ye;(yt&&_e(new yt(new ArrayBuffer(1)))!=ee||Mt&&_e(new Mt)!=N||Yt&&_e(Yt.resolve())!=ot||Me&&_e(new Me)!=et||Pe&&_e(new Pe)!=Lt)&&(_e=function(t){var e=ye(t),s=e==Y?t.constructor:i,u=s?pi(s):"";if(u)switch(u){case mu:return ee;case vu:return N;case yu:return ot;case bl:return et;case xu:return Lt}return e});function Sd(t,e,s){for(var u=-1,d=s.length;++u<d;){var m=s[u],w=m.size;switch(m.type){case"drop":t+=w;break;case"dropRight":e-=w;break;case"take":e=P(e,t+w);break;case"takeRight":t=y(t,e-w);break}}return{start:t,end:e}}function Md(t){var e=t.match(el);return e?e[1].split(nl):[]}function fh(t,e,s){e=Jn(e,t);for(var u=-1,d=e.length,m=!1;++u<d;){var w=vn(e[u]);if(!(m=t!=null&&s(t,w)))break;t=t[w]}return m||++u!=d?m:(d=t==null?0:t.length,!!d&&Zo(d)&&On(w,d)&&(dt(t)||_i(t)))}function Od(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&Et.call(t,"index")&&(s.index=t.index,s.input=t.input),s}function dh(t){return typeof t.constructor=="function"&&!Tr(t)?li(Ti(t)):{}}function Bd(t,e,s){var u=t.constructor;switch(e){case Ut:return fa(t);case Qe:case Hn:return new u(+t);case ee:return gd(t,s);case re:case Ie:case fn:case ti:case Oi:case Vn:case Bi:case rn:case $e:return Ju(t,s);case N:return new u;case H:case Q:return new u(t);case ut:return md(t);case et:return new u;case mt:return vd(t)}}function Rd(t,e){var s=e.length;if(!s)return t;var u=s-1;return e[u]=(s>1?"& ":"")+e[u],e=e.join(s>2?", ":" "),t.replace(Rt,`{
/* [wrapped with `+e+`] */
`)}function kd(t){return dt(t)||_i(t)||!!(Ys&&t&&t[Ys])}function On(t,e){var s=typeof t;return e=e??ft,!!e&&(s=="number"||s!="symbol"&&nu.test(t))&&t>-1&&t%1==0&&t<e}function xe(t,e,s){if(!Vt(s))return!1;var u=typeof e;return(u=="number"?Re(s)&&On(e,s.length):u=="string"&&e in s)?an(s[e],t):!1}function xa(t,e){if(dt(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||je(t)?!0:Ts.test(t)||!Xl.test(t)||e!=null&&t in zt(e)}function zd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wa(t){var e=Bo(t),s=g[e];if(typeof s!="function"||!(e in xt.prototype))return!1;if(t===s)return!0;var u=ma(s);return!!u&&t===u[0]}function Nd(t){return!!Xi&&Xi in t}var Dd=Ji?Bn:Da;function Tr(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||si;return t===s}function ph(t){return t===t&&!Vt(t)}function _h(t,e){return function(s){return s==null?!1:s[t]===e&&(e!==i||t in zt(s))}}function Fd(t){var e=Fo(t,function(u){return s.size===C&&s.clear(),u}),s=e.cache;return e}function Ud(t,e){var s=t[1],u=e[1],d=s|u,m=d<(K|nt|Ht),w=u==Ht&&s==X||u==Ht&&s==ne&&t[7].length<=e[8]||u==(Ht|ne)&&e[7].length<=e[8]&&s==X;if(!(m||w))return t;u&K&&(t[2]=e[2],d|=s&K?0:ct);var b=e[3];if(b){var E=t[3];t[3]=E?Ku(E,b,e[4]):b,t[4]=E?An(t[3],I):e[4]}return b=e[5],b&&(E=t[5],t[5]=E?Qu(E,b,e[6]):b,t[6]=E?An(t[5],I):e[6]),b=e[7],b&&(t[7]=b),u&Ht&&(t[8]=t[8]==null?e[8]:P(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=d,t}function Zd(t){var e=[];if(t!=null)for(var s in zt(t))e.push(s);return e}function Wd(t){return Ki.call(t)}function gh(t,e,s){return e=y(e===i?t.length-1:e,0),function(){for(var u=arguments,d=-1,m=y(u.length-e,0),w=S(m);++d<m;)w[d]=u[e+d];d=-1;for(var b=S(e+1);++d<e;)b[d]=u[d];return b[e]=s(w),le(t,this,b)}}function mh(t,e){return e.length<2?t:fi(t,Je(e,0,-1))}function jd(t,e){for(var s=t.length,u=P(e.length,s),d=Be(t);u--;){var m=e[u];t[u]=On(m,s)?d[m]:i}return t}function ba(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var vh=xh(Zu),Er=gu||function(t,e){return he.setTimeout(t,e)},La=xh(fd);function yh(t,e,s){var u=e+"";return La(t,Rd(u,Hd(Md(u),s)))}function xh(t){var e=0,s=0;return function(){var u=k(),d=yi-(u-s);if(s=u,d>0){if(++e>=nn)return arguments[0]}else e=0;return t.apply(i,arguments)}}function ko(t,e){var s=-1,u=t.length,d=u-1;for(e=e===i?u:e;++s<e;){var m=oa(s,d),w=t[m];t[m]=t[s],t[s]=w}return t.length=e,t}var wh=Fd(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kl,function(s,u,d,m){e.push(d?m.replace(Es,"$1"):u||s)}),e});function vn(t){if(typeof t=="string"||je(t))return t;var e=t+"";return e=="0"&&1/t==-Jt?"-0":e}function pi(t){if(t!=null){try{return mr.call(t)}catch{}try{return t+""}catch{}}return""}function Hd(t,e){return Ue(qe,function(s){var u="_."+s[0];e&s[1]&&!ki(t,u)&&t.push(u)}),t.sort()}function bh(t){if(t instanceof xt)return t.clone();var e=new Oe(t.__wrapped__,t.__chain__);return e.__actions__=Be(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Vd(t,e,s){(s?xe(t,e,s):e===i)?e=1:e=y(pt(e),0);var u=t==null?0:t.length;if(!u||e<1)return[];for(var d=0,m=0,w=S(er(u/e));d<u;)w[m++]=Je(t,d,d+=e);return w}function qd(t){for(var e=-1,s=t==null?0:t.length,u=0,d=[];++e<s;){var m=t[e];m&&(d[u++]=m)}return d}function Gd(){var t=arguments.length;if(!t)return[];for(var e=S(t-1),s=arguments[0],u=t;u--;)e[u-1]=arguments[u];return xn(dt(s)?Be(s):[s],de(e,1))}var Yd=vt(function(t,e){return $t(t)?wr(t,de(e,1,$t,!0)):[]}),Jd=vt(function(t,e){var s=Xe(e);return $t(s)&&(s=i),$t(t)?wr(t,de(e,1,$t,!0),it(s,2)):[]}),Xd=vt(function(t,e){var s=Xe(e);return $t(s)&&(s=i),$t(t)?wr(t,de(e,1,$t,!0),i,s):[]});function Kd(t,e,s){var u=t==null?0:t.length;return u?(e=s||e===i?1:pt(e),Je(t,e<0?0:e,u)):[]}function Qd(t,e,s){var u=t==null?0:t.length;return u?(e=s||e===i?1:pt(e),e=u-e,Je(t,0,e<0?0:e)):[]}function $d(t,e){return t&&t.length?Eo(t,it(e,3),!0,!0):[]}function tp(t,e){return t&&t.length?Eo(t,it(e,3),!0):[]}function ep(t,e,s,u){var d=t==null?0:t.length;return d?(s&&typeof s!="number"&&xe(t,e,s)&&(s=0,u=d),Gf(t,e,s,u)):[]}function Lh(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=s==null?0:pt(s);return d<0&&(d=y(u+d,0)),qn(t,it(e,3),d)}function Ph(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=u-1;return s!==i&&(d=pt(s),d=s<0?y(u+d,0):P(d,u-1)),qn(t,it(e,3),d,!0)}function Ah(t){var e=t==null?0:t.length;return e?de(t,1):[]}function np(t){var e=t==null?0:t.length;return e?de(t,Jt):[]}function ip(t,e){var s=t==null?0:t.length;return s?(e=e===i?1:pt(e),de(t,e)):[]}function rp(t){for(var e=-1,s=t==null?0:t.length,u={};++e<s;){var d=t[e];u[d[0]]=d[1]}return u}function Th(t){return t&&t.length?t[0]:i}function op(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=s==null?0:pt(s);return d<0&&(d=y(u+d,0)),ii(t,e,d)}function sp(t){var e=t==null?0:t.length;return e?Je(t,0,-1):[]}var ap=vt(function(t){var e=Zt(t,ha);return e.length&&e[0]===t[0]?ta(e):[]}),lp=vt(function(t){var e=Xe(t),s=Zt(t,ha);return e===Xe(s)?e=i:s.pop(),s.length&&s[0]===t[0]?ta(s,it(e,2)):[]}),up=vt(function(t){var e=Xe(t),s=Zt(t,ha);return e=typeof e=="function"?e:i,e&&s.pop(),s.length&&s[0]===t[0]?ta(s,i,e):[]});function hp(t,e){return t==null?"":c.call(t,e)}function Xe(t){var e=t==null?0:t.length;return e?t[e-1]:i}function cp(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=u;return s!==i&&(d=pt(s),d=d<0?y(u+d,0):P(d,u-1)),e===e?du(t,e,d):qn(t,Un,d,!0)}function fp(t,e){return t&&t.length?Nu(t,pt(e)):i}var dp=vt(Eh);function Eh(t,e){return t&&t.length&&e&&e.length?ra(t,e):t}function pp(t,e,s){return t&&t.length&&e&&e.length?ra(t,e,it(s,2)):t}function _p(t,e,s){return t&&t.length&&e&&e.length?ra(t,e,i,s):t}var gp=Mn(function(t,e){var s=t==null?0:t.length,u=Xs(t,e);return Uu(t,Zt(e,function(d){return On(d,s)?+d:d}).sort(Xu)),u});function mp(t,e){var s=[];if(!(t&&t.length))return s;var u=-1,d=[],m=t.length;for(e=it(e,3);++u<m;){var w=t[u];e(w,u,t)&&(s.push(w),d.push(u))}return Uu(t,d),s}function Pa(t){return t==null?t:$.call(t)}function vp(t,e,s){var u=t==null?0:t.length;return u?(s&&typeof s!="number"&&xe(t,e,s)?(e=0,s=u):(e=e==null?0:pt(e),s=s===i?u:pt(s)),Je(t,e,s)):[]}function yp(t,e){return To(t,e)}function xp(t,e,s){return aa(t,e,it(s,2))}function wp(t,e){var s=t==null?0:t.length;if(s){var u=To(t,e);if(u<s&&an(t[u],e))return u}return-1}function bp(t,e){return To(t,e,!0)}function Lp(t,e,s){return aa(t,e,it(s,2),!0)}function Pp(t,e){var s=t==null?0:t.length;if(s){var u=To(t,e,!0)-1;if(an(t[u],e))return u}return-1}function Ap(t){return t&&t.length?Wu(t):[]}function Tp(t,e){return t&&t.length?Wu(t,it(e,2)):[]}function Ep(t){var e=t==null?0:t.length;return e?Je(t,1,e):[]}function Ip(t,e,s){return t&&t.length?(e=s||e===i?1:pt(e),Je(t,0,e<0?0:e)):[]}function Cp(t,e,s){var u=t==null?0:t.length;return u?(e=s||e===i?1:pt(e),e=u-e,Je(t,e<0?0:e,u)):[]}function Sp(t,e){return t&&t.length?Eo(t,it(e,3),!1,!0):[]}function Mp(t,e){return t&&t.length?Eo(t,it(e,3)):[]}var Op=vt(function(t){return Yn(de(t,1,$t,!0))}),Bp=vt(function(t){var e=Xe(t);return $t(e)&&(e=i),Yn(de(t,1,$t,!0),it(e,2))}),Rp=vt(function(t){var e=Xe(t);return e=typeof e=="function"?e:i,Yn(de(t,1,$t,!0),i,e)});function kp(t){return t&&t.length?Yn(t):[]}function zp(t,e){return t&&t.length?Yn(t,it(e,2)):[]}function Np(t,e){return e=typeof e=="function"?e:i,t&&t.length?Yn(t,i,e):[]}function Aa(t){if(!(t&&t.length))return[];var e=0;return t=yn(t,function(s){if($t(s))return e=y(s.length,e),!0}),go(e,function(s){return Zt(t,Nr(s))})}function Ih(t,e){if(!(t&&t.length))return[];var s=Aa(t);return e==null?s:Zt(s,function(u){return le(e,i,u)})}var Dp=vt(function(t,e){return $t(t)?wr(t,e):[]}),Fp=vt(function(t){return ua(yn(t,$t))}),Up=vt(function(t){var e=Xe(t);return $t(e)&&(e=i),ua(yn(t,$t),it(e,2))}),Zp=vt(function(t){var e=Xe(t);return e=typeof e=="function"?e:i,ua(yn(t,$t),i,e)}),Wp=vt(Aa);function jp(t,e){return qu(t||[],e||[],xr)}function Hp(t,e){return qu(t||[],e||[],Pr)}var Vp=vt(function(t){var e=t.length,s=e>1?t[e-1]:i;return s=typeof s=="function"?(t.pop(),s):i,Ih(t,s)});function Ch(t){var e=g(t);return e.__chain__=!0,e}function qp(t,e){return e(t),t}function zo(t,e){return e(t)}var Gp=Mn(function(t){var e=t.length,s=e?t[0]:0,u=this.__wrapped__,d=function(m){return Xs(m,t)};return e>1||this.__actions__.length||!(u instanceof xt)||!On(s)?this.thru(d):(u=u.slice(s,+s+(e?1:0)),u.__actions__.push({func:zo,args:[d],thisArg:i}),new Oe(u,this.__chain__).thru(function(m){return e&&!m.length&&m.push(i),m}))});function Yp(){return Ch(this)}function Jp(){return new Oe(this.value(),this.__chain__)}function Xp(){this.__values__===i&&(this.__values__=jh(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function Kp(){return this}function Qp(t){for(var e,s=this;s instanceof yr;){var u=bh(s);u.__index__=0,u.__values__=i,e?d.__wrapped__=u:e=u;var d=u;s=s.__wrapped__}return d.__wrapped__=t,e}function $p(){var t=this.__wrapped__;if(t instanceof xt){var e=t;return this.__actions__.length&&(e=new xt(this)),e=e.reverse(),e.__actions__.push({func:zo,args:[Pa],thisArg:i}),new Oe(e,this.__chain__)}return this.thru(Pa)}function t_(){return Vu(this.__wrapped__,this.__actions__)}var e_=Io(function(t,e,s){Et.call(t,s)?++t[s]:Cn(t,s,1)});function n_(t,e,s){var u=dt(t)?is:qf;return s&&xe(t,e,s)&&(e=i),u(t,it(e,3))}function i_(t,e){var s=dt(t)?yn:Iu;return s(t,it(e,3))}var r_=nh(Lh),o_=nh(Ph);function s_(t,e){return de(No(t,e),1)}function a_(t,e){return de(No(t,e),Jt)}function l_(t,e,s){return s=s===i?1:pt(s),de(No(t,e),s)}function Sh(t,e){var s=dt(t)?Ue:Gn;return s(t,it(e,3))}function Mh(t,e){var s=dt(t)?Gi:Eu;return s(t,it(e,3))}var u_=Io(function(t,e,s){Et.call(t,s)?t[s].push(e):Cn(t,s,[e])});function h_(t,e,s,u){t=Re(t)?t:Wi(t),s=s&&!u?pt(s):0;var d=t.length;return s<0&&(s=y(d+s,0)),Wo(t)?s<=d&&t.indexOf(e,s)>-1:!!d&&ii(t,e,s)>-1}var c_=vt(function(t,e,s){var u=-1,d=typeof e=="function",m=Re(t)?S(t.length):[];return Gn(t,function(w){m[++u]=d?le(e,w,s):br(w,e,s)}),m}),f_=Io(function(t,e,s){Cn(t,s,e)});function No(t,e){var s=dt(t)?Zt:Ru;return s(t,it(e,3))}function d_(t,e,s,u){return t==null?[]:(dt(e)||(e=e==null?[]:[e]),s=u?i:s,dt(s)||(s=s==null?[]:[s]),Du(t,e,s))}var p_=Io(function(t,e,s){t[s?0:1].push(e)},function(){return[[],[]]});function __(t,e,s){var u=dt(t)?ho:po,d=arguments.length<3;return u(t,it(e,4),s,d,Gn)}function g_(t,e,s){var u=dt(t)?uu:po,d=arguments.length<3;return u(t,it(e,4),s,d,Eu)}function m_(t,e){var s=dt(t)?yn:Iu;return s(t,Uo(it(e,3)))}function v_(t){var e=dt(t)?Lu:hd;return e(t)}function y_(t,e,s){(s?xe(t,e,s):e===i)?e=1:e=pt(e);var u=dt(t)?Zf:cd;return u(t,e)}function x_(t){var e=dt(t)?Wf:dd;return e(t)}function w_(t){if(t==null)return 0;if(Re(t))return Wo(t)?on(t):t.length;var e=_e(t);return e==N||e==et?t.size:na(t).length}function b_(t,e,s){var u=dt(t)?_r:pd;return s&&xe(t,e,s)&&(e=i),u(t,it(e,3))}var L_=vt(function(t,e){if(t==null)return[];var s=e.length;return s>1&&xe(t,e[0],e[1])?e=[]:s>2&&xe(e[0],e[1],e[2])&&(e=[e[0]]),Du(t,de(e,1),[])}),Do=wl||function(){return he.Date.now()};function P_(t,e){if(typeof e!="function")throw new Le(p);return t=pt(t),function(){if(--t<1)return e.apply(this,arguments)}}function Oh(t,e,s){return e=s?i:e,e=t&&e==null?t.length:e,Sn(t,Ht,i,i,i,i,e)}function Bh(t,e){var s;if(typeof e!="function")throw new Le(p);return t=pt(t),function(){return--t>0&&(s=e.apply(this,arguments)),t<=1&&(e=i),s}}var Ta=vt(function(t,e,s){var u=K;if(s.length){var d=An(s,Ui(Ta));u|=Dt}return Sn(t,u,e,s,d)}),Rh=vt(function(t,e,s){var u=K|nt;if(s.length){var d=An(s,Ui(Rh));u|=Dt}return Sn(e,u,t,s,d)});function kh(t,e,s){e=s?i:e;var u=Sn(t,X,i,i,i,i,i,e);return u.placeholder=kh.placeholder,u}function zh(t,e,s){e=s?i:e;var u=Sn(t,Ct,i,i,i,i,i,e);return u.placeholder=zh.placeholder,u}function Nh(t,e,s){var u,d,m,w,b,E,B=0,z=!1,D=!1,Z=!0;if(typeof t!="function")throw new Le(p);e=Ke(e)||0,Vt(s)&&(z=!!s.leading,D="maxWait"in s,m=D?y(Ke(s.maxWait)||0,e):m,Z="trailing"in s?!!s.trailing:Z);function J(te){var ln=u,kn=d;return u=d=i,B=te,w=t.apply(kn,ln),w}function at(te){return B=te,b=Er(wt,e),z?J(te):w}function _t(te){var ln=te-E,kn=te-B,nc=e-ln;return D?P(nc,m-kn):nc}function lt(te){var ln=te-E,kn=te-B;return E===i||ln>=e||ln<0||D&&kn>=m}function wt(){var te=Do();if(lt(te))return bt(te);b=Er(wt,_t(te))}function bt(te){return b=i,Z&&u?J(te):(u=d=i,w)}function He(){b!==i&&Gu(b),B=0,u=E=d=b=i}function we(){return b===i?w:bt(Do())}function Ve(){var te=Do(),ln=lt(te);if(u=arguments,d=this,E=te,ln){if(b===i)return at(E);if(D)return Gu(b),b=Er(wt,e),J(E)}return b===i&&(b=Er(wt,e)),w}return Ve.cancel=He,Ve.flush=we,Ve}var A_=vt(function(t,e){return Tu(t,1,e)}),T_=vt(function(t,e,s){return Tu(t,Ke(e)||0,s)});function E_(t){return Sn(t,ue)}function Fo(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new Le(p);var s=function(){var u=arguments,d=e?e.apply(this,u):u[0],m=s.cache;if(m.has(d))return m.get(d);var w=t.apply(this,u);return s.cache=m.set(d,w)||m,w};return s.cache=new(Fo.Cache||In),s}Fo.Cache=In;function Uo(t){if(typeof t!="function")throw new Le(p);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function I_(t){return Bh(2,t)}var C_=_d(function(t,e){e=e.length==1&&dt(e[0])?Zt(e[0],se(it())):Zt(de(e,1),se(it()));var s=e.length;return vt(function(u){for(var d=-1,m=P(u.length,s);++d<m;)u[d]=e[d].call(this,u[d]);return le(t,this,u)})}),Ea=vt(function(t,e){var s=An(e,Ui(Ea));return Sn(t,Dt,i,e,s)}),Dh=vt(function(t,e){var s=An(e,Ui(Dh));return Sn(t,Tt,i,e,s)}),S_=Mn(function(t,e){return Sn(t,ne,i,i,i,e)});function M_(t,e){if(typeof t!="function")throw new Le(p);return e=e===i?e:pt(e),vt(t,e)}function O_(t,e){if(typeof t!="function")throw new Le(p);return e=e==null?0:y(pt(e),0),vt(function(s){var u=s[e],d=Xn(s,0,e);return u&&xn(d,u),le(t,this,d)})}function B_(t,e,s){var u=!0,d=!0;if(typeof t!="function")throw new Le(p);return Vt(s)&&(u="leading"in s?!!s.leading:u,d="trailing"in s?!!s.trailing:d),Nh(t,e,{leading:u,maxWait:e,trailing:d})}function R_(t){return Oh(t,1)}function k_(t,e){return Ea(ca(e),t)}function z_(){if(!arguments.length)return[];var t=arguments[0];return dt(t)?t:[t]}function N_(t){return Ye(t,tt)}function D_(t,e){return e=typeof e=="function"?e:i,Ye(t,tt,e)}function F_(t){return Ye(t,O|tt)}function U_(t,e){return e=typeof e=="function"?e:i,Ye(t,O|tt,e)}function Z_(t,e){return e==null||Au(t,e,ce(e))}function an(t,e){return t===e||t!==t&&e!==e}var W_=Oo($s),j_=Oo(function(t,e){return t>=e}),_i=Mu(function(){return arguments}())?Mu:function(t){return Xt(t)&&Et.call(t,"callee")&&!cs.call(t,"callee")},dt=S.isArray,H_=Ds?se(Ds):Qf;function Re(t){return t!=null&&Zo(t.length)&&!Bn(t)}function $t(t){return Xt(t)&&Re(t)}function V_(t){return t===!0||t===!1||Xt(t)&&ye(t)==Qe}var Kn=r||Da,q_=ns?se(ns):$f;function G_(t){return Xt(t)&&t.nodeType===1&&!Ir(t)}function Y_(t){if(t==null)return!0;if(Re(t)&&(dt(t)||typeof t=="string"||typeof t.splice=="function"||Kn(t)||Zi(t)||_i(t)))return!t.length;var e=_e(t);if(e==N||e==et)return!t.size;if(Tr(t))return!na(t).length;for(var s in t)if(Et.call(t,s))return!1;return!0}function J_(t,e){return Lr(t,e)}function X_(t,e,s){s=typeof s=="function"?s:i;var u=s?s(t,e):i;return u===i?Lr(t,e,i,s):!!u}function Ia(t){if(!Xt(t))return!1;var e=ye(t);return e==$n||e==Mi||typeof t.message=="string"&&typeof t.name=="string"&&!Ir(t)}function K_(t){return typeof t=="number"&&a(t)}function Bn(t){if(!Vt(t))return!1;var e=ye(t);return e==Dn||e==R||e==Nn||e==gt}function Fh(t){return typeof t=="number"&&t==pt(t)}function Zo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ft}function Vt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Xt(t){return t!=null&&typeof t=="object"}var Uh=Fs?se(Fs):ed;function Q_(t,e){return t===e||ea(t,e,va(e))}function $_(t,e,s){return s=typeof s=="function"?s:i,ea(t,e,va(e),s)}function tg(t){return Zh(t)&&t!=+t}function eg(t){if(Dd(t))throw new ht(f);return Ou(t)}function ng(t){return t===null}function ig(t){return t==null}function Zh(t){return typeof t=="number"||Xt(t)&&ye(t)==H}function Ir(t){if(!Xt(t)||ye(t)!=Y)return!1;var e=Ti(t);if(e===null)return!0;var s=Et.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&mr.call(s)==yl}var Ca=Us?se(Us):nd;function rg(t){return Fh(t)&&t>=-ft&&t<=ft}var Wh=lo?se(lo):id;function Wo(t){return typeof t=="string"||!dt(t)&&Xt(t)&&ye(t)==Q}function je(t){return typeof t=="symbol"||Xt(t)&&ye(t)==mt}var Zi=Zs?se(Zs):rd;function og(t){return t===i}function sg(t){return Xt(t)&&_e(t)==Lt}function ag(t){return Xt(t)&&ye(t)==Wt}var lg=Oo(ia),ug=Oo(function(t,e){return t<=e});function jh(t){if(!t)return[];if(Re(t))return Wo(t)?Ze(t):Be(t);if(Ei&&t[Ei])return ss(t[Ei]());var e=_e(t),s=e==N?vo:e==et?Tn:Wi;return s(t)}function Rn(t){if(!t)return t===0?t:0;if(t=Ke(t),t===Jt||t===-Jt){var e=t<0?-1:1;return e*xi}return t===t?t:0}function pt(t){var e=Rn(t),s=e%1;return e===e?s?e-s:e:0}function Hh(t){return t?ci(pt(t),0,Ft):0}function Ke(t){if(typeof t=="number")return t;if(je(t))return kt;if(Vt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=js(t);var s=$l.test(t);return s||eu.test(t)?au(t.slice(2),s?2:8):sl.test(t)?kt:+t}function Vh(t){return mn(t,ke(t))}function hg(t){return t?ci(pt(t),-ft,ft):t===0?t:0}function Ot(t){return t==null?"":We(t)}var cg=Di(function(t,e){if(Tr(e)||Re(e)){mn(e,ce(e),t);return}for(var s in e)Et.call(e,s)&&xr(t,s,e[s])}),qh=Di(function(t,e){mn(e,ke(e),t)}),jo=Di(function(t,e,s,u){mn(e,ke(e),t,u)}),fg=Di(function(t,e,s,u){mn(e,ce(e),t,u)}),dg=Mn(Xs);function pg(t,e){var s=li(t);return e==null?s:Pu(s,e)}var _g=vt(function(t,e){t=zt(t);var s=-1,u=e.length,d=u>2?e[2]:i;for(d&&xe(e[0],e[1],d)&&(u=1);++s<u;)for(var m=e[s],w=ke(m),b=-1,E=w.length;++b<E;){var B=w[b],z=t[B];(z===i||an(z,si[B])&&!Et.call(t,B))&&(t[B]=m[B])}return t}),gg=vt(function(t){return t.push(i,uh),le(Gh,i,t)});function mg(t,e){return zr(t,it(e,3),gn)}function vg(t,e){return zr(t,it(e,3),Qs)}function yg(t,e){return t==null?t:Ks(t,it(e,3),ke)}function xg(t,e){return t==null?t:Cu(t,it(e,3),ke)}function wg(t,e){return t&&gn(t,it(e,3))}function bg(t,e){return t&&Qs(t,it(e,3))}function Lg(t){return t==null?[]:Po(t,ce(t))}function Pg(t){return t==null?[]:Po(t,ke(t))}function Sa(t,e,s){var u=t==null?i:fi(t,e);return u===i?s:u}function Ag(t,e){return t!=null&&fh(t,e,Yf)}function Ma(t,e){return t!=null&&fh(t,e,Jf)}var Tg=rh(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=Ki.call(e)),t[e]=s},Ba(ze)),Eg=rh(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=Ki.call(e)),Et.call(t,e)?t[e].push(s):t[e]=[s]},it),Ig=vt(br);function ce(t){return Re(t)?bu(t):na(t)}function ke(t){return Re(t)?bu(t,!0):od(t)}function Cg(t,e){var s={};return e=it(e,3),gn(t,function(u,d,m){Cn(s,e(u,d,m),u)}),s}function Sg(t,e){var s={};return e=it(e,3),gn(t,function(u,d,m){Cn(s,d,e(u,d,m))}),s}var Mg=Di(function(t,e,s){Ao(t,e,s)}),Gh=Di(function(t,e,s,u){Ao(t,e,s,u)}),Og=Mn(function(t,e){var s={};if(t==null)return s;var u=!1;e=Zt(e,function(m){return m=Jn(m,t),u||(u=m.length>1),m}),mn(t,ga(t),s),u&&(s=Ye(s,O|U|tt,Td));for(var d=e.length;d--;)la(s,e[d]);return s});function Bg(t,e){return Yh(t,Uo(it(e)))}var Rg=Mn(function(t,e){return t==null?{}:ad(t,e)});function Yh(t,e){if(t==null)return{};var s=Zt(ga(t),function(u){return[u]});return e=it(e),Fu(t,s,function(u,d){return e(u,d[0])})}function kg(t,e,s){e=Jn(e,t);var u=-1,d=e.length;for(d||(d=1,t=i);++u<d;){var m=t==null?i:t[vn(e[u])];m===i&&(u=d,m=s),t=Bn(m)?m.call(t):m}return t}function zg(t,e,s){return t==null?t:Pr(t,e,s)}function Ng(t,e,s,u){return u=typeof u=="function"?u:i,t==null?t:Pr(t,e,s,u)}var Jh=ah(ce),Xh=ah(ke);function Dg(t,e,s){var u=dt(t),d=u||Kn(t)||Zi(t);if(e=it(e,4),s==null){var m=t&&t.constructor;d?s=u?new m:[]:Vt(t)?s=Bn(m)?li(Ti(t)):{}:s={}}return(d?Ue:gn)(t,function(w,b,E){return e(s,w,b,E)}),s}function Fg(t,e){return t==null?!0:la(t,e)}function Ug(t,e,s){return t==null?t:Hu(t,e,ca(s))}function Zg(t,e,s,u){return u=typeof u=="function"?u:i,t==null?t:Hu(t,e,ca(s),u)}function Wi(t){return t==null?[]:Pi(t,ce(t))}function Wg(t){return t==null?[]:Pi(t,ke(t))}function jg(t,e,s){return s===i&&(s=e,e=i),s!==i&&(s=Ke(s),s=s===s?s:0),e!==i&&(e=Ke(e),e=e===e?e:0),ci(Ke(t),e,s)}function Hg(t,e,s){return e=Rn(e),s===i?(s=e,e=0):s=Rn(s),t=Ke(t),Xf(t,e,s)}function Vg(t,e,s){if(s&&typeof s!="boolean"&&xe(t,e,s)&&(e=s=i),s===i&&(typeof e=="boolean"?(s=e,e=i):typeof t=="boolean"&&(s=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Rn(t),e===i?(e=t,t=0):e=Rn(e)),t>e){var u=t;t=e,e=u}if(s||t%1||e%1){var d=W();return P(t+d*(e-t+Ns("1e-"+((d+"").length-1))),e)}return oa(t,e)}var qg=Fi(function(t,e,s){return e=e.toLowerCase(),t+(s?Kh(e):e)});function Kh(t){return Oa(Ot(t).toLowerCase())}function Qh(t){return t=Ot(t),t&&t.replace(al,cu).replace(cl,"")}function Gg(t,e,s){t=Ot(t),e=We(e);var u=t.length;s=s===i?u:ci(pt(s),0,u);var d=s;return s-=e.length,s>=0&&t.slice(s,d)==e}function Yg(t){return t=Ot(t),t&&Gl.test(t)?t.replace(Xo,mo):t}function Jg(t){return t=Ot(t),t&&Ql.test(t)?t.replace(Kr,"\\$&"):t}var Xg=Fi(function(t,e,s){return t+(s?"-":"")+e.toLowerCase()}),Kg=Fi(function(t,e,s){return t+(s?" ":"")+e.toLowerCase()}),Qg=eh("toLowerCase");function $g(t,e,s){t=Ot(t),e=pt(e);var u=e?on(t):0;if(!e||u>=e)return t;var d=(e-u)/2;return Mo(nr(d),s)+t+Mo(er(d),s)}function tm(t,e,s){t=Ot(t),e=pt(e);var u=e?on(t):0;return e&&u<e?t+Mo(e-u,s):t}function em(t,e,s){t=Ot(t),e=pt(e);var u=e?on(t):0;return e&&u<e?Mo(e-u,s)+t:t}function nm(t,e,s){return s||e==null?e=0:e&&(e=+e),F(Ot(t).replace(Qr,""),e||0)}function im(t,e,s){return(s?xe(t,e,s):e===i)?e=1:e=pt(e),sa(Ot(t),e)}function rm(){var t=arguments,e=Ot(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var om=Fi(function(t,e,s){return t+(s?"_":"")+e.toLowerCase()});function sm(t,e,s){return s&&typeof s!="number"&&xe(t,e,s)&&(e=s=i),s=s===i?Ft:s>>>0,s?(t=Ot(t),t&&(typeof e=="string"||e!=null&&!Ca(e))&&(e=We(e),!e&&oi(t))?Xn(Ze(t),0,s):t.split(e,s)):[]}var am=Fi(function(t,e,s){return t+(s?" ":"")+Oa(e)});function lm(t,e,s){return t=Ot(t),s=s==null?0:ci(pt(s),0,t.length),e=We(e),t.slice(s,s+e.length)==e}function um(t,e,s){var u=g.templateSettings;s&&xe(t,e,s)&&(e=i),t=Ot(t),e=jo({},e,u,lh);var d=jo({},e.imports,u.imports,lh),m=ce(d),w=Pi(d,m),b,E,B=0,z=e.interpolate||lr,D="__p += '",Z=xo((e.escape||lr).source+"|"+z.source+"|"+(z===As?ol:lr).source+"|"+(e.evaluate||lr).source+"|$","g"),J="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++so+"]")+`
`;t.replace(Z,function(lt,wt,bt,He,we,Ve){return bt||(bt=He),D+=t.slice(B,Ve).replace(Ko,vl),wt&&(b=!0,D+=`' +
__e(`+wt+`) +
'`),we&&(E=!0,D+=`';
`+we+`;
__p += '`),bt&&(D+=`' +
((__t = (`+bt+`)) == null ? '' : __t) +
'`),B=Ve+lt.length,lt}),D+=`';
`;var at=Et.call(e,"variable")&&e.variable;if(!at)D=`with (obj) {
`+D+`
}
`;else if(rl.test(at))throw new ht(x);D=(E?D.replace(Yo,""):D).replace(Vl,"$1").replace(tl,"$1;"),D="function("+(at||"obj")+`) {
`+(at?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+D+`return __p
}`;var _t=tc(function(){return At(m,J+"return "+D).apply(i,w)});if(_t.source=D,Ia(_t))throw _t;return _t}function hm(t){return Ot(t).toLowerCase()}function cm(t){return Ot(t).toUpperCase()}function fm(t,e,s){if(t=Ot(t),t&&(s||e===i))return js(t);if(!t||!(e=We(e)))return t;var u=Ze(t),d=Ze(e),m=ri(u,d),w=Hs(u,d)+1;return Xn(u,m,w).join("")}function dm(t,e,s){if(t=Ot(t),t&&(s||e===i))return t.slice(0,as(t)+1);if(!t||!(e=We(e)))return t;var u=Ze(t),d=Hs(u,Ze(e))+1;return Xn(u,0,d).join("")}function pm(t,e,s){if(t=Ot(t),t&&(s||e===i))return t.replace(Qr,"");if(!t||!(e=We(e)))return t;var u=Ze(t),d=ri(u,Ze(e));return Xn(u,d).join("")}function _m(t,e){var s=Te,u=Fe;if(Vt(e)){var d="separator"in e?e.separator:d;s="length"in e?pt(e.length):s,u="omission"in e?We(e.omission):u}t=Ot(t);var m=t.length;if(oi(t)){var w=Ze(t);m=w.length}if(s>=m)return t;var b=s-on(u);if(b<1)return u;var E=w?Xn(w,0,b).join(""):t.slice(0,b);if(d===i)return E+u;if(w&&(b+=E.length-b),Ca(d)){if(t.slice(b).search(d)){var B,z=E;for(d.global||(d=xo(d.source,Ot(Hi.exec(d))+"g")),d.lastIndex=0;B=d.exec(z);)var D=B.index;E=E.slice(0,D===i?b:D)}}else if(t.indexOf(We(d),b)!=b){var Z=E.lastIndexOf(d);Z>-1&&(E=E.slice(0,Z))}return E+u}function gm(t){return t=Ot(t),t&&ql.test(t)?t.replace(Jo,Vs):t}var mm=Fi(function(t,e,s){return t+(s?" ":"")+e.toUpperCase()}),Oa=eh("toUpperCase");function $h(t,e,s){return t=Ot(t),e=s?i:e,e===i?Yi(t)?us(t):gl(t):t.match(e)||[]}var tc=vt(function(t,e){try{return le(t,i,e)}catch(s){return Ia(s)?s:new ht(s)}}),vm=Mn(function(t,e){return Ue(e,function(s){s=vn(s),Cn(t,s,Ta(t[s],t))}),t});function ym(t){var e=t==null?0:t.length,s=it();return t=e?Zt(t,function(u){if(typeof u[1]!="function")throw new Le(p);return[s(u[0]),u[1]]}):[],vt(function(u){for(var d=-1;++d<e;){var m=t[d];if(le(m[0],this,u))return le(m[1],this,u)}})}function xm(t){return Vf(Ye(t,O))}function Ba(t){return function(){return t}}function wm(t,e){return t==null||t!==t?e:t}var bm=ih(),Lm=ih(!0);function ze(t){return t}function Ra(t){return Bu(typeof t=="function"?t:Ye(t,O))}function Pm(t){return ku(Ye(t,O))}function Am(t,e){return zu(t,Ye(e,O))}var Tm=vt(function(t,e){return function(s){return br(s,t,e)}}),Em=vt(function(t,e){return function(s){return br(t,s,e)}});function ka(t,e,s){var u=ce(e),d=Po(e,u);s==null&&!(Vt(e)&&(d.length||!u.length))&&(s=e,e=t,t=this,d=Po(e,ce(e)));var m=!(Vt(s)&&"chain"in s)||!!s.chain,w=Bn(t);return Ue(d,function(b){var E=e[b];t[b]=E,w&&(t.prototype[b]=function(){var B=this.__chain__;if(m||B){var z=t(this.__wrapped__),D=z.__actions__=Be(this.__actions__);return D.push({func:E,args:arguments,thisArg:t}),z.__chain__=B,z}return E.apply(t,xn([this.value()],arguments))})}),t}function Im(){return he._===this&&(he._=_u),this}function za(){}function Cm(t){return t=pt(t),vt(function(e){return Nu(e,t)})}var Sm=da(Zt),Mm=da(is),Om=da(_r);function ec(t){return xa(t)?Nr(vn(t)):ld(t)}function Bm(t){return function(e){return t==null?i:fi(t,e)}}var Rm=oh(),km=oh(!0);function Na(){return[]}function Da(){return!1}function zm(){return{}}function Nm(){return""}function Dm(){return!0}function Fm(t,e){if(t=pt(t),t<1||t>ft)return[];var s=Ft,u=P(t,Ft);e=it(e),t-=Ft;for(var d=go(u,e);++s<t;)e(s);return d}function Um(t){return dt(t)?Zt(t,vn):je(t)?[t]:Be(wh(Ot(t)))}function Zm(t){var e=++pu;return Ot(t)+e}var Wm=So(function(t,e){return t+e},0),jm=pa("ceil"),Hm=So(function(t,e){return t/e},1),Vm=pa("floor");function qm(t){return t&&t.length?Lo(t,ze,$s):i}function Gm(t,e){return t&&t.length?Lo(t,it(e,2),$s):i}function Ym(t){return rs(t,ze)}function Jm(t,e){return rs(t,it(e,2))}function Xm(t){return t&&t.length?Lo(t,ze,ia):i}function Km(t,e){return t&&t.length?Lo(t,it(e,2),ia):i}var Qm=So(function(t,e){return t*e},1),$m=pa("round"),tv=So(function(t,e){return t-e},0);function ev(t){return t&&t.length?_o(t,ze):0}function nv(t,e){return t&&t.length?_o(t,it(e,2)):0}return g.after=P_,g.ary=Oh,g.assign=cg,g.assignIn=qh,g.assignInWith=jo,g.assignWith=fg,g.at=dg,g.before=Bh,g.bind=Ta,g.bindAll=vm,g.bindKey=Rh,g.castArray=z_,g.chain=Ch,g.chunk=Vd,g.compact=qd,g.concat=Gd,g.cond=ym,g.conforms=xm,g.constant=Ba,g.countBy=e_,g.create=pg,g.curry=kh,g.curryRight=zh,g.debounce=Nh,g.defaults=_g,g.defaultsDeep=gg,g.defer=A_,g.delay=T_,g.difference=Yd,g.differenceBy=Jd,g.differenceWith=Xd,g.drop=Kd,g.dropRight=Qd,g.dropRightWhile=$d,g.dropWhile=tp,g.fill=ep,g.filter=i_,g.flatMap=s_,g.flatMapDeep=a_,g.flatMapDepth=l_,g.flatten=Ah,g.flattenDeep=np,g.flattenDepth=ip,g.flip=E_,g.flow=bm,g.flowRight=Lm,g.fromPairs=rp,g.functions=Lg,g.functionsIn=Pg,g.groupBy=u_,g.initial=sp,g.intersection=ap,g.intersectionBy=lp,g.intersectionWith=up,g.invert=Tg,g.invertBy=Eg,g.invokeMap=c_,g.iteratee=Ra,g.keyBy=f_,g.keys=ce,g.keysIn=ke,g.map=No,g.mapKeys=Cg,g.mapValues=Sg,g.matches=Pm,g.matchesProperty=Am,g.memoize=Fo,g.merge=Mg,g.mergeWith=Gh,g.method=Tm,g.methodOf=Em,g.mixin=ka,g.negate=Uo,g.nthArg=Cm,g.omit=Og,g.omitBy=Bg,g.once=I_,g.orderBy=d_,g.over=Sm,g.overArgs=C_,g.overEvery=Mm,g.overSome=Om,g.partial=Ea,g.partialRight=Dh,g.partition=p_,g.pick=Rg,g.pickBy=Yh,g.property=ec,g.propertyOf=Bm,g.pull=dp,g.pullAll=Eh,g.pullAllBy=pp,g.pullAllWith=_p,g.pullAt=gp,g.range=Rm,g.rangeRight=km,g.rearg=S_,g.reject=m_,g.remove=mp,g.rest=M_,g.reverse=Pa,g.sampleSize=y_,g.set=zg,g.setWith=Ng,g.shuffle=x_,g.slice=vp,g.sortBy=L_,g.sortedUniq=Ap,g.sortedUniqBy=Tp,g.split=sm,g.spread=O_,g.tail=Ep,g.take=Ip,g.takeRight=Cp,g.takeRightWhile=Sp,g.takeWhile=Mp,g.tap=qp,g.throttle=B_,g.thru=zo,g.toArray=jh,g.toPairs=Jh,g.toPairsIn=Xh,g.toPath=Um,g.toPlainObject=Vh,g.transform=Dg,g.unary=R_,g.union=Op,g.unionBy=Bp,g.unionWith=Rp,g.uniq=kp,g.uniqBy=zp,g.uniqWith=Np,g.unset=Fg,g.unzip=Aa,g.unzipWith=Ih,g.update=Ug,g.updateWith=Zg,g.values=Wi,g.valuesIn=Wg,g.without=Dp,g.words=$h,g.wrap=k_,g.xor=Fp,g.xorBy=Up,g.xorWith=Zp,g.zip=Wp,g.zipObject=jp,g.zipObjectDeep=Hp,g.zipWith=Vp,g.entries=Jh,g.entriesIn=Xh,g.extend=qh,g.extendWith=jo,ka(g,g),g.add=Wm,g.attempt=tc,g.camelCase=qg,g.capitalize=Kh,g.ceil=jm,g.clamp=jg,g.clone=N_,g.cloneDeep=F_,g.cloneDeepWith=U_,g.cloneWith=D_,g.conformsTo=Z_,g.deburr=Qh,g.defaultTo=wm,g.divide=Hm,g.endsWith=Gg,g.eq=an,g.escape=Yg,g.escapeRegExp=Jg,g.every=n_,g.find=r_,g.findIndex=Lh,g.findKey=mg,g.findLast=o_,g.findLastIndex=Ph,g.findLastKey=vg,g.floor=Vm,g.forEach=Sh,g.forEachRight=Mh,g.forIn=yg,g.forInRight=xg,g.forOwn=wg,g.forOwnRight=bg,g.get=Sa,g.gt=W_,g.gte=j_,g.has=Ag,g.hasIn=Ma,g.head=Th,g.identity=ze,g.includes=h_,g.indexOf=op,g.inRange=Hg,g.invoke=Ig,g.isArguments=_i,g.isArray=dt,g.isArrayBuffer=H_,g.isArrayLike=Re,g.isArrayLikeObject=$t,g.isBoolean=V_,g.isBuffer=Kn,g.isDate=q_,g.isElement=G_,g.isEmpty=Y_,g.isEqual=J_,g.isEqualWith=X_,g.isError=Ia,g.isFinite=K_,g.isFunction=Bn,g.isInteger=Fh,g.isLength=Zo,g.isMap=Uh,g.isMatch=Q_,g.isMatchWith=$_,g.isNaN=tg,g.isNative=eg,g.isNil=ig,g.isNull=ng,g.isNumber=Zh,g.isObject=Vt,g.isObjectLike=Xt,g.isPlainObject=Ir,g.isRegExp=Ca,g.isSafeInteger=rg,g.isSet=Wh,g.isString=Wo,g.isSymbol=je,g.isTypedArray=Zi,g.isUndefined=og,g.isWeakMap=sg,g.isWeakSet=ag,g.join=hp,g.kebabCase=Xg,g.last=Xe,g.lastIndexOf=cp,g.lowerCase=Kg,g.lowerFirst=Qg,g.lt=lg,g.lte=ug,g.max=qm,g.maxBy=Gm,g.mean=Ym,g.meanBy=Jm,g.min=Xm,g.minBy=Km,g.stubArray=Na,g.stubFalse=Da,g.stubObject=zm,g.stubString=Nm,g.stubTrue=Dm,g.multiply=Qm,g.nth=fp,g.noConflict=Im,g.noop=za,g.now=Do,g.pad=$g,g.padEnd=tm,g.padStart=em,g.parseInt=nm,g.random=Vg,g.reduce=__,g.reduceRight=g_,g.repeat=im,g.replace=rm,g.result=kg,g.round=$m,g.runInContext=T,g.sample=v_,g.size=w_,g.snakeCase=om,g.some=b_,g.sortedIndex=yp,g.sortedIndexBy=xp,g.sortedIndexOf=wp,g.sortedLastIndex=bp,g.sortedLastIndexBy=Lp,g.sortedLastIndexOf=Pp,g.startCase=am,g.startsWith=lm,g.subtract=tv,g.sum=ev,g.sumBy=nv,g.template=um,g.times=Fm,g.toFinite=Rn,g.toInteger=pt,g.toLength=Hh,g.toLower=hm,g.toNumber=Ke,g.toSafeInteger=hg,g.toString=Ot,g.toUpper=cm,g.trim=fm,g.trimEnd=dm,g.trimStart=pm,g.truncate=_m,g.unescape=gm,g.uniqueId=Zm,g.upperCase=mm,g.upperFirst=Oa,g.each=Sh,g.eachRight=Mh,g.first=Th,ka(g,function(){var t={};return gn(g,function(e,s){Et.call(g.prototype,s)||(t[s]=e)}),t}(),{chain:!1}),g.VERSION=l,Ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){g[t].placeholder=g}),Ue(["drop","take"],function(t,e){xt.prototype[t]=function(s){s=s===i?1:y(pt(s),0);var u=this.__filtered__&&!e?new xt(this):this.clone();return u.__filtered__?u.__takeCount__=P(s,u.__takeCount__):u.__views__.push({size:P(s,Ft),type:t+(u.__dir__<0?"Right":"")}),u},xt.prototype[t+"Right"]=function(s){return this.reverse()[t](s).reverse()}}),Ue(["filter","map","takeWhile"],function(t,e){var s=e+1,u=s==dn||s==pe;xt.prototype[t]=function(d){var m=this.clone();return m.__iteratees__.push({iteratee:it(d,3),type:s}),m.__filtered__=m.__filtered__||u,m}}),Ue(["head","last"],function(t,e){var s="take"+(e?"Right":"");xt.prototype[t]=function(){return this[s](1).value()[0]}}),Ue(["initial","tail"],function(t,e){var s="drop"+(e?"":"Right");xt.prototype[t]=function(){return this.__filtered__?new xt(this):this[s](1)}}),xt.prototype.compact=function(){return this.filter(ze)},xt.prototype.find=function(t){return this.filter(t).head()},xt.prototype.findLast=function(t){return this.reverse().find(t)},xt.prototype.invokeMap=vt(function(t,e){return typeof t=="function"?new xt(this):this.map(function(s){return br(s,t,e)})}),xt.prototype.reject=function(t){return this.filter(Uo(it(t)))},xt.prototype.slice=function(t,e){t=pt(t);var s=this;return s.__filtered__&&(t>0||e<0)?new xt(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),e!==i&&(e=pt(e),s=e<0?s.dropRight(-e):s.take(e-t)),s)},xt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},xt.prototype.toArray=function(){return this.take(Ft)},gn(xt.prototype,function(t,e){var s=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),d=g[u?"take"+(e=="last"?"Right":""):e],m=u||/^find/.test(e);d&&(g.prototype[e]=function(){var w=this.__wrapped__,b=u?[1]:arguments,E=w instanceof xt,B=b[0],z=E||dt(w),D=function(wt){var bt=d.apply(g,xn([wt],b));return u&&Z?bt[0]:bt};z&&s&&typeof B=="function"&&B.length!=1&&(E=z=!1);var Z=this.__chain__,J=!!this.__actions__.length,at=m&&!Z,_t=E&&!J;if(!m&&z){w=_t?w:new xt(this);var lt=t.apply(w,b);return lt.__actions__.push({func:zo,args:[D],thisArg:i}),new Oe(lt,Z)}return at&&_t?t.apply(this,b):(lt=this.thru(D),at?u?lt.value()[0]:lt.value():lt)})}),Ue(["pop","push","shift","sort","splice","unshift"],function(t){var e=gr[t],s=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",u=/^(?:pop|shift)$/.test(t);g.prototype[t]=function(){var d=arguments;if(u&&!this.__chain__){var m=this.value();return e.apply(dt(m)?m:[],d)}return this[s](function(w){return e.apply(dt(w)?w:[],d)})}}),gn(xt.prototype,function(t,e){var s=g[e];if(s){var u=s.name+"";Et.call(bn,u)||(bn[u]=[]),bn[u].push({name:e,func:s})}}),bn[Co(i,nt).name]=[{name:"wrapper",func:i}],xt.prototype.clone=wu,xt.prototype.reverse=mf,xt.prototype.value=vf,g.prototype.at=Gp,g.prototype.chain=Yp,g.prototype.commit=Jp,g.prototype.next=Xp,g.prototype.plant=Qp,g.prototype.reverse=$p,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=t_,g.prototype.first=g.prototype.head,Ei&&(g.prototype[Ei]=Kp),g},Zn=Ur();_n?((_n.exports=Zn)._=Zn,Pn._=Zn):he._=Zn}).call(Tl)})(Xc,Xc.exports);var vb=Xc.exports;const Nt=lx(vb),ux=!0,yb=!1,qc={CCW:-1,CW:1,NOT_ORIENTABLE:0},xb=2*Math.PI,Kc=1,hx=0,Vr=2,wb=3,bb=4,Lb=1,Pb=2,s0=0,_c=1,Rl=2;var Qc=Object.freeze({__proto__:null,BOUNDARY:Vr,CCW:ux,CONTAINS:wb,CW:yb,END_VERTEX:Rl,INSIDE:Kc,INTERLACE:bb,NOT_VERTEX:s0,ORIENTATION:qc,OUTSIDE:hx,OVERLAP_OPPOSITE:Pb,OVERLAP_SAME:Lb,PIx2:xb,START_VERTEX:_c});let Xr=1e-6;function cx(o){Xr=o}function fx(){return Xr}const Ab=3;function Mv(o){return o<Xr&&o>-Xr}function Ja(o,n){return o-n<Xr&&o-n>-Xr}function dx(o,n){return o-n>Xr}function Tb(o,n){return o-n>-Xr}function px(o,n){return o-n<-Xr}function Eb(o,n){return o-n<Xr}var Ib=Object.freeze({__proto__:null,DECIMALS:Ab,EQ:Ja,EQ_0:Mv,GE:Tb,GT:dx,LE:Eb,LT:px,getTolerance:fx,setTolerance:cx});let v={Utils:Ib,Errors:void 0,Matrix:void 0,Planar_set:void 0,Point:void 0,Vector:void 0,Line:void 0,Circle:void 0,Segment:void 0,Arc:void 0,Box:void 0,Edge:void 0,Face:void 0,Ray:void 0,Ray_shooting:void 0,Multiline:void 0,Polygon:void 0,Distance:void 0,Inversion:void 0};for(let o in Qc)v[o]=Qc[o];Object.defineProperty(v,"DP_TOL",{get:function(){return fx()},set:function(o){cx(o)}});class hn{static get ILLEGAL_PARAMETERS(){return new ReferenceError("Illegal Parameters")}static get ZERO_DIVISION(){return new Error("Zero division")}static get UNRESOLVED_BOUNDARY_CONFLICT(){return new Error("Unresolved boundary conflict in boolean operation")}static get INFINITE_LOOP(){return new Error("Infinite loop")}static get CANNOT_COMPLETE_BOOLEAN_OPERATION(){return new Error("Cannot complete boolean operation")}static get CANNOT_INVOKE_ABSTRACT_METHOD(){return new Error("Abstract method cannot be invoked")}static get OPERATION_IS_NOT_SUPPORTED(){return new Error("Operation is not supported")}}v.Errors=hn;class a0{constructor(n,i){this.first=n,this.last=i||this.first}[Symbol.iterator](){let n;return{next:()=>(n=n?n.next:this.first,{value:n,done:n===void 0})}}get size(){let n=0;for(let i of this)n++;return n}toArray(n=void 0,i=void 0){let l=[],h=n||this.first,f=i||this.last,p=h;if(p===void 0)return l;do l.push(p),p=p.next;while(p!==f.next);return l}append(n){return this.isEmpty()?this.first=n:(n.prev=this.last,this.last.next=n),this.last=n,this.last.next=void 0,this.first.prev=void 0,this}insert(n,i){if(this.isEmpty())this.first=n,this.last=n;else if(i==null)n.next=this.first,this.first.prev=n,this.first=n;else{let l=i.next;i.next=n,l&&(l.prev=n),n.prev=i,n.next=l,this.last===i&&(this.last=n)}return this.last.next=void 0,this.first.prev=void 0,this}remove(n){return n===this.first&&n===this.last?(this.first=void 0,this.last=void 0):(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n===this.first&&(this.first=n.next),n===this.last&&(this.last=n.prev)),this}isEmpty(){return this.first===void 0}static testInfiniteLoop(n){let i=n,l=n;do{if(i!=n&&i===l)throw hn.INFINITE_LOOP;i=i.next,l=l.next.next}while(i!=n)}}const q0={stroke:"black"};class Cb{constructor(n=q0){for(const i in n)this[i]=n[i];this.stroke=n.stroke??q0.stroke}toAttributesString(){return Object.keys(this).reduce((n,i)=>n+(this[i]!==void 0?this.toAttrString(i,this[i]):""),"")}toAttrString(n,i){const l=n==="className"?"class":this.convertCamelToKebabCase(n);return i===null?`${l} `:`${l}="${i.toString()}" `}convertCamelToKebabCase(n){return n.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).join("-").toLowerCase()}}function Qa(o){return new Cb(o).toAttributesString()}class ar extends a0{constructor(...n){if(super(),n.length!==0&&n.length===1&&n[0]instanceof Array){let i=n[0];if(i.length===0)return;i.every(l=>l instanceof v.Segment||l instanceof v.Arc||l instanceof v.Ray||l instanceof v.Line);for(let l of i){let h=new v.Edge(l);this.append(h)}this.setArcLength()}}get edges(){return[...this]}get box(){return this.edges.reduce((n,i)=>n.merge(i.box),new v.Box)}get vertices(){let n=this.edges.map(i=>i.start);return n.push(this.last.end),n}clone(){return new ar(this.toShapes())}setArcLength(){for(let n of this)this.setOneEdgeArcLength(n)}setOneEdgeArcLength(n){n===this.first?n.arc_length=0:n.arc_length=n.prev.arc_length+n.prev.length}addVertex(n,i){let l=i.shape.split(n);if(l[0]===null)return i.prev;if(l[1]===null)return i;let h=new v.Edge(l[0]),f=i.prev;return this.insert(h,f),i.shape=l[1],h}getChain(n,i){let l=[];for(let h=n;h!==i.next;h=h.next)l.push(h);return l}split(n){for(let i of n){let l=this.findEdgeByPoint(i);this.addVertex(i,l)}return this}findEdgeByPoint(n){let i;for(let l of this)if(l.shape.contains(n)){i=l;break}return i}translate(n){return new ar(this.edges.map(i=>i.shape.translate(n)))}rotate(n=0,i=new v.Point){return new ar(this.edges.map(l=>l.shape.rotate(n,i)))}transform(n=new v.Matrix){return new ar(this.edges.map(i=>i.shape.transform(n)))}toShapes(){return this.edges.map(n=>n.shape.clone())}toJSON(){return this.edges.map(n=>n.toJSON())}svg(n={}){let i=`
<path ${Qa({fill:"none",...n})} d="`;i+=`
M${this.first.start.x},${this.first.start.y}`;for(let l of this)i+=l.svg();return i+=`" >
</path>`,i}}v.Multiline=ar;const Sb=(...o)=>new v.Multiline(...o);v.multiline=Sb;function Nl(o,n,i){let l=i.length,h=o.shape.split(n);if(h.length===0)return;let f=0;h[0]===null?f=0:h[1]===null?f=o.shape.length:f=h[0].length;let p=s0;Ja(f,0)&&(p|=_c),Ja(f,o.shape.length)&&(p|=Rl);let x;f===1/0?x=h[0].coord(n):x=p&Rl&&o.next&&o.next.arc_length===0?0:o.arc_length+f,i.push({id:l,pt:n,arc_length:x,edge_before:o,edge_after:void 0,face:o.face,is_vertex:p})}function Pc(o){o.int_points1_sorted=_s(o.int_points1),o.int_points2_sorted=_s(o.int_points2)}function _s(o){let n=new Map,i=0;for(let l of o)n.has(l.face)||(n.set(l.face,i),i++);for(let l of o)l.faceId=n.get(l.face);return o.slice().sort(Mb)}function Mb(o,n){return o.faceId<n.faceId?-1:o.faceId>n.faceId?1:o.arc_length<n.arc_length?-1:o.arc_length>n.arc_length?1:0}function l0(o){if(o.int_points1.length<2)return;let n=!1,i,l,h,f;for(let p=0;p<o.int_points1_sorted.length;p++)if(o.int_points1_sorted[p].id!==-1){i=o.int_points1_sorted[p],l=o.int_points2[i.id];for(let x=p+1;x<o.int_points1_sorted.length&&(h=o.int_points1_sorted[x],!!Ja(h.arc_length,i.arc_length));x++)h.id!==-1&&(f=o.int_points2[h.id],f.id!==-1&&h.edge_before===i.edge_before&&h.edge_after===i.edge_after&&f.edge_before===l.edge_before&&f.edge_after===l.edge_after&&(h.id=-1,f.id=-1,n=!0))}l=o.int_points2_sorted[0],i=o.int_points1[l.id];for(let p=1;p<o.int_points2_sorted.length;p++){let x=o.int_points2_sorted[p];if(x.id===-1)continue;if(l.id===-1||!Ja(x.arc_length,l.arc_length)){l=x,i=o.int_points1[l.id];continue}let A=o.int_points1[x.id];A.edge_before===i.edge_before&&A.edge_after===i.edge_after&&x.edge_before===l.edge_before&&x.edge_after===l.edge_after&&(A.id=-1,x.id=-1,n=!0)}n&&(o.int_points1=o.int_points1.filter(p=>p.id>=0),o.int_points2=o.int_points2.filter(p=>p.id>=0),o.int_points1.forEach((p,x)=>p.id=x),o.int_points2.forEach((p,x)=>p.id=x))}function Ov(o){for(let n of o)n.edge_before&&(n.edge_before.bvStart=void 0,n.edge_before.bvEnd=void 0,n.edge_before.bv=void 0,n.edge_before.overlap=void 0),n.edge_after&&(n.edge_after.bvStart=void 0,n.edge_after.bvEnd=void 0,n.edge_after.bv=void 0,n.edge_after.overlap=void 0);for(let n of o)n.edge_before&&(n.edge_before.bvEnd=Vr),n.edge_after&&(n.edge_after.bvStart=Vr)}function Bv(o,n){for(let i of o)i.edge_before&&i.edge_before.setInclusion(n),i.edge_after&&i.edge_after.setInclusion(n)}function Ob(o){let n,i,l,h=o.int_points1.length;for(let f=0;f<h;f++){let p=o.int_points1_sorted[f];p.face!==n&&(i=f,n=p.face);let x=f,A=Dl(o.int_points1_sorted,f,n),C;x+A<h&&o.int_points1_sorted[x+A].face===n?C=x+A:C=i;let I=Dl(o.int_points1_sorted,C,n);l=null;for(let nt=C;nt<C+I;nt++){let ct=o.int_points1_sorted[nt];if(ct.face===n&&o.int_points2[ct.id].face===o.int_points2[p.id].face){l=ct;break}}if(l===null)continue;let O=p.edge_after,U=l.edge_before;if(!(O.bv===Vr&&U.bv===Vr)||O!==U)continue;let tt=o.int_points2[p.id],G=o.int_points2[l.id],q=tt.edge_after,K=G.edge_before;q.bv===Vr&&K.bv===Vr&&q===K||(tt=o.int_points2[l.id],G=o.int_points2[p.id],q=tt.edge_after,K=G.edge_before),q.bv===Vr&&K.bv===Vr&&q===K&&O.setOverlap(q)}}function Dl(o,n,i){let l,h,f=1;if(o.length===1)return 1;l=o[n];for(let p=n+1;p<o.length&&!(l.face!==i||(h=o[p],!(h.pt.equalTo(l.pt)&&h.edge_before===l.edge_before&&h.edge_after===l.edge_after)));p++)f++;return f}function Fl(o,n){if(n){for(let i of n){let l=i.edge_before;if(i.is_vertex=s0,l.shape.start&&l.shape.start.equalTo(i.pt)&&(i.is_vertex|=_c),l.shape.end&&l.shape.end.equalTo(i.pt)&&(i.is_vertex|=Rl),i.is_vertex&_c){i.edge_before=l.prev,l.prev&&(i.is_vertex=Rl);continue}if(i.is_vertex&Rl)continue;let h=o.addVertex(i.pt,l);i.edge_before=h}for(let i of n)i.edge_before?i.edge_after=i.edge_before.next:o instanceof ar&&i.is_vertex&_c&&(i.edge_after=o.first)}}function G0(o,n,i){const l=o.edge_before,h=n.edge_after,f=i.length;l.next=i[0],i[0].prev=l,i[f-1].next=h,h.prev=i[f-1]}const{INSIDE:Yr,OUTSIDE:Jr,BOUNDARY:jn,OVERLAP_SAME:Bb,OVERLAP_OPPOSITE:Rb}=Qc,{NOT_VERTEX:BP,START_VERTEX:Y0,END_VERTEX:J0}=Qc,df=1,Ec=2,Xa=3;function kb(o,n){let[i,l]=Ic(o,n,df,!0);return i}function Rv(o,n){let i=n.clone().reverse(),[l,h]=Ic(o,i,Xa,!0);return l}function _x(o,n){let[i,l]=Ic(o,n,Ec,!0);return i}function gx(o,n){let[i,l]=Ic(o,n,Ec,!1),h=[];for(let p of i.faces)h=[...h,...[...p.edges].map(x=>x.shape)];let f=[];for(let p of l.faces)f=[...f,...[...p.edges].map(x=>x.shape)];return[h,f]}function kv(o,n){let[i,l]=Ic(o,n,Xa,!1),h=[];for(let f of i.faces)h=[...h,...[...f.edges].map(p=>p.shape)];return h}function mx(o,n){let i=o.clone(),l=n.clone(),h=vx(i,l);Pc(h),Fl(i,h.int_points1_sorted),Fl(l,h.int_points2_sorted),l0(h),Pc(h);let f=h.int_points1_sorted.map(x=>x.pt),p=h.int_points2_sorted.map(x=>x.pt);return[f,p]}function zb(o,n,i,l){let h=X0(o,i.int_points1),f=X0(n,i.int_points2);for(K0(h,n),K0(f,o),Ov(i.int_points1),Ov(i.int_points2),Bv(i.int_points1,n),Bv(i.int_points2,o);Db(o,n,i.int_points1,i.int_points1_sorted,i.int_points2,i););Ob(i),zv(o,l,i.int_points1_sorted,!0),zv(n,l,i.int_points2_sorted,!1),Q0(o,h,l,!0),Q0(n,f,l,!1)}function Nb(o,n,i,l){Fb(o,n,l,i.int_points2),Ub(o,n,i),Nv(o,i.int_points1),Nv(n,i.int_points2),Dv(o,i.int_points1,i.int_points2),Dv(o,i.int_points2,i.int_points1)}function Ic(o,n,i,l){let h=o.clone(),f=n.clone(),p=vx(h,f);return Pc(p),Fl(h,p.int_points1_sorted),Fl(f,p.int_points2_sorted),l0(p),Pc(p),zb(h,f,p,i),l&&Nb(h,f,p,i),[h,f]}function vx(o,n){let i={int_points1:[],int_points2:[]};for(let l of o.edges){let h=n.edges.search(l.box);for(let f of h){let p=l.shape.intersect(f.shape);for(let x of p)Nl(l,x,i.int_points1),Nl(f,x,i.int_points2)}}return i}function X0(o,n){let i=[];for(let l of o.faces)n.find(h=>h.face===l)||i.push(l);return i}function K0(o,n){for(let i of o)i.first.bv=i.first.bvStart=i.first.bvEnd=void 0,i.first.setInclusion(n)}function Db(o,n,i,l,h,f){let p,x,A,C=l.length,I=!1;for(let O=0;O<C;O++){let U=l[O];U.face!==p&&(x=O,p=U.face);let tt=O,G=Dl(l,O,p),q;tt+G<C&&l[tt+G].face===p?q=tt+G:q=x;let K=Dl(l,q,p);A=null;for(let X=q;X<q+K;X++){let Ct=l[X];if(Ct.face===p&&h[Ct.id].face===h[U.id].face){A=Ct;break}}if(A===null)continue;let nt=U.edge_after,ct=A.edge_before;if(nt.bv===jn&&ct.bv!=jn){nt.bv=ct.bv;continue}if(nt.bv!=jn&&ct.bv===jn){ct.bv=nt.bv;continue}if(nt.bv===jn&&ct.bv===jn&&nt!=ct||nt.bv===Yr&&ct.bv===Jr||nt.bv===Jr&&ct.bv===Yr){let X=nt.next;for(;X!=ct;)X.bvStart=void 0,X.bvEnd=void 0,X.bv=void 0,X.setInclusion(n),X=X.next}if(nt.bv===jn&&ct.bv===jn&&nt!=ct){let X=nt.next,Ct;for(;X!=ct;){if(X.bv!=jn){if(Ct===void 0)Ct=X.bv;else if(X.bv!=Ct)throw hn.UNRESOLVED_BOUNDARY_CONFLICT}X=X.next}Ct!=null&&(nt.bv=Ct,ct.bv=Ct);continue}if(nt.bv===Yr&&ct.bv===Jr||nt.bv===Jr&&ct.bv===Yr){let X=nt;for(;X!=ct;){if(X.bvStart===nt.bv&&X.bvEnd===ct.bv){let[Ct,Dt]=X.shape.distanceTo(n);if(Ct<10*v.DP_TOL){Nl(X,Dt.ps,i);let Tt=i[i.length-1];if(Tt.is_vertex&Y0)Tt.edge_after=X,Tt.edge_before=X.prev,X.bvStart=jn,X.bv=void 0,X.setInclusion(n);else if(Tt.is_vertex&J0)Tt.edge_after=X.next,X.bvEnd=jn,X.bv=void 0,X.setInclusion(n);else{let ue=n.addVertex(Tt.pt,X);Tt.edge_before=ue,Tt.edge_after=ue.next,ue.setInclusion(n),ue.next.bvStart=jn,ue.next.bvEnd=void 0,ue.next.bv=void 0,ue.next.setInclusion(n)}let Ht=n.findEdgeByPoint(Dt.pe);Nl(Ht,Dt.pe,h);let ne=h[h.length-1];if(ne.is_vertex&Y0)ne.edge_after=Ht,ne.edge_before=Ht.prev;else if(ne.is_vertex&J0)ne.edge_after=Ht.next;else{let ue=h.find(Fe=>Fe.edge_after===Ht),Te=n.addVertex(ne.pt,Ht);ne.edge_before=Te,ne.edge_after=Te.next,ue&&(ue.edge_after=Te),Te.bvStart=void 0,Te.bvEnd=jn,Te.bv=void 0,Te.setInclusion(o),Te.next.bvStart=jn,Te.next.bvEnd=void 0,Te.next.bv=void 0,Te.next.setInclusion(o)}Pc(f),I=!0;break}}X=X.next}if(I)break;throw hn.UNRESOLVED_BOUNDARY_CONFLICT}}return I}function zv(o,n,i,l){if(!i)return;let h,f,p,x;for(let A=0;A<i.length;A++){if(p=i[A],p.face!==h&&(f=A,h=p.face),h.isEmpty())continue;let C=A,I=Dl(i,A,h),O;C+I<i.length&&i[C+I].face===p.face?O=C+I:O=f,x=i[O];let U=O,tt=Dl(i,U,h),G=p.edge_after,q=x.edge_before;if(G.bv===Yr&&q.bv===Yr&&n===df||G.bv===Jr&&q.bv===Jr&&n===Ec||(G.bv===Jr||q.bv===Jr)&&n===Xa&&!l||(G.bv===Yr||q.bv===Yr)&&n===Xa&&l||G.bv===jn&&q.bv===jn&&G.overlap&Bb&&l||G.bv===jn&&q.bv===jn&&G.overlap&Rb){o.removeChain(h,G,q);for(let K=C;K<C+I;K++)i[K].edge_after=void 0;for(let K=U;K<U+tt;K++)i[K].edge_before=void 0}A+=I-1}}function Fb(o,n,i,l){for(let h of n.faces){for(let f of h)o.edges.add(f);l.find(f=>f.face===h)===void 0&&o.addFace(h.first,h.last)}}function Ub(o,n,i){if(i.int_points1.length!==0)for(let l=0;l<i.int_points1.length;l++){let h=i.int_points1[l],f=i.int_points2[l];if(h.edge_before!==void 0&&h.edge_after===void 0&&f.edge_before===void 0&&f.edge_after!==void 0&&(h.edge_before.next=f.edge_after,f.edge_after.prev=h.edge_before,h.edge_after=f.edge_after,f.edge_before=h.edge_before),f.edge_before!==void 0&&f.edge_after===void 0&&h.edge_before===void 0&&h.edge_after!==void 0&&(f.edge_before.next=h.edge_after,h.edge_after.prev=f.edge_before,f.edge_after=h.edge_after,h.edge_before=f.edge_before),h.edge_before!==void 0&&h.edge_after===void 0)for(let p of i.int_points1_sorted)p!==h&&p.edge_before===void 0&&p.edge_after!==void 0&&p.pt.equalTo(h.pt)&&(h.edge_before.next=p.edge_after,p.edge_after.prev=h.edge_before,h.edge_after=p.edge_after,p.edge_before=h.edge_before);if(f.edge_before!==void 0&&f.edge_after===void 0)for(let p of i.int_points2_sorted)p!==f&&p.edge_before===void 0&&p.edge_after!==void 0&&p.pt.equalTo(f.pt)&&(f.edge_before.next=p.edge_after,p.edge_after.prev=f.edge_before,f.edge_after=p.edge_after,p.edge_before=f.edge_before)}}function Nv(o,n){for(let i of n)o.faces.delete(i.face),i.face=void 0,i.edge_before&&(i.edge_before.face=void 0),i.edge_after&&(i.edge_after.face=void 0)}function Dv(o,n,i){for(let l of n){if(l.edge_before===void 0||l.edge_after===void 0||l.face||l.edge_after.face||l.edge_before.face)continue;let h=l.edge_after,f=l.edge_before;try{a0.testInfiniteLoop(h)}catch{throw hn.CANNOT_COMPLETE_BOOLEAN_OPERATION}let p=o.addFace(h,f);for(let x of n)x.edge_before&&x.edge_after&&x.edge_before.face===p&&x.edge_after.face===p&&(x.face=p);for(let x of i)x.edge_before&&x.edge_after&&x.edge_before.face===p&&x.edge_after.face===p&&(x.face=p)}}function Q0(o,n,i,l){for(let h of n){let f=h.first.bv;(i===df&&f===Yr||i===Xa&&f===Yr&&l||i===Xa&&f===Jr&&!l||i===Ec&&f===Jr)&&o.deleteFace(h)}}var Zb=Object.freeze({__proto__:null,BOOLEAN_INTERSECT:Ec,BOOLEAN_SUBTRACT:Xa,BOOLEAN_UNION:df,calculateIntersections:mx,innerClip:gx,intersect:_x,outerClip:kv,removeNotRelevantChains:zv,removeOldFaces:Nv,restoreFaces:Dv,subtract:Rv,unify:kb});const Wb=RegExp("T.F..FFF.|T.F...F.."),jb=RegExp("T........|.T.......|...T.....|....T...."),Hb=RegExp("FT.......|F..T.....|F...T...."),Vb=RegExp("T.F..F..."),qb=RegExp("T.F..F...|.TF..F...|..FT.F...|..F.TF...");class Zl{constructor(){this.m=new Array(9).fill(void 0)}get I2I(){return this.m[0]}set I2I(n){this.m[0]=n}get I2B(){return this.m[1]}set I2B(n){this.m[1]=n}get I2E(){return this.m[2]}set I2E(n){this.m[2]=n}get B2I(){return this.m[3]}set B2I(n){this.m[3]=n}get B2B(){return this.m[4]}set B2B(n){this.m[4]=n}get B2E(){return this.m[5]}set B2E(n){this.m[5]=n}get E2I(){return this.m[6]}set E2I(n){this.m[6]=n}get E2B(){return this.m[7]}set E2B(n){this.m[7]=n}get E2E(){return this.m[8]}set E2E(n){this.m[8]=n}toString(){return this.m.map(n=>n instanceof Array&&n.length>0?"T":n instanceof Array&&n.length===0?"F":"*").join("")}equal(){return Wb.test(this.toString())}intersect(){return jb.test(this.toString())}touch(){return Hb.test(this.toString())}inside(){return Vb.test(this.toString())}covered(){return qb.test(this.toString())}}function Wl(o,n){let i=[],[l,h,f]=o.standard,[p,x,A]=n.standard,C=l*x-h*p,I=f*x-h*A,O=l*A-f*p;if(!v.Utils.EQ_0(C)){let U,tt;h===0?(U=f/l,tt=O/C):x===0?(U=A/p,tt=O/C):l===0?(U=I/C,tt=f/h):p===0?(U=I/C,tt=A/x):(U=I/C,tt=O/C),i.push(new v.Point(U,tt))}return i}function $a(o,n){let i=[],l=n.pc.projectionOn(o),h=n.pc.distanceTo(l)[0];if(v.Utils.EQ(h,n.r))i.push(l);else if(v.Utils.LT(h,n.r)){let f=Math.sqrt(n.r*n.r-h*h),p,x;p=o.norm.rotate90CCW().multiply(f),x=l.translate(p),i.push(x),p=o.norm.rotate90CW().multiply(f),x=l.translate(p),i.push(x)}return i}function Ul(o,n){let i=[];for(let l of n.toSegments()){let h=Cc(l,o);for(let f of h)Tx(f,i)||i.push(f)}return i}function pf(o,n){let i=[];if(Ul(o,n.box).length===0)return i;let l=new v.Circle(n.pc,n.r),h=$a(o,l);for(let f of h)f.on(n)&&i.push(f);return i}function Cc(o,n){let i=[];if(o.ps.on(n)&&i.push(o.ps),o.pe.on(n)&&!o.isZeroLength()&&i.push(o.pe),i.length>0||o.isZeroLength()||o.ps.leftTo(n)&&o.pe.leftTo(n)||!o.ps.leftTo(n)&&!o.pe.leftTo(n))return i;let l=new v.Line(o.ps,o.pe);return Wl(l,n)}function _f(o,n){let i=[];if(o.box.not_intersect(n.box))return i;if(o.isZeroLength())return o.ps.on(n)&&i.push(o.ps),i;if(n.isZeroLength())return n.ps.on(o)&&i.push(n.ps),i;let l=new v.Line(o.ps,o.pe),h=new v.Line(n.ps,n.pe);if(l.incidentTo(h))o.ps.on(n)&&i.push(o.ps),o.pe.on(n)&&i.push(o.pe),n.ps.on(o)&&!n.ps.equalTo(o.ps)&&!n.ps.equalTo(o.pe)&&i.push(n.ps),n.pe.on(o)&&!n.pe.equalTo(o.ps)&&!n.pe.equalTo(o.pe)&&i.push(n.pe);else{let f=Wl(l,h);f.length>0&&$0(f[0],o)&&$0(f[0],n)&&i.push(f[0])}return i}function $0(o,n){const i=n.box;return v.Utils.LE(o.x,i.xmax)&&v.Utils.GE(o.x,i.xmin)&&v.Utils.LE(o.y,i.ymax)&&v.Utils.GE(o.y,i.ymin)}function gf(o,n){let i=[];if(o.box.not_intersect(n.box))return i;if(o.isZeroLength()){let[f,p]=o.ps.distanceTo(n.pc);return v.Utils.EQ(f,n.r)&&i.push(o.ps),i}let l=new v.Line(o.ps,o.pe),h=$a(l,n);for(let f of h)f.on(o)&&i.push(f);return i}function jl(o,n){let i=[];if(o.box.not_intersect(n.box))return i;if(o.isZeroLength())return o.ps.on(n)&&i.push(o.ps),i;let l=new v.Line(o.ps,o.pe),h=new v.Circle(n.pc,n.r),f=$a(l,h);for(let p of f)p.on(o)&&p.on(n)&&i.push(p);return i}function Gb(o,n){let i=[];for(let l of n.toSegments()){let h=_f(l,o);for(let f of h)i.push(f)}return i}function yx(o,n){let i=[];if(o.box.not_intersect(n.box))return i;let l=new v.Vector(o.pc,n.pc),h=o.r,f=n.r;if(v.Utils.EQ_0(h)||v.Utils.EQ_0(f))return i;if(v.Utils.EQ_0(l.x)&&v.Utils.EQ_0(l.y)&&v.Utils.EQ(h,f))return i.push(o.pc.translate(-h,0)),i;let p=o.pc.distanceTo(n.pc)[0];if(v.Utils.GT(p,h+f)||v.Utils.LT(p,Math.abs(h-f)))return i;l.x/=p,l.y/=p;let x;if(v.Utils.EQ(p,h+f)||v.Utils.EQ(p,Math.abs(h-f)))return x=o.pc.translate(h*l.x,h*l.y),i.push(x),i;let A=h*h/(2*p)-f*f/(2*p)+p/2,C=o.pc.translate(A*l.x,A*l.y),I=Math.sqrt(h*h-A*A);return x=C.translate(l.rotate90CCW().multiply(I)),i.push(x),x=C.translate(l.rotate90CW().multiply(I)),i.push(x),i}function Yb(o,n){let i=[];for(let l of n.toSegments()){let h=gf(l,o);for(let f of h)i.push(f)}return i}function xx(o,n){let i=[];if(o.box.not_intersect(n.box))return i;if(o.pc.equalTo(n.pc)&&v.Utils.EQ(o.r,n.r)){let p;return p=o.start,p.on(n)&&i.push(p),p=o.end,p.on(n)&&i.push(p),p=n.start,p.on(o)&&i.push(p),p=n.end,p.on(o)&&i.push(p),i}let l=new v.Circle(o.pc,o.r),h=new v.Circle(n.pc,n.r),f=l.intersect(h);for(let p of f)p.on(o)&&p.on(n)&&i.push(p);return i}function u0(o,n){let i=[];if(o.box.not_intersect(n.box))return i;if(n.pc.equalTo(o.pc)&&v.Utils.EQ(n.r,o.r))return i.push(o.start),i.push(o.end),i;let l=n,h=new v.Circle(o.pc,o.r),f=yx(l,h);for(let p of f)p.on(o)&&i.push(p);return i}function Jb(o,n){let i=[];for(let l of n.toSegments()){let h=jl(l,o);for(let f of h)i.push(f)}return i}function wx(o,n){return o.isSegment?_f(o.shape,n):jl(n,o.shape)}function bx(o,n){return o.isSegment?jl(o.shape,n):xx(o.shape,n)}function Lx(o,n){return o.isSegment?Cc(o.shape,n):pf(n,o.shape)}function Xb(o,n){return o.isSegment?f0(n,o.shape):d0(n,o.shape)}function Kb(o,n){return o.isSegment?gf(o.shape,n):u0(o.shape,n)}function h0(o,n){let i=[];for(let l of n.edges)for(let h of wx(l,o))i.push(h);return i}function c0(o,n){let i=[];for(let l of n.edges)for(let h of bx(l,o))i.push(h);return i}function Sc(o,n){let i=[];if(n.isEmpty())return i;for(let l of n.edges)for(let h of Lx(l,o))Tx(h,i)||i.push(h);return o.sortPoints(i)}function Px(o,n){let i=[];if(n.isEmpty())return i;for(let l of n.edges)for(let h of Kb(l,o))i.push(h);return i}function Ax(o,n){return o.isSegment?wx(n,o.shape):o.isArc?bx(n,o.shape):o.isLine?Lx(n,o.shape):o.isRay?Xb(n,o.shape):[]}function Qb(o,n){let i=[];if(n.isEmpty()||o.shape.box.not_intersect(n.box))return i;let l=n.edges.search(o.shape.box);for(let h of l)i=[...i,...Ax(o,h)];return i}function $b(o,n){let i=[];if(o.isEmpty()||n.isEmpty()||o.box.not_intersect(n.box))return i;for(let l of o.edges)i=[...i,...Qb(l,n)];return i}function tL(o,n){return o instanceof v.Line?Sc(o,n):o instanceof v.Segment?h0(o,n):o instanceof v.Arc?c0(o,n):[]}function Tx(o,n){return n.some(i=>i.equalTo(o))}function xs(o){return new v.Line(o.start,o.norm)}function f0(o,n){return Cc(n,xs(o)).filter(i=>o.contains(i))}function d0(o,n){return pf(xs(o),n).filter(i=>o.contains(i))}function Ex(o,n){return $a(xs(o),n).filter(i=>o.contains(i))}function eL(o,n){return Ul(xs(o),n).filter(i=>o.contains(i))}function Ix(o,n){return Wl(xs(o),n).filter(i=>o.contains(i))}function nL(o,n){return Wl(xs(o),xs(n)).filter(i=>o.contains(i)).filter(i=>n.contains(i))}function Cx(o,n){return Sc(xs(o),n).filter(i=>o.contains(i))}function gc(o,n){let i,l=new v.Ray(n),h=new v.Line(l.pt,l.norm);const f=new v.Box(l.box.xmin-v.DP_TOL,l.box.ymin-v.DP_TOL,l.box.xmax,l.box.ymax+v.DP_TOL);if(o.box.not_intersect(f))return v.OUTSIDE;let p=o.edges.search(f);if(p.length===0)return v.OUTSIDE;for(let I of p)if(I.shape.contains(n))return v.BOUNDARY;let x=[...o.faces],A=[];for(let I of p)for(let O of l.intersect(I.shape)){if(O.equalTo(n))return v.BOUNDARY;A.push({pt:O,edge:I,face_index:x.indexOf(I.face)})}A.sort((I,O)=>px(I.pt.x,O.pt.x)?-1:dx(I.pt.x,O.pt.x)?1:I.face_index<O.face_index?-1:I.face_index>O.face_index?1:I.edge.arc_length<O.edge.arc_length?-1:I.edge.arc_length>O.edge.arc_length?1:0);let C=0;for(let I=0;I<A.length;I++){let O=A[I];if(O.pt.equalTo(O.edge.shape.start)){if(I>0&&O.pt.equalTo(A[I-1].pt)&&O.face_index===A[I-1].face_index&&O.edge.prev===A[I-1].edge)continue;let U=O.edge.prev;for(;Mv(U.length);)U=U.prev;let tt=U.shape.tangentInEnd(),G=O.pt.translate(tt),q=O.edge.shape.tangentInStart(),K=O.pt.translate(q),nt=G.leftTo(h),ct=K.leftTo(h);(nt&&!ct||!nt&&ct)&&C++}else if(O.pt.equalTo(O.edge.shape.end)){if(I>0&&O.pt.equalTo(A[I-1].pt)&&O.face_index===A[I-1].face_index&&O.edge.next===A[I-1].edge)continue;let U=O.edge.next;for(;Mv(U.length);)U=U.next;let tt=U.shape.tangentInStart(),G=O.pt.translate(tt),q=O.edge.shape.tangentInEnd(),K=O.pt.translate(q),nt=G.leftTo(h),ct=K.leftTo(h);(nt&&!ct||!nt&&ct)&&C++}else if(O.edge.shape instanceof v.Segment)C++;else{let U=O.edge.shape.box;Ja(O.pt.y,U.ymin)||Ja(O.pt.y,U.ymax)||C++}}return i=C%2===1?Kc:hx,i}function iL(o,n){return Hl(o,n).equal()}function Sx(o,n){return Hl(o,n).intersect()}function rL(o,n){return Hl(o,n).touch()}function oL(o,n){return!Sx(o,n)}function Mx(o,n){return Hl(o,n).inside()}function Ox(o,n){return Hl(o,n).covered()}function sL(o,n){return Mx(n,o)}function Bx(o,n){return Ox(n,o)}function Hl(o,n){if(o instanceof v.Line&&n instanceof v.Line)return aL(o,n);if(o instanceof v.Line&&n instanceof v.Circle)return lL(o,n);if(o instanceof v.Line&&n instanceof v.Box)return uL(o,n);if(o instanceof v.Line&&n instanceof v.Polygon)return hL(o,n);if((o instanceof v.Segment||o instanceof v.Arc)&&n instanceof v.Polygon)return ty(o,n);if((o instanceof v.Segment||o instanceof v.Arc)&&(n instanceof v.Circle||n instanceof v.Box))return ty(o,new v.Polygon(n));if(o instanceof v.Polygon&&n instanceof v.Polygon)return Nc(o,n);if((o instanceof v.Circle||o instanceof v.Box)&&(n instanceof v.Circle||n instanceof v.Box))return Nc(new v.Polygon(o),new v.Polygon(n));if((o instanceof v.Circle||o instanceof v.Box)&&n instanceof v.Polygon)return Nc(new v.Polygon(o),n);if(o instanceof v.Polygon&&(n instanceof v.Circle||n instanceof v.Box))return Nc(o,new v.Polygon(n))}function aL(o,n){let i=new Zl,l=Wl(o,n);return l.length===0?o.contains(n.pt)&&n.contains(o.pt)?(i.I2I=[o],i.I2E=[],i.E2I=[]):(i.I2I=[],i.I2E=[o],i.E2I=[n]):(i.I2I=l,i.I2E=o.split(l),i.E2I=n.split(l)),i}function lL(o,n){let i=new Zl,l=$a(o,n);if(l.length===0)i.I2I=[],i.I2B=[],i.I2E=[o],i.E2I=[n];else if(l.length===1)i.I2I=[],i.I2B=l,i.I2E=o.split(l),i.E2I=[n];else{let h=new ar([o]),f=o.sortPoints(l);h.split(f);let p=h.toShapes();i.I2I=[p[1]],i.I2B=f,i.I2E=[p[0],p[2]],i.E2I=new v.Polygon([n.toArc()]).cutWithLine(o)}return i}function uL(o,n){let i=new Zl,l=Ul(o,n);if(l.length===0)i.I2I=[],i.I2B=[],i.I2E=[o],i.E2I=[n];else if(l.length===1)i.I2I=[],i.I2B=l,i.I2E=o.split(l),i.E2I=[n];else{let h=new ar([o]),f=o.sortPoints(l);h.split(f);let p=h.toShapes();n.toSegments().some(x=>x.contains(l[0])&&x.contains(l[1]))?(i.I2I=[],i.I2B=[p[1]],i.I2E=[p[0],p[2]],i.E2I=[n]):(i.I2I=[p[1]],i.I2B=f,i.I2E=[p[0],p[2]],i.E2I=new v.Polygon(n.toSegments()).cutWithLine(o))}return i}function hL(o,n){let i=new Zl,l=Sc(o,n),h=new ar([o]),f=l.length>0?l.slice():o.sortPoints(l);return h.split(f),[...h].forEach(p=>p.setInclusion(n)),i.I2I=[...h].filter(p=>p.bv===v.INSIDE).map(p=>p.shape),i.I2B=[...h].slice(1).map(p=>p.bv===v.BOUNDARY?p.shape:p.shape.start),i.I2E=[...h].filter(p=>p.bv===v.OUTSIDE).map(p=>p.shape),i.E2I=n.cutWithLine(o),i}function ty(o,n){let i=new Zl,l=tL(o,n),h=l.length>0?l.slice():o.sortPoints(l),f=new ar([o]);f.split(h),[...f].forEach(p=>p.setInclusion(n)),i.I2I=[...f].filter(p=>p.bv===v.INSIDE).map(p=>p.shape),i.I2B=[...f].slice(1).map(p=>p.bv===v.BOUNDARY?p.shape:p.shape.start),i.I2E=[...f].filter(p=>p.bv===v.OUTSIDE).map(p=>p.shape),i.B2I=[],i.B2B=[],i.B2E=[];for(let p of[o.start,o.end])switch(gc(n,p)){case v.INSIDE:i.B2I.push(p);break;case v.BOUNDARY:i.B2B.push(p);break;case v.OUTSIDE:i.B2E.push(p);break}return i}function Nc(o,n){let i=new Zl,[l,h]=mx(o,n),f=_x(o,n),p=Rv(o,n),x=Rv(n,o),[A,C]=gx(o,n),I=kv(o,n),O=kv(n,o);return i.I2I=f.isEmpty()?[]:[f],i.I2B=C,i.I2E=p.isEmpty()?[]:[p],i.B2I=A,i.B2B=l,i.B2E=I,i.E2I=x.isEmpty()?[]:[x],i.E2B=O,i}var cL=Object.freeze({__proto__:null,contain:sL,cover:Bx,covered:Ox,disjoint:oL,equal:iL,inside:Mx,intersect:Sx,relate:Hl,touch:rL});let mc=class El{constructor(n=1,i=0,l=0,h=1,f=0,p=0){this.a=n,this.b=i,this.c=l,this.d=h,this.tx=f,this.ty=p}clone(){return new El(this.a,this.b,this.c,this.d,this.tx,this.ty)}transform(n){return[n[0]*this.a+n[1]*this.c+this.tx,n[0]*this.b+n[1]*this.d+this.ty]}multiply(n){return new El(this.a*n.a+this.c*n.b,this.b*n.a+this.d*n.b,this.a*n.c+this.c*n.d,this.b*n.c+this.d*n.d,this.a*n.tx+this.c*n.ty+this.tx,this.b*n.tx+this.d*n.ty+this.ty)}translate(...n){let i,l;if(n.length==1&&!isNaN(n[0].x)&&!isNaN(n[0].y))i=n[0].x,l=n[0].y;else if(n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number")i=n[0],l=n[1];else throw hn.ILLEGAL_PARAMETERS;return this.multiply(new El(1,0,0,1,i,l))}rotate(n,i=0,l=0){let h=Math.cos(n),f=Math.sin(n);return this.translate(i,l).multiply(new El(h,f,-f,h,0,0)).translate(-i,-l)}scale(n,i){return this.multiply(new El(n,0,0,i,0,0))}equalTo(n){return!(!v.Utils.EQ(this.tx,n.tx)||!v.Utils.EQ(this.ty,n.ty)||!v.Utils.EQ(this.a,n.a)||!v.Utils.EQ(this.b,n.b)||!v.Utils.EQ(this.c,n.c)||!v.Utils.EQ(this.d,n.d))}};v.Matrix=mc;const fL=(...o)=>new v.Matrix(...o);v.matrix=fL;const dL=class Fv{constructor(n,i){this.low=n,this.high=i}clone(){return new Fv(this.low,this.high)}get max(){return this.clone()}less_than(n){return this.low<n.low||this.low==n.low&&this.high<n.high}equal_to(n){return this.low==n.low&&this.high==n.high}intersect(n){return!this.not_intersect(n)}not_intersect(n){return this.high<n.low||n.high<this.low}merge(n){return new Fv(this.low===void 0?n.low:Math.min(this.low,n.low),this.high===void 0?n.high:Math.max(this.high,n.high))}output(){return[this.low,this.high]}static comparable_max(n,i){return n.merge(i)}static comparable_less_than(n,i){return n<i}},Qn=0,Ne=1;class Ll{constructor(n=void 0,i=void 0,l=null,h=null,f=null,p=Ne){this.left=l,this.right=h,this.parent=f,this.color=p,this.item={key:n,value:i},n&&n instanceof Array&&n.length==2&&!Number.isNaN(n[0])&&!Number.isNaN(n[1])&&(this.item.key=new dL(Math.min(n[0],n[1]),Math.max(n[0],n[1]))),this.max=this.item.key?this.item.key.max:void 0}isNil(){return this.item.key===void 0&&this.item.value===void 0&&this.left===null&&this.right===null&&this.color===Ne}_value_less_than(n){return this.item.value&&n.item.value&&this.item.value.less_than?this.item.value.less_than(n.item.value):this.item.value<n.item.value}less_than(n){return this.item.value===this.item.key&&n.item.value===n.item.key?this.item.key.less_than(n.item.key):this.item.key.less_than(n.item.key)||this.item.key.equal_to(n.item.key)&&this._value_less_than(n)}_value_equal(n){return this.item.value&&n.item.value&&this.item.value.equal_to?this.item.value.equal_to(n.item.value):this.item.value==n.item.value}equal_to(n){return this.item.value===this.item.key&&n.item.value===n.item.key?this.item.key.equal_to(n.item.key):this.item.key.equal_to(n.item.key)&&this._value_equal(n)}intersect(n){return this.item.key.intersect(n.item.key)}copy_data(n){this.item.key=n.item.key,this.item.value=n.item.value}update_max(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){const n=this.item.key.constructor.comparable_max;this.max=n(this.max,this.right.max)}if(this.left&&this.left.max){const n=this.item.key.constructor.comparable_max;this.max=n(this.max,this.left.max)}}not_intersect_left_subtree(n){const i=this.item.key.constructor.comparable_less_than;let l=this.left.max.high!==void 0?this.left.max.high:this.left.max;return i(l,n.item.key.low)}not_intersect_right_subtree(n){const i=this.item.key.constructor.comparable_less_than;let l=this.right.max.low!==void 0?this.right.max.low:this.right.item.key.low;return i(n.item.key.high,l)}}class Ac{constructor(){this.root=null,this.nil_node=new Ll}get size(){let n=0;return this.tree_walk(this.root,()=>n++),n}get keys(){let n=[];return this.tree_walk(this.root,i=>n.push(i.item.key.output?i.item.key.output():i.item.key)),n}get values(){let n=[];return this.tree_walk(this.root,i=>n.push(i.item.value)),n}get items(){let n=[];return this.tree_walk(this.root,i=>n.push({key:i.item.key.output?i.item.key.output():i.item.key,value:i.item.value})),n}isEmpty(){return this.root==null||this.root==this.nil_node}clear(){this.root=null}insert(n,i=n){if(n===void 0)return;let l=new Ll(n,i,this.nil_node,this.nil_node,null,Qn);return this.tree_insert(l),this.recalc_max(l),l}exist(n,i=n){let l=new Ll(n,i);return!!this.tree_search(this.root,l)}remove(n,i=n){let l=new Ll(n,i),h=this.tree_search(this.root,l);return h&&this.tree_delete(h),h}search(n,i=(l,h)=>l===h?h.output():l){let l=new Ll(n),h=[];return this.tree_search_interval(this.root,l,h),h.map(f=>i(f.item.value,f.item.key))}intersect_any(n){let i=new Ll(n);return this.tree_find_any_interval(this.root,i)}forEach(n){this.tree_walk(this.root,i=>n(i.item.key,i.item.value))}map(n){const i=new Ac;return this.tree_walk(this.root,l=>i.insert(l.item.key,n(l.item.value,l.item.key))),i}recalc_max(n){let i=n;for(;i.parent!=null;)i.parent.update_max(),i=i.parent}tree_insert(n){let i=this.root,l=null;if(this.root==null||this.root==this.nil_node)this.root=n;else{for(;i!=this.nil_node;)l=i,n.less_than(i)?i=i.left:i=i.right;n.parent=l,n.less_than(l)?l.left=n:l.right=n}this.insert_fixup(n)}insert_fixup(n){let i,l;for(i=n;i!=this.root&&i.parent.color==Qn;)i.parent==i.parent.parent.left?(l=i.parent.parent.right,l.color==Qn?(i.parent.color=Ne,l.color=Ne,i.parent.parent.color=Qn,i=i.parent.parent):(i==i.parent.right&&(i=i.parent,this.rotate_left(i)),i.parent.color=Ne,i.parent.parent.color=Qn,this.rotate_right(i.parent.parent))):(l=i.parent.parent.left,l.color==Qn?(i.parent.color=Ne,l.color=Ne,i.parent.parent.color=Qn,i=i.parent.parent):(i==i.parent.left&&(i=i.parent,this.rotate_right(i)),i.parent.color=Ne,i.parent.parent.color=Qn,this.rotate_left(i.parent.parent)));this.root.color=Ne}tree_delete(n){let i,l;n.left==this.nil_node||n.right==this.nil_node?i=n:i=this.tree_successor(n),i.left!=this.nil_node?l=i.left:l=i.right,l.parent=i.parent,i==this.root?this.root=l:(i==i.parent.left?i.parent.left=l:i.parent.right=l,i.parent.update_max()),this.recalc_max(l),i!=n&&(n.copy_data(i),n.update_max(),this.recalc_max(n)),i.color==Ne&&this.delete_fixup(l)}delete_fixup(n){let i=n,l;for(;i!=this.root&&i.parent!=null&&i.color==Ne;)i==i.parent.left?(l=i.parent.right,l.color==Qn&&(l.color=Ne,i.parent.color=Qn,this.rotate_left(i.parent),l=i.parent.right),l.left.color==Ne&&l.right.color==Ne?(l.color=Qn,i=i.parent):(l.right.color==Ne&&(l.color=Qn,l.left.color=Ne,this.rotate_right(l),l=i.parent.right),l.color=i.parent.color,i.parent.color=Ne,l.right.color=Ne,this.rotate_left(i.parent),i=this.root)):(l=i.parent.left,l.color==Qn&&(l.color=Ne,i.parent.color=Qn,this.rotate_right(i.parent),l=i.parent.left),l.left.color==Ne&&l.right.color==Ne?(l.color=Qn,i=i.parent):(l.left.color==Ne&&(l.color=Qn,l.right.color=Ne,this.rotate_left(l),l=i.parent.left),l.color=i.parent.color,i.parent.color=Ne,l.left.color=Ne,this.rotate_right(i.parent),i=this.root));i.color=Ne}tree_search(n,i){if(!(n==null||n==this.nil_node))return i.equal_to(n)?n:i.less_than(n)?this.tree_search(n.left,i):this.tree_search(n.right,i)}tree_search_interval(n,i,l){n!=null&&n!=this.nil_node&&(n.left!=this.nil_node&&!n.not_intersect_left_subtree(i)&&this.tree_search_interval(n.left,i,l),n.intersect(i)&&l.push(n),n.right!=this.nil_node&&!n.not_intersect_right_subtree(i)&&this.tree_search_interval(n.right,i,l))}tree_find_any_interval(n,i){let l=!1;return n!=null&&n!=this.nil_node&&(n.left!=this.nil_node&&!n.not_intersect_left_subtree(i)&&(l=this.tree_find_any_interval(n.left,i)),l||(l=n.intersect(i)),!l&&n.right!=this.nil_node&&!n.not_intersect_right_subtree(i)&&(l=this.tree_find_any_interval(n.right,i))),l}local_minimum(n){let i=n;for(;i.left!=null&&i.left!=this.nil_node;)i=i.left;return i}local_maximum(n){let i=n;for(;i.right!=null&&i.right!=this.nil_node;)i=i.right;return i}tree_successor(n){let i,l,h;if(n.right!=this.nil_node)i=this.local_minimum(n.right);else{for(l=n,h=n.parent;h!=null&&h.right==l;)l=h,h=h.parent;i=h}return i}rotate_left(n){let i=n.right;n.right=i.left,i.left!=this.nil_node&&(i.left.parent=n),i.parent=n.parent,n==this.root?this.root=i:n==n.parent.left?n.parent.left=i:n.parent.right=i,i.left=n,n.parent=i,n!=null&&n!=this.nil_node&&n.update_max(),i=n.parent,i!=null&&i!=this.nil_node&&i.update_max()}rotate_right(n){let i=n.left;n.left=i.right,i.right!=this.nil_node&&(i.right.parent=n),i.parent=n.parent,n==this.root?this.root=i:n==n.parent.left?n.parent.left=i:n.parent.right=i,i.right=n,n.parent=i,n!=null&&n!=this.nil_node&&n.update_max(),i=n.parent,i!=null&&i!=this.nil_node&&i.update_max()}tree_walk(n,i){n!=null&&n!=this.nil_node&&(this.tree_walk(n.left,i),i(n),this.tree_walk(n.right,i))}testRedBlackProperty(){let n=!0;return this.tree_walk(this.root,function(i){i.color==Qn&&(i.left.color==Ne&&i.right.color==Ne||(n=!1))}),n}testBlackHeightProperty(n){let i=0,l=0,h=0;if(n.color==Ne&&i++,n.left!=this.nil_node?l=this.testBlackHeightProperty(n.left):l=1,n.right!=this.nil_node?h=this.testBlackHeightProperty(n.right):h=1,l!=h)throw new Error("Red-black height property violated");return i+=l,i}}class pL extends Set{constructor(n){super(n),this.index=new Ac,this.forEach(i=>this.index.insert(i))}add(n){let i=this.size;const{key:l,value:h}=n,f=l||n.box,p=h||n;return super.add(p),this.size>i&&this.index.insert(f,p),this}delete(n){const{key:i,value:l}=n,h=i||n.box,f=l||n;let p=super.delete(f);return p&&this.index.remove(h,f),p}clear(){super.clear(),this.index=new Ac}search(n){return this.index.search(n)}hit(n){let i=new v.Box(n.x-1,n.y-1,n.x+1,n.y+1);return this.index.search(i).filter(l=>n.on(l))}svg(){return[...this].reduce((n,i)=>n+i.svg(),"")}}v.PlanarSet=pL;class Ps{get name(){throw hn.CANNOT_INVOKE_ABSTRACT_METHOD}get box(){throw hn.CANNOT_INVOKE_ABSTRACT_METHOD}clone(){throw hn.CANNOT_INVOKE_ABSTRACT_METHOD}translate(...n){return this.transform(new mc().translate(...n))}rotate(n,i=new v.Point){return this.transform(new mc().rotate(n,i.x,i.y))}scale(n,i){return this.transform(new mc().scale(n,i))}transform(...n){throw hn.CANNOT_INVOKE_ABSTRACT_METHOD}toJSON(){return Object.assign({},this,{name:this.name})}svg(n={}){throw hn.CANNOT_INVOKE_ABSTRACT_METHOD}}let _L=class Rx extends Ps{constructor(...n){if(super(),this.x=0,this.y=0,n.length!==0){if(n.length===1&&n[0]instanceof Array&&n[0].length===2){let i=n[0];if(typeof i[0]=="number"&&typeof i[1]=="number"){this.x=i[0],this.y=i[1];return}}if(n.length===1&&n[0]instanceof Object&&n[0].name==="point"){let{x:i,y:l}=n[0];this.x=i,this.y=l;return}if(n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}throw hn.ILLEGAL_PARAMETERS}}get box(){return new v.Box(this.x,this.y,this.x,this.y)}clone(){return new v.Point(this.x,this.y)}get vertices(){return[this.clone()]}equalTo(n){return v.Utils.EQ(this.x,n.x)&&v.Utils.EQ(this.y,n.y)}lessThan(n){return!!(v.Utils.LT(this.y,n.y)||v.Utils.EQ(this.y,n.y)&&v.Utils.LT(this.x,n.x))}transform(n){return new v.Point(n.transform([this.x,this.y]))}projectionOn(n){if(this.equalTo(n.pt))return this.clone();let i=new v.Vector(this,n.pt);if(v.Utils.EQ_0(i.cross(n.norm)))return n.pt.clone();let l=i.dot(n.norm),h=n.norm.multiply(l);return this.translate(h)}leftTo(n){let i=new v.Vector(n.pt,this);return v.Utils.GT(i.dot(n.norm),0)}distanceTo(n){if(n instanceof Rx){let i=n.x-this.x,l=n.y-this.y;return[Math.sqrt(i*i+l*l),new v.Segment(this,n)]}if(n instanceof v.Line)return v.Distance.point2line(this,n);if(n instanceof v.Circle)return v.Distance.point2circle(this,n);if(n instanceof v.Segment)return v.Distance.point2segment(this,n);if(n instanceof v.Arc)return v.Distance.point2arc(this,n);if(n instanceof v.Polygon)return v.Distance.point2polygon(this,n);if(n instanceof v.PlanarSet)return v.Distance.shape2planarSet(this,n)}on(n){if(n instanceof v.Point)return this.equalTo(n);if(n instanceof v.Box)return n.contains(this);if(n instanceof v.Line)return n.contains(this);if(n instanceof v.Ray)return n.contains(this);if(n instanceof v.Circle)return n.contains(this);if(n instanceof v.Segment)return n.contains(this);if(n instanceof v.Arc)return n.contains(this);if(n instanceof v.Polygon)return n.contains(this)}get name(){return"point"}svg(n={}){const i=n.r??3;return`
<circle cx="${this.x}" cy="${this.y}" r="${i}"
            ${Qa({fill:"red",...n})} />`}};v.Point=_L;const gL=(...o)=>new v.Point(...o);v.point=gL;let mL=class extends Ps{constructor(...o){if(super(),this.x=0,this.y=0,o.length!==0){if(o.length===1&&o[0]instanceof Array&&o[0].length===2){let n=o[0];if(typeof n[0]=="number"&&typeof n[1]=="number"){this.x=n[0],this.y=n[1];return}}if(o.length===1&&o[0]instanceof Object&&o[0].name==="vector"){let{x:n,y:i}=o[0];this.x=n,this.y=i;return}if(o.length===2){let n=o[0],i=o[1];if(typeof n=="number"&&typeof i=="number"){this.x=n,this.y=i;return}if(n instanceof v.Point&&i instanceof v.Point){this.x=i.x-n.x,this.y=i.y-n.y;return}}throw hn.ILLEGAL_PARAMETERS}}clone(){return new v.Vector(this.x,this.y)}get slope(){let o=Math.atan2(this.y,this.x);return o<0&&(o=2*Math.PI+o),o}get length(){return Math.sqrt(this.dot(this))}equalTo(o){return v.Utils.EQ(this.x,o.x)&&v.Utils.EQ(this.y,o.y)}multiply(o){return new v.Vector(o*this.x,o*this.y)}dot(o){return this.x*o.x+this.y*o.y}cross(o){return this.x*o.y-this.y*o.x}normalize(){if(!v.Utils.EQ_0(this.length))return new v.Vector(this.x/this.length,this.y/this.length);throw hn.ZERO_DIVISION}rotate(o,n=new v.Point){if(n.x===0&&n.y===0)return this.transform(new mc().rotate(o));throw hn.OPERATION_IS_NOT_SUPPORTED}transform(o){return new v.Vector(o.transform([this.x,this.y]))}rotate90CCW(){return new v.Vector(-this.y,this.x)}rotate90CW(){return new v.Vector(this.y,-this.x)}invert(){return new v.Vector(-this.x,-this.y)}add(o){return new v.Vector(this.x+o.x,this.y+o.y)}subtract(o){return new v.Vector(this.x-o.x,this.y-o.y)}angleTo(o){let n=this.normalize(),i=o.normalize(),l=Math.atan2(n.cross(i),n.dot(i));return l<0&&(l+=2*Math.PI),l}projectionOn(o){let n=o.normalize(),i=this.dot(n);return n.multiply(i)}get name(){return"vector"}};v.Vector=mL;const kx=(...o)=>new v.Vector(...o);v.vector=kx;class $c extends Ps{constructor(...n){if(super(),this.ps=new v.Point,this.pe=new v.Point,n.length!==0){if(n.length===1&&n[0]instanceof Array&&n[0].length===4){let i=n[0];this.ps=new v.Point(i[0],i[1]),this.pe=new v.Point(i[2],i[3]);return}if(n.length===1&&n[0]instanceof Object&&n[0].name==="segment"){let{ps:i,pe:l}=n[0];this.ps=new v.Point(i.x,i.y),this.pe=new v.Point(l.x,l.y);return}if(n.length===1&&n[0]instanceof v.Point){this.ps=n[0].clone();return}if(n.length===2&&n[0]instanceof v.Point&&n[1]instanceof v.Point){this.ps=n[0].clone(),this.pe=n[1].clone();return}if(n.length===4){this.ps=new v.Point(n[0],n[1]),this.pe=new v.Point(n[2],n[3]);return}throw hn.ILLEGAL_PARAMETERS}}clone(){return new v.Segment(this.start,this.end)}get start(){return this.ps}get end(){return this.pe}get vertices(){return[this.ps.clone(),this.pe.clone()]}get length(){return this.start.distanceTo(this.end)[0]}get slope(){return new v.Vector(this.start,this.end).slope}get box(){return new v.Box(Math.min(this.start.x,this.end.x),Math.min(this.start.y,this.end.y),Math.max(this.start.x,this.end.x),Math.max(this.start.y,this.end.y))}equalTo(n){return this.ps.equalTo(n.ps)&&this.pe.equalTo(n.pe)}contains(n){return v.Utils.EQ_0(this.distanceToPoint(n))}intersect(n){if(n instanceof v.Point)return this.contains(n)?[n]:[];if(n instanceof v.Line)return Cc(this,n);if(n instanceof v.Ray)return f0(n,this);if(n instanceof v.Segment)return _f(this,n);if(n instanceof v.Circle)return gf(this,n);if(n instanceof v.Box)return Gb(this,n);if(n instanceof v.Arc)return jl(this,n);if(n instanceof v.Polygon)return h0(this,n)}distanceTo(n){if(n instanceof v.Point){let[i,l]=v.Distance.point2segment(n,this);return l=l.reverse(),[i,l]}if(n instanceof v.Circle){let[i,l]=v.Distance.segment2circle(this,n);return[i,l]}if(n instanceof v.Line){let[i,l]=v.Distance.segment2line(this,n);return[i,l]}if(n instanceof v.Segment){let[i,l]=v.Distance.segment2segment(this,n);return[i,l]}if(n instanceof v.Arc){let[i,l]=v.Distance.segment2arc(this,n);return[i,l]}if(n instanceof v.Polygon){let[i,l]=v.Distance.shape2polygon(this,n);return[i,l]}if(n instanceof v.PlanarSet){let[i,l]=v.Distance.shape2planarSet(this,n);return[i,l]}}tangentInStart(){return new v.Vector(this.start,this.end).normalize()}tangentInEnd(){return new v.Vector(this.end,this.start).normalize()}reverse(){return new $c(this.end,this.start)}split(n){return this.start.equalTo(n)?[null,this.clone()]:this.end.equalTo(n)?[this.clone(),null]:[new v.Segment(this.start,n),new v.Segment(n,this.end)]}middle(){return new v.Point((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}pointAtLength(n){if(n>this.length||n<0)return null;if(n==0)return this.start;if(n==this.length)return this.end;let i=n/this.length;return new v.Point((this.end.x-this.start.x)*i+this.start.x,(this.end.y-this.start.y)*i+this.start.y)}distanceToPoint(n){let[i,...l]=v.Distance.point2segment(n,this);return i}definiteIntegral(n=0){let i=this.end.x-this.start.x,l=this.start.y-n,h=this.end.y-n;return i*(l+h)/2}transform(n=new v.Matrix){return new $c(this.ps.transform(n),this.pe.transform(n))}isZeroLength(){return this.ps.equalTo(this.pe)}sortPoints(n){return new v.Line(this.start,this.end).sortPoints(n)}get name(){return"segment"}svg(n={}){return`
<line x1="${this.start.x}" y1="${this.start.y}" x2="${this.end.x}" y2="${this.end.y}" ${Qa(n)} />`}}v.Segment=$c;const vL=(...o)=>new v.Segment(...o);v.segment=vL;let{vector:rc}=v,yL=class zx extends Ps{constructor(...n){if(super(),this.pt=new v.Point,this.norm=new v.Vector(0,1),n.length!==0){if(n.length===1&&n[0]instanceof Object&&n[0].name==="line"){let{pt:i,norm:l}=n[0];this.pt=new v.Point(i),this.norm=new v.Vector(l);return}if(n.length===2){let i=n[0],l=n[1];if(i instanceof v.Point&&l instanceof v.Point){this.pt=i,this.norm=zx.points2norm(i,l),this.norm.dot(rc(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(i instanceof v.Point&&l instanceof v.Vector){if(v.Utils.EQ_0(l.x)&&v.Utils.EQ_0(l.y))throw hn.ILLEGAL_PARAMETERS;this.pt=i.clone(),this.norm=l.clone(),this.norm=this.norm.normalize(),this.norm.dot(rc(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}if(i instanceof v.Vector&&l instanceof v.Point){if(v.Utils.EQ_0(i.x)&&v.Utils.EQ_0(i.y))throw hn.ILLEGAL_PARAMETERS;this.pt=l.clone(),this.norm=i.clone(),this.norm=this.norm.normalize(),this.norm.dot(rc(this.pt.x,this.pt.y))>=0&&this.norm.invert();return}}throw hn.ILLEGAL_PARAMETERS}}clone(){return new v.Line(this.pt,this.norm)}get start(){}get end(){}get length(){return Number.POSITIVE_INFINITY}get box(){return new v.Box(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)}get middle(){}get slope(){return new v.Vector(this.norm.y,-this.norm.x).slope}get standard(){let n=this.norm.x,i=this.norm.y,l=this.norm.dot(rc(this.pt.x,this.pt.y));return[n,i,l]}parallelTo(n){return v.Utils.EQ_0(this.norm.cross(n.norm))}incidentTo(n){return this.parallelTo(n)&&this.pt.on(n)}contains(n){if(this.pt.equalTo(n))return!0;let i=new v.Vector(this.pt,n);return v.Utils.EQ_0(this.norm.dot(i))}coord(n){return rc(n.x,n.y).cross(this.norm)}intersect(n){if(n instanceof v.Point)return this.contains(n)?[n]:[];if(n instanceof v.Line)return Wl(this,n);if(n instanceof v.Ray)return Ix(n,this);if(n instanceof v.Circle)return $a(this,n);if(n instanceof v.Box)return Ul(this,n);if(n instanceof v.Segment)return Cc(n,this);if(n instanceof v.Arc)return pf(this,n);if(n instanceof v.Polygon)return Sc(this,n)}distanceTo(n){if(n instanceof v.Point){let[i,l]=v.Distance.point2line(n,this);return l=l.reverse(),[i,l]}if(n instanceof v.Circle){let[i,l]=v.Distance.circle2line(n,this);return l=l.reverse(),[i,l]}if(n instanceof v.Segment){let[i,l]=v.Distance.segment2line(n,this);return[i,l.reverse()]}if(n instanceof v.Arc){let[i,l]=v.Distance.arc2line(n,this);return[i,l.reverse()]}if(n instanceof v.Polygon){let[i,l]=v.Distance.shape2polygon(this,n);return[i,l]}}split(n){if(n instanceof v.Point)return[new v.Ray(n,this.norm),new v.Ray(n,this.norm)];{let i=new v.Multiline([this]),l=this.sortPoints(n);return i.split(l),i.toShapes()}}rotate(n,i=new v.Point){return new v.Line(this.pt.rotate(n,i),this.norm.rotate(n))}transform(n){return new v.Line(this.pt.transform(n),this.norm.clone())}sortPoints(n){return n.slice().sort((i,l)=>this.coord(i)<this.coord(l)?-1:this.coord(i)>this.coord(l)?1:0)}get name(){return"line"}svg(n,i={}){let l=Ul(this,n);if(l.length===0)return"";let h=l[0],f=l.length===2?l[1]:l.find(p=>!p.equalTo(h));return f===void 0&&(f=h),new v.Segment(h,f).svg(i)}static points2norm(n,i){if(n.equalTo(i))throw hn.ILLEGAL_PARAMETERS;return new v.Vector(n,i).normalize().rotate90CCW()}};v.Line=yL;const xL=(...o)=>new v.Line(...o);v.line=xL;let wL=class extends Ps{constructor(...o){if(super(),this.pc=new v.Point,this.r=1,o.length===1&&o[0]instanceof Object&&o[0].name==="circle"){let{pc:n,r:i}=o[0];this.pc=new v.Point(n),this.r=i}else{let[n,i]=[...o];n&&n instanceof v.Point&&(this.pc=n.clone()),i!==void 0&&(this.r=i)}}clone(){return new v.Circle(this.pc.clone(),this.r)}get center(){return this.pc}get box(){return new v.Box(this.pc.x-this.r,this.pc.y-this.r,this.pc.x+this.r,this.pc.y+this.r)}contains(o){if(o instanceof v.Point)return v.Utils.LE(o.distanceTo(this.center)[0],this.r);if(o instanceof v.Segment)return v.Utils.LE(o.start.distanceTo(this.center)[0],this.r)&&v.Utils.LE(o.end.distanceTo(this.center)[0],this.r);if(o instanceof v.Arc)return this.intersect(o).length===0&&v.Utils.LE(o.start.distanceTo(this.center)[0],this.r)&&v.Utils.LE(o.end.distanceTo(this.center)[0],this.r);if(o instanceof v.Circle)return this.intersect(o).length===0&&v.Utils.LE(o.r,this.r)&&v.Utils.LE(o.center.distanceTo(this.center)[0],this.r)}toArc(o=!0){return new v.Arc(this.center,this.r,Math.PI,-Math.PI,o)}scale(o,n){if(o!==n||!(this.pc.x===0&&this.pc.y===0))throw hn.OPERATION_IS_NOT_SUPPORTED;return new v.Circle(this.pc,this.r*o)}transform(o=new v.Matrix){return new v.Circle(this.pc.transform(o),this.r)}intersect(o){if(o instanceof v.Point)return this.contains(o)?[o]:[];if(o instanceof v.Line)return $a(o,this);if(o instanceof v.Ray)return Ex(o,this);if(o instanceof v.Segment)return gf(o,this);if(o instanceof v.Circle)return yx(o,this);if(o instanceof v.Box)return Yb(this,o);if(o instanceof v.Arc)return u0(o,this);if(o instanceof v.Polygon)return Px(this,o)}distanceTo(o){if(o instanceof v.Point){let[n,i]=v.Distance.point2circle(o,this);return i=i.reverse(),[n,i]}if(o instanceof v.Circle){let[n,i]=v.Distance.circle2circle(this,o);return[n,i]}if(o instanceof v.Line){let[n,i]=v.Distance.circle2line(this,o);return[n,i]}if(o instanceof v.Segment){let[n,i]=v.Distance.segment2circle(o,this);return i=i.reverse(),[n,i]}if(o instanceof v.Arc){let[n,i]=v.Distance.arc2circle(o,this);return i=i.reverse(),[n,i]}if(o instanceof v.Polygon){let[n,i]=v.Distance.shape2polygon(this,o);return[n,i]}if(o instanceof v.PlanarSet){let[n,i]=v.Distance.shape2planarSet(this,o);return[n,i]}}get name(){return"circle"}svg(o={}){return`
<circle cx="${this.pc.x}" cy="${this.pc.y}" r="${this.r}"
                ${Qa({fill:"none",...o})} />`}};v.Circle=wL;const bL=(...o)=>new v.Circle(...o);v.circle=bL;class LL extends Ps{constructor(...n){if(super(),this.pc=new v.Point,this.r=1,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=v.CCW,n.length!==0)if(n.length===1&&n[0]instanceof Object&&n[0].name==="arc"){let{pc:i,r:l,startAngle:h,endAngle:f,counterClockwise:p}=n[0];this.pc=new v.Point(i.x,i.y),this.r=l,this.startAngle=h,this.endAngle=f,this.counterClockwise=p}else{let[i,l,h,f,p]=[...n];i&&i instanceof v.Point&&(this.pc=i.clone()),l!==void 0&&(this.r=l),h!==void 0&&(this.startAngle=h),f!==void 0&&(this.endAngle=f),p!==void 0&&(this.counterClockwise=p)}}clone(){return new v.Arc(this.pc.clone(),this.r,this.startAngle,this.endAngle,this.counterClockwise)}get sweep(){if(v.Utils.EQ(this.startAngle,this.endAngle))return 0;if(v.Utils.EQ(Math.abs(this.startAngle-this.endAngle),v.PIx2))return v.PIx2;let n;return this.counterClockwise?n=v.Utils.GT(this.endAngle,this.startAngle)?this.endAngle-this.startAngle:this.endAngle-this.startAngle+v.PIx2:n=v.Utils.GT(this.startAngle,this.endAngle)?this.startAngle-this.endAngle:this.startAngle-this.endAngle+v.PIx2,v.Utils.GT(n,v.PIx2)&&(n-=v.PIx2),v.Utils.LT(n,0)&&(n+=v.PIx2),n}get start(){return new v.Point(this.pc.x+this.r,this.pc.y).rotate(this.startAngle,this.pc)}get end(){return new v.Point(this.pc.x+this.r,this.pc.y).rotate(this.endAngle,this.pc)}get center(){return this.pc.clone()}get vertices(){return[this.start.clone(),this.end.clone()]}get length(){return Math.abs(this.sweep*this.r)}get box(){let n=this.breakToFunctional().reduce((i,l)=>i.merge(l.start.box),new v.Box);return n=n.merge(this.end.box),n}contains(n){if(!v.Utils.EQ(this.pc.distanceTo(n)[0],this.r))return!1;if(n.equalTo(this.start))return!0;let i=new v.Vector(this.pc,n).slope,l=new v.Arc(this.pc,this.r,this.startAngle,i,this.counterClockwise);return v.Utils.LE(l.length,this.length)}split(n){if(this.start.equalTo(n))return[null,this.clone()];if(this.end.equalTo(n))return[this.clone(),null];let i=new v.Vector(this.pc,n).slope;return[new v.Arc(this.pc,this.r,this.startAngle,i,this.counterClockwise),new v.Arc(this.pc,this.r,i,this.endAngle,this.counterClockwise)]}middle(){let n=this.counterClockwise?this.startAngle+this.sweep/2:this.startAngle-this.sweep/2;return new v.Arc(this.pc,this.r,this.startAngle,n,this.counterClockwise).end}pointAtLength(n){if(n>this.length||n<0)return null;if(n===0)return this.start;if(n===this.length)return this.end;let i=n/this.length,l=this.counterClockwise?this.startAngle+this.sweep*i:this.startAngle-this.sweep*i;return new v.Arc(this.pc,this.r,this.startAngle,l,this.counterClockwise).end}chordHeight(){return(1-Math.cos(Math.abs(this.sweep/2)))*this.r}intersect(n){if(n instanceof v.Point)return this.contains(n)?[n]:[];if(n instanceof v.Line)return pf(n,this);if(n instanceof v.Ray)return d0(n,this);if(n instanceof v.Circle)return u0(this,n);if(n instanceof v.Segment)return jl(n,this);if(n instanceof v.Box)return Jb(this,n);if(n instanceof v.Arc)return xx(this,n);if(n instanceof v.Polygon)return c0(this,n)}distanceTo(n){if(n instanceof v.Point){let[i,l]=v.Distance.point2arc(n,this);return l=l.reverse(),[i,l]}if(n instanceof v.Circle){let[i,l]=v.Distance.arc2circle(this,n);return[i,l]}if(n instanceof v.Line){let[i,l]=v.Distance.arc2line(this,n);return[i,l]}if(n instanceof v.Segment){let[i,l]=v.Distance.segment2arc(n,this);return l=l.reverse(),[i,l]}if(n instanceof v.Arc){let[i,l]=v.Distance.arc2arc(this,n);return[i,l]}if(n instanceof v.Polygon){let[i,l]=v.Distance.shape2polygon(this,n);return[i,l]}if(n instanceof v.PlanarSet){let[i,l]=v.Distance.shape2planarSet(this,n);return[i,l]}}breakToFunctional(){let n=[],i=[0,Math.PI/2,2*Math.PI/2,3*Math.PI/2],l=[this.pc.translate(this.r,0),this.pc.translate(0,this.r),this.pc.translate(-this.r,0),this.pc.translate(0,-this.r)],h=[];for(let f=0;f<4;f++)l[f].on(this)&&h.push(new v.Arc(this.pc,this.r,this.startAngle,i[f],this.counterClockwise));if(h.length===0)n.push(this.clone());else{h.sort((x,A)=>x.length-A.length);for(let x=0;x<h.length;x++){let A=n.length>0?n[n.length-1]:void 0,C;A?C=new v.Arc(this.pc,this.r,A.endAngle,h[x].endAngle,this.counterClockwise):C=new v.Arc(this.pc,this.r,this.startAngle,h[x].endAngle,this.counterClockwise),v.Utils.EQ_0(C.length)||n.push(C.clone())}let f=n.length>0?n[n.length-1]:void 0,p;f?p=new v.Arc(this.pc,this.r,f.endAngle,this.endAngle,this.counterClockwise):p=new v.Arc(this.pc,this.r,this.startAngle,this.endAngle,this.counterClockwise),!v.Utils.EQ_0(p.length)&&!v.Utils.EQ(p.sweep,2*Math.PI)&&n.push(p.clone())}return n}tangentInStart(){let n=new v.Vector(this.pc,this.start),i=this.counterClockwise?Math.PI/2:-Math.PI/2;return n.rotate(i).normalize()}tangentInEnd(){let n=new v.Vector(this.pc,this.end),i=this.counterClockwise?-Math.PI/2:Math.PI/2;return n.rotate(i).normalize()}reverse(){return new v.Arc(this.pc,this.r,this.endAngle,this.startAngle,!this.counterClockwise)}transform(n=new v.Matrix){let i=this.start.transform(n),l=this.end.transform(n),h=this.pc.transform(n),f=this.counterClockwise;return n.a*n.d<0&&(f=!f),v.Arc.arcSE(h,i,l,f)}static arcSE(n,i,l,h){let{vector:f}=v,p=f(n,i).slope,x=f(n,l).slope;v.Utils.EQ(p,x)&&(x+=2*Math.PI,h=!0);let A=f(n,i).length;return new v.Arc(n,A,p,x,h)}definiteIntegral(n=0){return this.breakToFunctional().reduce((i,l)=>i+l.circularSegmentDefiniteIntegral(n),0)}circularSegmentDefiniteIntegral(n){let i=new v.Line(this.start,this.end),l=this.pc.leftTo(i),h=new v.Segment(this.start,this.end).definiteIntegral(n),f=this.circularSegmentArea();return l?h-f:h+f}circularSegmentArea(){return .5*this.r*this.r*(this.sweep-Math.sin(this.sweep))}sortPoints(n){let{vector:i}=v;return n.slice().sort((l,h)=>{let f=i(this.pc,l).slope,p=i(this.pc,h).slope;return f<p?-1:f>p?1:0})}get name(){return"arc"}svg(n={}){let i=this.sweep<=Math.PI?"0":"1",l=this.counterClockwise?"1":"0";return v.Utils.EQ(this.sweep,2*Math.PI)?new v.Circle(this.pc,this.r).svg(n):`
<path d="M${this.start.x},${this.start.y}
                             A${this.r},${this.r} 0 ${i},${l} ${this.end.x},${this.end.y}"
                    ${Qa({fill:"none",...n})} />`}}v.Arc=LL;const PL=(...o)=>new v.Arc(...o);v.arc=PL;class vc extends Ps{constructor(n=void 0,i=void 0,l=void 0,h=void 0){super(),this.xmin=n,this.ymin=i,this.xmax=l,this.ymax=h}clone(){return new vc(this.xmin,this.ymin,this.xmax,this.ymax)}get low(){return new v.Point(this.xmin,this.ymin)}get high(){return new v.Point(this.xmax,this.ymax)}get max(){return this.clone()}get center(){return new v.Point((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)}get width(){return Math.abs(this.xmax-this.xmin)}get height(){return Math.abs(this.ymax-this.ymin)}get box(){return this.clone()}not_intersect(n){return this.xmax<n.xmin||this.xmin>n.xmax||this.ymax<n.ymin||this.ymin>n.ymax}intersect(n){return!this.not_intersect(n)}merge(n){return new vc(this.xmin===void 0?n.xmin:Math.min(this.xmin,n.xmin),this.ymin===void 0?n.ymin:Math.min(this.ymin,n.ymin),this.xmax===void 0?n.xmax:Math.max(this.xmax,n.xmax),this.ymax===void 0?n.ymax:Math.max(this.ymax,n.ymax))}less_than(n){return!!(this.low.lessThan(n.low)||this.low.equalTo(n.low)&&this.high.lessThan(n.high))}equal_to(n){return this.low.equalTo(n.low)&&this.high.equalTo(n.high)}output(){return this.clone()}static comparable_max(n,i){return n.merge(i)}static comparable_less_than(n,i){return n.lessThan(i)}set(n,i,l,h){this.xmin=n,this.ymin=i,this.xmax=l,this.ymax=h}toPoints(){return[new v.Point(this.xmin,this.ymin),new v.Point(this.xmax,this.ymin),new v.Point(this.xmax,this.ymax),new v.Point(this.xmin,this.ymax)]}toSegments(){let n=this.toPoints();return[new v.Segment(n[0],n[1]),new v.Segment(n[1],n[2]),new v.Segment(n[2],n[3]),new v.Segment(n[3],n[0])]}rotate(n,i=new v.Point){throw hn.OPERATION_IS_NOT_SUPPORTED}transform(n=new v.Matrix){return this.toPoints().map(i=>i.transform(n)).reduce((i,l)=>i.merge(l.box),new vc)}contains(n){if(n instanceof v.Point)return n.x>=this.xmin&&n.x<=this.xmax&&n.y>=this.ymin&&n.y<=this.ymax;if(n instanceof v.Segment)return n.vertices.every(i=>this.contains(i));if(n instanceof v.Box)return n.toSegments().every(i=>this.contains(i));if(n instanceof v.Circle)return this.contains(n.box);if(n instanceof v.Arc)return n.vertices.every(i=>this.contains(i))&&n.toSegments().every(i=>jl(i,n).length===0);if(n instanceof v.Line||n instanceof v.Ray)return!1;if(n instanceof v.Multiline)return n.toShapes().every(i=>this.contains(i));if(n instanceof v.Polygon)return this.contains(n.box)}get name(){return"box"}svg(n={}){const i=this.xmax-this.xmin,l=this.ymax-this.ymin;return`
<rect x="${this.xmin}" y="${this.ymin}" width=${i} height=${l}
                ${Qa({fill:"none",...n})} />`}}v.Box=vc;const AL=(...o)=>new v.Box(...o);v.box=AL;class TL{constructor(n){this.shape=n,this.next=void 0,this.prev=void 0,this.face=void 0,this.arc_length=0,this.bvStart=void 0,this.bvEnd=void 0,this.bv=void 0,this.overlap=void 0}get start(){return this.shape.start}get end(){return this.shape.end}get length(){return this.shape.length}get box(){return this.shape.box}get isSegment(){return this.shape instanceof v.Segment}get isArc(){return this.shape instanceof v.Arc}get isLine(){return this.shape instanceof v.Line}get isRay(){return this.shape instanceof v.Ray}middle(){return this.shape.middle()}pointAtLength(n){return this.shape.pointAtLength(n)}contains(n){return this.shape.contains(n)}setInclusion(n){if(this.bv!==void 0)return this.bv;if(this.shape instanceof v.Line||this.shape instanceof v.Ray)return this.bv=v.OUTSIDE,this.bv;if(this.bvStart===void 0&&(this.bvStart=gc(n,this.start)),this.bvEnd===void 0&&(this.bvEnd=gc(n,this.end)),this.bvStart===v.OUTSIDE||this.bvEnd==v.OUTSIDE)this.bv=v.OUTSIDE;else if(this.bvStart===v.INSIDE||this.bvEnd==v.INSIDE)this.bv=v.INSIDE;else{let i=gc(n,this.middle());this.bv=i}return this.bv}setOverlap(n){let i,l=this.shape,h=n.shape;l instanceof v.Segment&&h instanceof v.Segment?l.start.equalTo(h.start)&&l.end.equalTo(h.end)?i=v.OVERLAP_SAME:l.start.equalTo(h.end)&&l.end.equalTo(h.start)&&(i=v.OVERLAP_OPPOSITE):(l instanceof v.Arc&&h instanceof v.Arc||l instanceof v.Segment&&h instanceof v.Arc||l instanceof v.Arc&&h instanceof v.Segment)&&(l.start.equalTo(h.start)&&l.end.equalTo(h.end)&&l.middle().equalTo(h.middle())?i=v.OVERLAP_SAME:l.start.equalTo(h.end)&&l.end.equalTo(h.start)&&l.middle().equalTo(h.middle())&&(i=v.OVERLAP_OPPOSITE)),this.overlap===void 0&&(this.overlap=i),n.overlap===void 0&&(n.overlap=i)}svg(){if(this.shape instanceof v.Segment)return` L${this.shape.end.x},${this.shape.end.y}`;if(this.shape instanceof v.Arc){let n=this.shape,i,l=n.counterClockwise?"1":"0";if(v.Utils.EQ(n.sweep,2*Math.PI)){let h=n.counterClockwise?1:-1,f=new v.Arc(n.pc,n.r,n.startAngle,n.startAngle+h*Math.PI,n.counterClockwise),p=new v.Arc(n.pc,n.r,n.startAngle+h*Math.PI,n.endAngle,n.counterClockwise);return i="0",` A${f.r},${f.r} 0 ${i},${l} ${f.end.x},${f.end.y}
                    A${p.r},${p.r} 0 ${i},${l} ${p.end.x},${p.end.y}`}else return i=n.sweep<=Math.PI?"0":"1",` A${n.r},${n.r} 0 ${i},${l} ${n.end.x},${n.end.y}`}}toJSON(){return this.shape.toJSON()}}v.Edge=TL;class EL extends a0{constructor(n,i){super(n,i),this.setCircularLinks()}setCircularLinks(){this.isEmpty()||(this.last.next=this.first,this.first.prev=this.last)}[Symbol.iterator](){let n;return{next:()=>{let i=n||this.first,l=this.first?n?n===this.first:!1:!0;return n=i?i.next:void 0,{value:i,done:l}}}}append(n){return super.append(n),this.setCircularLinks(),this}insert(n,i){return super.insert(n,i),this.setCircularLinks(),this}remove(n){return super.remove(n),this}}class Cl extends EL{constructor(n,...i){if(super(),this._box=void 0,this._orientation=void 0,i.length!==0){if(i.length===1){if(i[0]instanceof Array){let l=i[0];if(l.length===0)return;if(l.every(h=>h instanceof v.Point)){let h=Cl.points2segments(l);this.shapes2face(n.edges,h)}else if(l.every(h=>h instanceof Array&&h.length===2)){let h=l.map(p=>new v.Point(p[0],p[1])),f=Cl.points2segments(h);this.shapes2face(n.edges,f)}else if(l.every(h=>h instanceof v.Segment||h instanceof v.Arc))this.shapes2face(n.edges,l);else if(l.every(h=>h.name==="segment"||h.name==="arc")){let h=[];for(let f of l){let p;f.name==="segment"?p=new v.Segment(f):p=new v.Arc(f),h.push(p)}this.shapes2face(n.edges,h)}}else if(i[0]instanceof Cl){let l=i[0];this.first=l.first,this.last=l.last;for(let h of l)n.edges.add(h)}else if(i[0]instanceof v.Circle)this.shapes2face(n.edges,[i[0].toArc(ux)]);else if(i[0]instanceof v.Box){let l=i[0];this.shapes2face(n.edges,[new v.Segment(new v.Point(l.xmin,l.ymin),new v.Point(l.xmax,l.ymin)),new v.Segment(new v.Point(l.xmax,l.ymin),new v.Point(l.xmax,l.ymax)),new v.Segment(new v.Point(l.xmax,l.ymax),new v.Point(l.xmin,l.ymax)),new v.Segment(new v.Point(l.xmin,l.ymax),new v.Point(l.xmin,l.ymin))])}}i.length===2&&i[0]instanceof v.Edge&&i[1]instanceof v.Edge&&(this.first=i[0],this.last=i[1],this.last.next=this.first,this.first.prev=this.last,this.setArcLength())}}get edges(){return this.toArray()}get shapes(){return this.edges.map(n=>n.shape.clone())}get box(){if(this._box===void 0){let n=new v.Box;for(let i of this)n=n.merge(i.box);this._box=n}return this._box}get perimeter(){return this.last.arc_length+this.last.length}pointAtLength(n){if(n>this.perimeter||n<0)return null;let i=null;for(let l of this)if(n>=l.arc_length&&(l===this.last||n<l.next.arc_length)){i=l.pointAtLength(n-l.arc_length);break}return i}static points2segments(n){let i=[];for(let l=0;l<n.length;l++)n[l].equalTo(n[(l+1)%n.length])||i.push(new v.Segment(n[l],n[(l+1)%n.length]));return i}shapes2face(n,i){for(let l of i){let h=new v.Edge(l);this.append(h),n.add(h)}}append(n){return super.append(n),this.setOneEdgeArcLength(n),n.face=this,this}insert(n,i){return super.insert(n,i),this.setOneEdgeArcLength(n),n.face=this,this}remove(n){return super.remove(n),this.setArcLength(),this}merge_with_next_edge(n){return n.shape.end.x=n.next.shape.end.x,n.shape.end.y=n.next.shape.end.y,this.remove(n.next),this}reverse(){let n=[],i=this.last;do i.shape=i.shape.reverse(),n.push(i),i=i.prev;while(i!==this.last);this.first=void 0,this.last=void 0;for(let l of n)this.first===void 0?(l.prev=l,l.next=l,this.first=l,this.last=l):(l.prev=this.last,this.last.next=l,this.last=l,this.last.next=this.first,this.first.prev=this.last),this.setOneEdgeArcLength(l);this._orientation!==void 0&&(this._orientation=void 0,this._orientation=this.orientation())}setArcLength(){for(let n of this)this.setOneEdgeArcLength(n),n.face=this}setOneEdgeArcLength(n){n===this.first?n.arc_length=0:n.arc_length=n.prev.arc_length+n.prev.length}area(){return Math.abs(this.signedArea())}signedArea(){let n=0,i=this.box.ymin;for(let l of this)n+=l.shape.definiteIntegral(i);return n}orientation(){if(this._orientation===void 0){let n=this.signedArea();v.Utils.EQ_0(n)?this._orientation=qc.NOT_ORIENTABLE:v.Utils.LT(n,0)?this._orientation=qc.CCW:this._orientation=qc.CW}return this._orientation}isSimple(n){return Cl.getSelfIntersections(this,n,!0).length===0}static getSelfIntersections(n,i,l=!1){let h=[];for(let f of n){let p=i.search(f.box);for(let x of p){if(f===x||x.face!==n||f.shape instanceof v.Segment&&x.shape instanceof v.Segment&&(f.next===x||f.prev===x))continue;let A=f.shape.intersect(x.shape);for(let C of A)if(!(C.equalTo(f.start)&&C.equalTo(x.end)&&x===f.prev)&&!(C.equalTo(f.end)&&C.equalTo(x.start)&&x===f.next)&&(h.push(C),l))break;if(h.length>0&&l)break}if(h.length>0&&l)break}return h}findEdgeByPoint(n){let i;for(let l of this)if(!n.equalTo(l.shape.start)&&(n.equalTo(l.shape.end)||l.shape.contains(n))){i=l;break}return i}toPolygon(){return new v.Polygon(this.shapes)}toJSON(){return this.edges.map(n=>n.toJSON())}svg(){let n=`
M${this.first.start.x},${this.first.start.y}`;for(let i of this)n+=i.svg();return n+=" z",n}}v.Face=Cl;class p0 extends Ps{constructor(...n){if(super(),this.pt=new v.Point,this.norm=new v.Vector(0,1),n.length!==0&&(n.length>=1&&n[0]instanceof v.Point&&(this.pt=n[0].clone()),n.length!==1)){if(n.length===2&&n[1]instanceof v.Vector){this.norm=n[1].clone();return}throw hn.ILLEGAL_PARAMETERS}}clone(){return new p0(this.pt,this.norm)}get slope(){return new v.Vector(this.norm.y,-this.norm.x).slope}get box(){let n=this.slope;return new v.Box(n>Math.PI/2&&n<3*Math.PI/2?Number.NEGATIVE_INFINITY:this.pt.x,n>=0&&n<=Math.PI?this.pt.y:Number.NEGATIVE_INFINITY,n>=Math.PI/2&&n<=3*Math.PI/2?this.pt.x:Number.POSITIVE_INFINITY,n>=Math.PI&&n<=2*Math.PI||n===0?this.pt.y:Number.POSITIVE_INFINITY)}get start(){return this.pt}get end(){}get length(){return Number.POSITIVE_INFINITY}contains(n){if(this.pt.equalTo(n))return!0;let i=new v.Vector(this.pt,n);return v.Utils.EQ_0(this.norm.dot(i))&&v.Utils.GE(i.cross(this.norm),0)}coord(n){return kx(n.x,n.y).cross(this.norm)}split(n){return this.contains(n)?this.pt.equalTo(n)?[this]:[new v.Segment(this.pt,n),new v.Ray(n,this.norm)]:[]}intersect(n){if(n instanceof v.Point)return this.contains(n)?[n]:[];if(n instanceof v.Segment)return f0(this,n);if(n instanceof v.Arc)return d0(this,n);if(n instanceof v.Line)return Ix(this,n);if(n instanceof v.Ray)return nL(this,n);if(n instanceof v.Circle)return Ex(this,n);if(n instanceof v.Box)return eL(this,n);if(n instanceof v.Polygon)return Cx(this,n)}rotate(n,i=new v.Point){return new v.Ray(this.pt.rotate(n,i),this.norm.rotate(n))}transform(n){return new v.Ray(this.pt.transform(n),this.norm.clone())}get name(){return"ray"}svg(n,i={}){let l=new v.Line(this.pt,this.norm),h=Ul(l,n);return h=h.filter(f=>this.contains(f)),h.length===0||h.length===2?"":new v.Segment(this.pt,h[0]).svg(i)}}v.Ray=p0;const IL=(...o)=>new v.Ray(...o);v.ray=IL;class ja{constructor(){this.faces=new v.PlanarSet,this.edges=new v.PlanarSet;let n=[...arguments];if(n.length===1&&(n[0]instanceof Array&&n[0].length>0||n[0]instanceof v.Circle||n[0]instanceof v.Box)){let i=n[0];if(n[0]instanceof Array&&n[0].every(l=>l instanceof Array))if(i.every(l=>l instanceof Array&&l.length===2&&typeof l[0]=="number"&&typeof l[1]=="number"))this.faces.add(new v.Face(this,i));else for(let l of i)if(l instanceof Array&&l[0]instanceof Array&&l[0].every(h=>h instanceof Array&&h.length===2&&typeof h[0]=="number"&&typeof h[1]=="number"))for(let h of l)this.faces.add(new v.Face(this,h));else this.faces.add(new v.Face(this,l));else this.faces.add(new v.Face(this,i))}}get box(){return[...this.faces].reduce((n,i)=>n.merge(i.box),new v.Box)}get vertices(){return[...this.edges].map(n=>n.start)}clone(){let n=new ja;for(let i of this.faces)n.addFace(i.shapes);return n}isEmpty(){return this.edges.size===0}isValid(){let n=!0;for(let i of this.faces)if(!i.isSimple(this.edges)){n=!1;break}return n}area(){let n=[...this.faces].reduce((i,l)=>i+l.signedArea(),0);return Math.abs(n)}addFace(...n){let i=new v.Face(this,...n);return this.faces.add(i),i}deleteFace(n){for(let i of n)this.edges.delete(i);return this.faces.delete(n)}recreateFaces(){this.faces.clear();for(let l of this.edges)l.face=null;let n,i=!0;for(;i;){i=!1;for(let l of this.edges)if(l.face===null){n=l,i=!0;break}if(i){let l=n;do l=l.next;while(l.next!==n);this.addFace(n,l)}}}removeChain(n,i,l){if(l.next===i){this.deleteFace(n);return}for(let h=i;h!==l.next;h=h.next)if(n.remove(h),this.edges.delete(h),n.isEmpty()){this.deleteFace(n);break}}addVertex(n,i){let l=i.shape.split(n);if(l[0]===null)return i.prev;if(l[1]===null)return i;let h=new v.Edge(l[0]),f=i.prev;return i.face.insert(h,f),this.edges.delete(i),this.edges.add(h),i.shape=l[1],this.edges.add(i),h}removeEndVertex(n){const i=n.next;i!==n&&(n.face.merge_with_next_edge(n),this.edges.delete(i))}cut(n){let i=this.clone(),l={int_points1:[],int_points2:[],int_points1_sorted:[],int_points2_sorted:[]};for(let p of n.edges)for(let x of i.edges){let A=Ax(p,x);for(let C of A)Nl(p,C,l.int_points1),Nl(x,C,l.int_points2)}if(l.int_points1.length===0)return i;l.int_points1_sorted=_s(l.int_points1),l.int_points2_sorted=_s(l.int_points2),Fl(n,l.int_points1_sorted),Fl(i,l.int_points2_sorted),l0(l),l.int_points1_sorted=_s(l.int_points1),l.int_points2_sorted=_s(l.int_points2),Ov(l.int_points1),Bv(l.int_points1,i);for(let p of l.int_points1_sorted)p.edge_before&&p.edge_after&&p.edge_before.bv===p.edge_after.bv&&(l.int_points2[p.id]=-1,p.id=-1);if(l.int_points1=l.int_points1.filter(p=>p.id>=0),l.int_points2=l.int_points2.filter(p=>p.id>=0),l.int_points1.length===0)return i;l.int_points1_sorted=_s(l.int_points1),l.int_points2_sorted=_s(l.int_points2);let h,f;for(let p=1;p<l.int_points1_sorted.length;p++)if(f=l.int_points1_sorted[p],h=l.int_points1_sorted[p-1],f.edge_before&&f.edge_before.bv===Kc){let x=h.edge_after,A=f.edge_before,C=n.getChain(x,A);G0(l.int_points2[h.id],l.int_points2[f.id],C),C.forEach(I=>i.edges.add(I)),C=C.reverse().map(I=>new v.Edge(I.shape.reverse()));for(let I=0;I<C.length-1;I++)C[I].next=C[I+1],C[I+1].prev=C[I];G0(l.int_points2[f.id],l.int_points2[h.id],C),C.forEach(I=>i.edges.add(I))}return i.recreateFaces(),i}cutWithLine(n){let i=new ar([n]);return this.cut(i)}findEdgeByPoint(n){let i;for(let l of this.faces)if(i=l.findEdgeByPoint(n),i!==void 0)break;return i}splitToIslands(){if(this.isEmpty())return[];let n=this.toArray();n.sort((h,f)=>f.area()-h.area());let i=[...n[0].faces][0].orientation(),l=n.filter(h=>[...h.faces][0].orientation()===i);for(let h of n){let f=[...h.faces][0];if(f.orientation()!==i){for(let p of l)if(f.shapes.every(x=>p.contains(x))){p.addFace(f.shapes);break}}}return l}reverse(){for(let n of this.faces)n.reverse();return this}contains(n){if(n instanceof v.Point){let i=gc(this,n);return i===Kc||i===Vr}else return Bx(this,n)}distanceTo(n){if(n instanceof v.Point){let[i,l]=v.Distance.point2polygon(n,this);return l=l.reverse(),[i,l]}if(n instanceof v.Circle||n instanceof v.Line||n instanceof v.Segment||n instanceof v.Arc){let[i,l]=v.Distance.shape2polygon(n,this);return l=l.reverse(),[i,l]}if(n instanceof v.Polygon){let i=[Number.POSITIVE_INFINITY,new v.Segment],l,h;for(let f of this.edges){let p=i[0];[l,h]=v.Distance.shape2planarSet(f.shape,n.edges,p),v.Utils.LT(l,p)&&(i=[l,h])}return i}}intersect(n){if(n instanceof v.Point)return this.contains(n)?[n]:[];if(n instanceof v.Line)return Sc(n,this);if(n instanceof v.Ray)return Cx(n,this);if(n instanceof v.Circle)return Px(n,this);if(n instanceof v.Segment)return h0(n,this);if(n instanceof v.Arc)return c0(n,this);if(n instanceof v.Polygon)return $b(n,this)}translate(n){let i=new ja;for(let l of this.faces)i.addFace(l.shapes.map(h=>h.translate(n)));return i}rotate(n=0,i=new v.Point){let l=new ja;for(let h of this.faces)l.addFace(h.shapes.map(f=>f.rotate(n,i)));return l}scale(n,i){let l=new ja;for(let h of this.faces)l.addFace(h.shapes.map(f=>f.scale(n,i)));return l}transform(n=new v.Matrix){let i=new ja;for(let l of this.faces)i.addFace(l.shapes.map(h=>h.transform(n)));return i}toJSON(){return[...this.faces].map(n=>n.toJSON())}toArray(){return[...this.faces].map(n=>n.toPolygon())}svg(n={}){let i=`
<path ${Qa({fillRule:"evenodd",fill:"lightcyan",...n})} d="`;for(let l of this.faces)i+=l.svg();return i+=`" >
</path>`,i}}v.Polygon=ja;const CL=(...o)=>new v.Polygon(...o);v.polygon=CL;const{Circle:_v,Line:ey,Point:ny,Vector:Dc,Utils:gv}=v;class yc{constructor(n){this.circle=n}get inversion_circle(){return this.circle}static inversePoint(n,i){const l=new Dc(n.pc,i),h=n.r*n.r,f=l.dot(l);return gv.EQ_0(f)?new ny(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY):n.pc.translate(l.multiply(h/f))}static inverseCircle(n,i){const l=n.pc.distanceTo(i.pc)[0];if(gv.EQ(l,i.r)){let h=n.r*n.r/(2*i.r),f=new Dc(n.pc,i.pc);f=f.normalize();let p=n.pc.translate(f.multiply(h));return new ey(p,f)}else{let h=new Dc(n.pc,i.pc),f=n.r*n.r/(h.dot(h)-i.r*i.r),p=n.pc.translate(h.multiply(f)),x=Math.abs(f)*i.r;return new _v(p,x)}}static inverseLine(n,i){const[l,h]=n.pc.distanceTo(i);if(gv.EQ_0(l))return i.clone();{let f=n.r*n.r/(2*l),p=new Dc(n.pc,h.end);return p=p.multiply(f/l),new _v(n.pc.translate(p),f)}}inverse(n){if(n instanceof ny)return yc.inversePoint(this.circle,n);if(n instanceof _v)return yc.inverseCircle(this.circle,n);if(n instanceof ey)return yc.inverseLine(this.circle,n)}}v.Inversion=yc;const SL=o=>new v.Inversion(o);v.inversion=SL;class It{static point2point(n,i){return n.distanceTo(i)}static point2line(n,i){let l=n.projectionOn(i);return[new v.Vector(n,l).length,new v.Segment(n,l)]}static point2circle(n,i){let[l,h]=n.distanceTo(i.center);if(v.Utils.EQ_0(l))return[i.r,new v.Segment(n,i.toArc().start)];{let f=Math.abs(l-i.r),p=new v.Vector(i.pc,n).normalize().multiply(i.r),x=i.pc.translate(p);return[f,new v.Segment(n,x)]}}static point2segment(n,i){if(i.start.equalTo(i.end))return It.point2point(n,i.start);let l=new v.Vector(i.start,i.end),h=new v.Vector(i.start,n),f=new v.Vector(i.end,n),p=l.dot(h),x=-l.dot(f),A,C;if(v.Utils.GE(p,0)&&v.Utils.GE(x,0)){let I=i.tangentInStart();return A=Math.abs(I.cross(h)),C=i.start.translate(I.multiply(I.dot(h))),[A,new v.Segment(n,C)]}else return p<0?n.distanceTo(i.start):n.distanceTo(i.end)}static point2arc(n,i){let l=new v.Circle(i.pc,i.r),h=[],f,p;return[f,p]=It.point2circle(n,l),p.end.on(i)&&h.push(It.point2circle(n,l)),h.push(It.point2point(n,i.start)),h.push(It.point2point(n,i.end)),It.sort(h),h[0]}static segment2line(n,i){let l=n.intersect(i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let h=[];return h.push(It.point2line(n.start,i)),h.push(It.point2line(n.end,i)),It.sort(h),h[0]}static segment2segment(n,i){let l=_f(n,i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let h=[],f,p;return[f,p]=It.point2segment(i.start,n),h.push([f,p.reverse()]),[f,p]=It.point2segment(i.end,n),h.push([f,p.reverse()]),h.push(It.point2segment(n.start,i)),h.push(It.point2segment(n.end,i)),It.sort(h),h[0]}static segment2circle(n,i){let l=n.intersect(i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let h=new v.Line(n.ps,n.pe),[f,p]=It.point2line(i.center,h);if(v.Utils.GE(f,i.r)&&p.end.on(n))return It.point2circle(p.end,i);{let[x,A]=It.point2circle(n.start,i),[C,I]=It.point2circle(n.end,i);return v.Utils.LT(x,C)?[x,A]:[C,I]}}static segment2arc(n,i){let l=n.intersect(i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let h=new v.Line(n.ps,n.pe),f=new v.Circle(i.pc,i.r),[p,x]=It.point2line(f.center,h);if(v.Utils.GE(p,f.r)&&x.end.on(n)){let[O,U]=It.point2circle(x.end,f);if(U.end.on(i))return[O,U]}let A=[];A.push(It.point2arc(n.start,i)),A.push(It.point2arc(n.end,i));let C,I;return[C,I]=It.point2segment(i.start,n),A.push([C,I.reverse()]),[C,I]=It.point2segment(i.end,n),A.push([C,I.reverse()]),It.sort(A),A[0]}static circle2circle(n,i){let l=n.intersect(i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];if(n.center.equalTo(i.center)){let h=n.toArc(),f=i.toArc();return It.point2point(h.start,f.start)}else{let h=new v.Line(n.center,i.center),f=h.intersect(n),p=h.intersect(i),x=[];return x.push(It.point2point(f[0],p[0])),x.push(It.point2point(f[0],p[1])),x.push(It.point2point(f[1],p[0])),x.push(It.point2point(f[1],p[1])),It.sort(x),x[0]}}static circle2line(n,i){let l=n.intersect(i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let[h,f]=It.point2line(n.center,i),[p,x]=It.point2circle(f.end,n);return x=x.reverse(),[p,x]}static arc2line(n,i){let l=i.intersect(n);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let h=new v.Circle(n.center,n.r),[f,p]=It.point2line(h.center,i);if(v.Utils.GE(f,h.r)){let[x,A]=It.point2circle(p.end,h);if(A.end.on(n))return[x,A]}else{let x=[];return x.push(It.point2line(n.start,i)),x.push(It.point2line(n.end,i)),It.sort(x),x[0]}}static arc2circle(n,i){let l=n.intersect(i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let h=new v.Circle(n.center,n.r),[f,p]=It.circle2circle(h,i);if(p.start.on(n))return[f,p];{let x=[];return x.push(It.point2circle(n.start,i)),x.push(It.point2circle(n.end,i)),It.sort(x),x[0]}}static arc2arc(n,i){let l=n.intersect(i);if(l.length>0)return[0,new v.Segment(l[0],l[0])];let h=new v.Circle(n.center,n.r),f=new v.Circle(i.center,i.r),[p,x]=It.circle2circle(h,f);if(x.start.on(n)&&x.end.on(i))return[p,x];{let A=[],C,I;return[C,I]=It.point2arc(n.start,i),I.end.on(i)&&A.push([C,I]),[C,I]=It.point2arc(n.end,i),I.end.on(i)&&A.push([C,I]),[C,I]=It.point2arc(i.start,n),I.end.on(n)&&A.push([C,I.reverse()]),[C,I]=It.point2arc(i.end,n),I.end.on(n)&&A.push([C,I.reverse()]),[C,I]=It.point2point(n.start,i.start),A.push([C,I]),[C,I]=It.point2point(n.start,i.end),A.push([C,I]),[C,I]=It.point2point(n.end,i.start),A.push([C,I]),[C,I]=It.point2point(n.end,i.end),A.push([C,I]),It.sort(A),A[0]}}static point2polygon(n,i){let l=[Number.POSITIVE_INFINITY,new v.Segment];for(let h of i.edges){let[f,p]=h.shape instanceof v.Segment?It.point2segment(n,h.shape):It.point2arc(n,h.shape);v.Utils.LT(f,l[0])&&(l=[f,p])}return l}static shape2polygon(n,i){let l=[Number.POSITIVE_INFINITY,new v.Segment];for(let h of i.edges){let[f,p]=n.distanceTo(h.shape);v.Utils.LT(f,l[0])&&(l=[f,p])}return l}static polygon2polygon(n,i){let l=[Number.POSITIVE_INFINITY,new v.Segment];for(let h of n.edges)for(let f of i.edges){let[p,x]=h.shape.distanceTo(f.shape);v.Utils.LT(p,l[0])&&(l=[p,x])}return l}static box2box_minmax(n,i){let l=Math.max(Math.max(n.xmin-i.xmax,0),Math.max(i.xmin-n.xmax,0)),h=Math.max(Math.max(n.ymin-i.ymax,0),Math.max(i.ymin-n.ymax,0)),f=l*l+h*h,p=n.merge(i),x=p.xmax-p.xmin,A=p.ymax-p.ymin,C=x*x+A*A;return[f,C]}static minmax_tree_process_level(n,i,l,h){let f,p;for(let I of i)[f,p]=It.box2box_minmax(n.box,I.item.key),I.item.value instanceof v.Edge?h.insert([f,p],I.item.value.shape):h.insert([f,p],I.item.value),v.Utils.LT(p,l)&&(l=p);if(i.length===0)return l;let x=i.map(I=>I.left.isNil()?void 0:I.left).filter(I=>I!==void 0),A=i.map(I=>I.right.isNil()?void 0:I.right).filter(I=>I!==void 0),C=[...x,...A].filter(I=>{let[O,U]=It.box2box_minmax(n.box,I.max);return v.Utils.LE(O,l)});return l=It.minmax_tree_process_level(n,C,l,h),l}static minmax_tree(n,i,l){let h=new Ac,f=[i.index.root],p=l<Number.POSITIVE_INFINITY?l*l:Number.POSITIVE_INFINITY;return p=It.minmax_tree_process_level(n,f,p,h),h}static minmax_tree_calc_distance(n,i,l){let h,f;if(i!=null&&!i.isNil()){if([h,f]=It.minmax_tree_calc_distance(n,i.left,l),f)return[h,f];if(v.Utils.LT(h[0],Math.sqrt(i.item.key.low)))return[h,!0];let[p,x]=It.distance(n,i.item.value);return v.Utils.LT(p,h[0])&&(h=[p,x]),[h,f]=It.minmax_tree_calc_distance(n,i.right,h),[h,f]}return[l,!1]}static shape2planarSet(n,i,l=Number.POSITIVE_INFINITY){let h=[l,new v.Segment],f=!1;if(i instanceof v.PlanarSet){let p=It.minmax_tree(n,i,l);[h,f]=It.minmax_tree_calc_distance(n,p.root,h)}return h}static sort(n){n.sort((i,l)=>v.Utils.LT(i[0],l[0])?-1:v.Utils.GT(i[0],l[0])?1:0)}static distance(n,i){return n.distanceTo(i)}}v.Distance=It;v.BooleanOperations=Zb;v.Relations=cL;const iy=v.Matrix,gs=20,ry={withHeading:{defaultPoints:[[.75,0],[.525,0],[-.1875,.225],[-.1875,-.225],[.525,0]],zoomShapes:[{min:14,points:[[1,0],[.5,.5],[-.5,.5],[-.5,-.5],[.5,-.5]]},{min:0,max:10,points:[[0,0]]}],units:"pixels",breadth:gs,length:gs},withoutHeading:{defaultPoints:[[.3,0],[0,.3],[-.3,0],[0,-.3]],zoomShapes:[{min:0,max:10,points:[[0,0]]}],units:"pixels",breadth:gs,length:gs}},oy={fill:!0,color:"#000",weight:1,fillColor:"yellow",fillOpacity:1},ML=j.Path.extend({_latLng:null,_heading:null,_breadth:0,_length:0,_label:null,_mmsi:null,_currentShapePoints:[],_currentLatLngBounds:null,options:oy,active:!1,_selectedItem:null,_rawPxBounds:null,_pxBounds:null,_parts:null,initialize(o,n){if(o==null)throw Error("latLng required");j.setOptions(this,{...n,className:"arrow-path"}),this._latLng=j.latLng(o),this._heading=n.heading,this._breadth=n.width,this._length=n.length,this._label=n.label,this._mmsi=n.mmsi,this.on("mouseover",function(){this._setStyle({color:"red"})}),this.on("mouseout",function(){this._checkStyle()})},beforeAdd:function(o){j.Path.prototype.beforeAdd.call(this,o),this._selectedItem=j.layerGroup().addTo(o),o.on("zoomend",()=>{this._redrawSelectedItem()})},_project(){this._currentShapePoints=this._getProjectedShapePoints(),this._checkStyle();const o=new rr.Bounds;for(let n=0;n<this._currentShapePoints.length;n++){const i=this._currentShapePoints[n];o.extend(i)}this._rawPxBounds=o,this._currentLatLngBounds=new rr.LatLngBounds(this._map.layerPointToLatLng(o.getBottomLeft()),this._map.layerPointToLatLng(o.getTopRight())),this._updateBounds()},_updateBounds:function(){const o=this._clickTolerance()+4,n=new rr.Point(o,o);this._rawPxBounds&&(this._pxBounds=new rr.Bounds([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_update(){this._map&&(this._clipPoints(),this._updatePath())},_clipPoints:function(){const o=this.options.weight+4,n=new rr.Point(o,o);let i=this._renderer._bounds;if(i=new rr.Bounds(i.min.subtract(n),i.max.add(n)),this._parts=[],!this._pxBounds||!this._pxBounds.intersects(i))return;if(this.options.noClip){this._parts=[this._currentShapePoints];return}const l=j.PolyUtil.clipPolygon(this._currentShapePoints,i,!0);l.length&&(this._parts=[l])},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){return this._pxBounds.contains(o)},_setStyle(o){rr.Util.setOptions(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds())},onRemove:function(){j.Path.prototype.onRemove.call(this),this._selectedItem&&(this._selectedItem.clearLayers(),this._selectedItem.removeFrom(this._map),this._selectedItem=null)},_checkStyle(){this._currentShapePoints.length===1?this._setStyle({weight:5,color:this.active?"blue":"red"}):this.active?this._setStyle({fillColor:"blue",color:"green",weight:1}):this._setStyle(oy)},setActive(o){this.active=o,this._checkStyle(),this._redrawSelectedItem()},_redrawSelectedItem(){if(this._selectedItem){this._selectedItem.clearLayers();const o=this._pxBounds;if(this.active&&o){const n=o.getSize(),i=n.x/4,l=n.y/4,h=[],f=o.getTopLeft();h.push(new j.Point(f.x,f.y+l)),h.push(f),h.push(new j.Point(f.x+i,f.y)),this._selectedItem.addLayer(this._getLine(h));const p=[],x=o.getTopRight();p.push(new j.Point(x.x-i,x.y)),p.push(x),p.push(new j.Point(x.x,x.y+l)),this._selectedItem.addLayer(this._getLine(p));const A=[],C=o.getBottomRight();A.push(new j.Point(C.x,C.y-l)),A.push(C),A.push(new j.Point(C.x-i,C.y)),this._selectedItem.addLayer(this._getLine(A));const I=[],O=o.getBottomLeft();I.push(new j.Point(O.x+i,O.y)),I.push(O),I.push(new j.Point(O.x,O.y-l)),this._selectedItem.addLayer(this._getLine(I))}}},_getLine(o){const n=this._map,i=Nt.map(o,function(l){return n.layerPointToLatLng(l)});return j.polyline(i,{color:"red",weight:1})},getBounds(){return this._currentLatLngBounds},getLabel(){return this._label},getMMSI(){return this._mmsi},getLatLng(){return this._latLng},_getLatSizeOf(o){return o/40075017*360},_getLngSizeOf(o){return o/40075017*360/Math.cos(Math.PI/180*this._latLng.lat)},_getProjectedShapePoints(){const[o,n]=this._getTransformedShapePoints();switch(n){case"pixels":{const i=this._map.latLngToLayerPoint(this._latLng),l=new iy().translate(i.x,i.y);return o.map(h=>{const f=l.transform(h);return new rr.Point(f[0],f[1])})}case"meters":return o.map(i=>this._map.latLngToLayerPoint(new rr.LatLng(this._latLng.lat-this._getLatSizeOf(i[1]),this._latLng.lng+this._getLngSizeOf(i[0]))));default:throw`unsupported units: ${n}`}},_getTransformedShapePoints(){const o=this._getShape();let n=new iy;if(this._heading){const i=this._heading-Math.PI/2;n=n.rotate(i)}return n=n.scale(o.length,o.breadth),[o.points.map(i=>n.transform(i)),o.units]},_getShape(){let o;this._heading?o=ry.withHeading:o=ry.withoutHeading;const n=this._map.getZoom(),i=Nt.find(o.zoomShapes,h=>{if(h.min&&h.max)return Nt.inRange(n,min,max);if(h.min)return n>=h.min;if(h.max)return n<h.max});let l=o.defaultPoints;return i?(l=i.points,this._breadth&&this._length?{points:l,units:"meters",breadth:this._breadth,length:this._length}:{points:l,units:"pixels",breadth:gs/3,length:gs/2}):{points:l,units:"pixels",breadth:gs,length:gs}}});function OL(o,n,i,l,h){Nx(o,n,i||0,l||o.length-1,h||BL)}function Nx(o,n,i,l,h){for(;l>i;){if(l-i>600){var f=l-i+1,p=n-i+1,x=Math.log(f),A=.5*Math.exp(2*x/3),C=.5*Math.sqrt(x*A*(f-A)/f)*(p-f/2<0?-1:1),I=Math.max(i,Math.floor(n-p*A/f+C)),O=Math.min(l,Math.floor(n+(f-p)*A/f+C));Nx(o,n,I,O,h)}var U=o[n],tt=i,G=l;for(oc(o,i,n),h(o[l],U)>0&&oc(o,i,l);tt<G;){for(oc(o,tt,G),tt++,G--;h(o[tt],U)<0;)tt++;for(;h(o[G],U)>0;)G--}h(o[i],U)===0?oc(o,i,G):(G++,oc(o,G,l)),G<=n&&(i=G+1),n<=G&&(l=G-1)}}function oc(o,n,i){var l=o[n];o[n]=o[i],o[i]=l}function BL(o,n){return o<n?-1:o>n?1:0}class _0{constructor(n=9){this._maxEntries=Math.max(4,n),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(n){let i=this.data;const l=[];if(!Uc(n,i))return l;const h=this.toBBox,f=[];for(;i;){for(let p=0;p<i.children.length;p++){const x=i.children[p],A=i.leaf?h(x):x;Uc(n,A)&&(i.leaf?l.push(x):vv(n,A)?this._all(x,l):f.push(x))}i=f.pop()}return l}collides(n){let i=this.data;if(!Uc(n,i))return!1;const l=[];for(;i;){for(let h=0;h<i.children.length;h++){const f=i.children[h],p=i.leaf?this.toBBox(f):f;if(Uc(n,p)){if(i.leaf||vv(n,p))return!0;l.push(f)}}i=l.pop()}return!1}load(n){if(!(n&&n.length))return this;if(n.length<this._minEntries){for(let l=0;l<n.length;l++)this.insert(n[l]);return this}let i=this._build(n.slice(),0,n.length-1,0);if(!this.data.children.length)this.data=i;else if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const l=this.data;this.data=i,i=l}this._insert(i,this.data.height-i.height-1,!0)}return this}insert(n){return n&&this._insert(n,this.data.height-1),this}clear(){return this.data=Il([]),this}remove(n,i){if(!n)return this;let l=this.data;const h=this.toBBox(n),f=[],p=[];let x,A,C;for(;l||f.length;){if(l||(l=f.pop(),A=f[f.length-1],x=p.pop(),C=!0),l.leaf){const I=RL(n,l.children,i);if(I!==-1)return l.children.splice(I,1),f.push(l),this._condense(f),this}!C&&!l.leaf&&vv(l,h)?(f.push(l),p.push(x),x=0,A=l,l=l.children[0]):A?(x++,l=A.children[x],C=!1):l=null}return this}toBBox(n){return n}compareMinX(n,i){return n.minX-i.minX}compareMinY(n,i){return n.minY-i.minY}toJSON(){return this.data}fromJSON(n){return this.data=n,this}_all(n,i){const l=[];for(;n;)n.leaf?i.push(...n.children):l.push(...n.children),n=l.pop();return i}_build(n,i,l,h){const f=l-i+1;let p=this._maxEntries,x;if(f<=p)return x=Il(n.slice(i,l+1)),Pl(x,this.toBBox),x;h||(h=Math.ceil(Math.log(f)/Math.log(p)),p=Math.ceil(f/Math.pow(p,h-1))),x=Il([]),x.leaf=!1,x.height=h;const A=Math.ceil(f/p),C=A*Math.ceil(Math.sqrt(p));sy(n,i,l,C,this.compareMinX);for(let I=i;I<=l;I+=C){const O=Math.min(I+C-1,l);sy(n,I,O,A,this.compareMinY);for(let U=I;U<=O;U+=A){const tt=Math.min(U+A-1,O);x.children.push(this._build(n,U,tt,h-1))}}return Pl(x,this.toBBox),x}_chooseSubtree(n,i,l,h){for(;h.push(i),!(i.leaf||h.length-1===l);){let f=1/0,p=1/0,x;for(let A=0;A<i.children.length;A++){const C=i.children[A],I=mv(C),O=NL(n,C)-I;O<p?(p=O,f=I<f?I:f,x=C):O===p&&I<f&&(f=I,x=C)}i=x||i.children[0]}return i}_insert(n,i,l){const h=l?n:this.toBBox(n),f=[],p=this._chooseSubtree(h,this.data,i,f);for(p.children.push(n),hc(p,h);i>=0&&f[i].children.length>this._maxEntries;)this._split(f,i),i--;this._adjustParentBBoxes(h,f,i)}_split(n,i){const l=n[i],h=l.children.length,f=this._minEntries;this._chooseSplitAxis(l,f,h);const p=this._chooseSplitIndex(l,f,h),x=Il(l.children.splice(p,l.children.length-p));x.height=l.height,x.leaf=l.leaf,Pl(l,this.toBBox),Pl(x,this.toBBox),i?n[i-1].children.push(x):this._splitRoot(l,x)}_splitRoot(n,i){this.data=Il([n,i]),this.data.height=n.height+1,this.data.leaf=!1,Pl(this.data,this.toBBox)}_chooseSplitIndex(n,i,l){let h,f=1/0,p=1/0;for(let x=i;x<=l-i;x++){const A=uc(n,0,x,this.toBBox),C=uc(n,x,l,this.toBBox),I=DL(A,C),O=mv(A)+mv(C);I<f?(f=I,h=x,p=O<p?O:p):I===f&&O<p&&(p=O,h=x)}return h||l-i}_chooseSplitAxis(n,i,l){const h=n.leaf?this.compareMinX:kL,f=n.leaf?this.compareMinY:zL,p=this._allDistMargin(n,i,l,h),x=this._allDistMargin(n,i,l,f);p<x&&n.children.sort(h)}_allDistMargin(n,i,l,h){n.children.sort(h);const f=this.toBBox,p=uc(n,0,i,f),x=uc(n,l-i,l,f);let A=Fc(p)+Fc(x);for(let C=i;C<l-i;C++){const I=n.children[C];hc(p,n.leaf?f(I):I),A+=Fc(p)}for(let C=l-i-1;C>=i;C--){const I=n.children[C];hc(x,n.leaf?f(I):I),A+=Fc(x)}return A}_adjustParentBBoxes(n,i,l){for(let h=l;h>=0;h--)hc(i[h],n)}_condense(n){for(let i=n.length-1,l;i>=0;i--)n[i].children.length===0?i>0?(l=n[i-1].children,l.splice(l.indexOf(n[i]),1)):this.clear():Pl(n[i],this.toBBox)}}function RL(o,n,i){if(!i)return n.indexOf(o);for(let l=0;l<n.length;l++)if(i(o,n[l]))return l;return-1}function Pl(o,n){uc(o,0,o.children.length,n,o)}function uc(o,n,i,l,h){h||(h=Il(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let f=n;f<i;f++){const p=o.children[f];hc(h,o.leaf?l(p):p)}return h}function hc(o,n){return o.minX=Math.min(o.minX,n.minX),o.minY=Math.min(o.minY,n.minY),o.maxX=Math.max(o.maxX,n.maxX),o.maxY=Math.max(o.maxY,n.maxY),o}function kL(o,n){return o.minX-n.minX}function zL(o,n){return o.minY-n.minY}function mv(o){return(o.maxX-o.minX)*(o.maxY-o.minY)}function Fc(o){return o.maxX-o.minX+(o.maxY-o.minY)}function NL(o,n){return(Math.max(n.maxX,o.maxX)-Math.min(n.minX,o.minX))*(Math.max(n.maxY,o.maxY)-Math.min(n.minY,o.minY))}function DL(o,n){const i=Math.max(o.minX,n.minX),l=Math.max(o.minY,n.minY),h=Math.min(o.maxX,n.maxX),f=Math.min(o.maxY,n.maxY);return Math.max(0,h-i)*Math.max(0,f-l)}function vv(o,n){return o.minX<=n.minX&&o.minY<=n.minY&&n.maxX<=o.maxX&&n.maxY<=o.maxY}function Uc(o,n){return n.minX<=o.maxX&&n.minY<=o.maxY&&n.maxX>=o.minX&&n.maxY>=o.minY}function Il(o){return{children:o,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function sy(o,n,i,l,h){const f=[n,i];for(;f.length;){if(i=f.pop(),n=f.pop(),i-n<=l)continue;const p=n+Math.ceil((i-n)/l/2)*l;OL(o,p,n,i,h),f.push(n,p,p,i)}}const FL=j.Layer.extend({options:{},initialize:function(o){j.setOptions(this,o),this.originLayers=[],this.drawLayers=new _0},onAdd:function(o){this._map=o,this._canvas||this._initCanvas(),this.options.pane?this.getPane().appendChild(this._canvas):o._panes.overlayPane.appendChild(this._canvas),this._reset()},onRemove:function(o){this.options.pane?this.getPane().removeChild(this._canvas):o.getPanes().overlayPane.removeChild(this._canvas)},addTo:function(o){return o.addLayer(this),this},getEvents(){return{moveend:this._reset,zoomanim:this._onAnimZoom}},_onAnimZoom(o){this._updateTransform(o.center,o.zoom)},_updateTransform:function(o,n){const i=this._map.getZoomScale(n,this._zoom),l=j.DomUtil.getPosition(this._canvas),h=this._map.getSize().multiplyBy(.5),f=this._map.project(this._center,n),p=this._map.project(o,n),x=p.subtract(f),A=h.multiplyBy(-i).add(l).add(h).subtract(x);j.Browser.any3d?j.DomUtil.setTransform(this._canvas,A,i):j.DomUtil.setPosition(this._canvas,A)},_initCanvas:function(){this._canvas=j.DomUtil.create("canvas","leaflet-canvas-icon-layer leaflet-layer");const o=this._map.getSize();this._canvas.width=o.x,this._canvas.height=o.y,this._canvas.style.zIndex=200,this._canvas.style.pointerEvents="none",this._ctx=this._canvas.getContext("2d");var n=this._map.options.zoomAnimation&&j.Browser.any3d;j.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(n?"animated":"hide"))},addLayer(o){o&&(this.originLayers.push(o),this._projectLayer(o))},_projectLayer(o){const n=o.getLabel(),i=o.getBounds();if(this._map.getBounds().contains(i)===!0){const l=this._ctx.measureText(n).width+8,h=20,f=i.getCenter(),p=j.latLng(i.getNorth(),f.lng),x=this._map.latLngToContainerPoint(p),A=x.x,C=x.y-h/2,I=A-l/2,O=A+l/2,U=C-h/2,tt=C+h/2,G={x:A,y:C,label:n,textWidth:l,textHeight:h,targetXY:this._map.latLngToContainerPoint(f)},q={minX:I,minY:U,maxX:O,maxY:tt,data:G};this.drawLayers.collides(q)||(this.drawLayers.insert(q),this._drawLabel(G))}},_drawLabel(o){const{x:n,y:i,label:l,textWidth:h,textHeight:f,targetXY:p}=o,x=this._ctx;x.save(),x.translate(n,i),x.globalAlpha=.5,x.fillStyle="#000",x.fillRect(-h/2,-f/2-4,h,f),x.moveTo(0,0),x.lineTo(p.x-n,p.y-i),x.stroke(),x.textAlign="center",x.globalAlpha=1,x.fillStyle="#fff",x.fillText(l,0,0),x.restore()},_reset:function(){const o=this._map.containerPointToLayerPoint([0,0]);j.DomUtil.setPosition(this._canvas,o);const n=this._map.getSize();this._canvas.width=n.x,this._canvas.height=n.y,this._center=this._map.getCenter(),this._zoom=this._map.getZoom(),this._redraw()},_redraw(){this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this.drawLayers.clear(),this.originLayers.sort((o,n)=>{const i=o!=null&&o.active?1:0;return(n!=null&&n.active?1:0)-i}).forEach(o=>{this._projectLayer(o)})},clear(){this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this.drawLayers.clear(),this.originLayers.length=0},dispose(){this.clear(),this.remove()}}),UL=j.Polyline.extend({options:{color:"blue",weight:1,smoothFactor:1},initialize:function(o){j.Util.setOptions(this,o),this._setLatLngs([])},_nodeGroup:null,beforeAdd:function(o){j.Polyline.prototype.beforeAdd.call(this,o),this._nodeGroup=j.layerGroup().addTo(o),this.rbush=new _0},_nodes:[],setData(o){this._clear(),this._nodes=this._projectNodes(o);const n=Nt.reduce(o,(i,l)=>{const h=j.latLng(l.lat,l.lng);return i.push(h),i},[]);this.setLatLngs(n)},_projectNodes(o){return Nt.map(o,n=>{const i=j.divIcon({html:`<div class="arrow-text">${n.ts}</div>`,iconAnchor:[50,20]}),l=j.marker(j.latLng(n.lat,n.lng),{icon:i}),h=j.circleMarker(j.latLng(n.lat,n.lng),{radius:3,color:this.options.color,weight:this.options.weight}).bindTooltip(`<div style="color:blue;">${n.ts}</div>`);return j.layerGroup([l,h])})},_projectLatlngs:function(o,n,i){let l=o.length,h,f;for(f=[],h=0;h<l;h++)f[h]=this._map.latLngToLayerPoint(o[h]),f[h].index=h,i.extend(f[h]);n.push(f)},_updatePath:function(){const o=[...this._parts],n=[],i=[];Nt.each(o,l=>{n.push(l),Nt.each(l,(h,f)=>{if(Nt.isNil(h.index)||i.push(h.index),f>0){const p=l[f-1],x=this._drawArrow(p.x,p.y,h.x,h.y);n.push(x)}})}),this._parts=n,this._renderer._updatePoly(this),this._parts=o,this._reRenderNodes(this._checkNodeIndexs(i))},_drawArrow(o,n,i,l,h,f){const p=[],x=h||15,A=f||10,C=Math.atan2(n-l,o-i)*180/Math.PI,I=(C+x)*Math.PI/180,O=(C-x)*Math.PI/180,U=A*Math.cos(I),tt=A*Math.sin(I),G=A*Math.cos(O),q=A*Math.sin(O),K={x:(i+o)/2,y:(l+n)/2};let nt,ct;return nt=K.x+U,ct=K.y+tt,p.push(j.point(nt,ct)),p.push(j.point(K.x,K.y)),nt=K.x+G,ct=K.y+q,p.push(j.point(nt,ct)),p},_checkNodeIndexs(o){const n=[];this.rbush.clear();const i=Nt.flattenDeep(this._rings);return Nt.each(o,l=>{const h=Nt.find(i,{index:l}),f={minX:h.x-50,minY:h.y-20,maxX:h.x+50,maxY:h.y+20};this.rbush.collides(f)||(this.rbush.insert(f),n.push(l))}),n},_prevNodeIndexs:[],_reRenderNodes(o){const n=Nt.difference(o,this._prevNodeIndexs);n.length&&Nt.each(n,l=>{this._nodeGroup.addLayer(this._nodes[l])});const i=Nt.difference(this._prevNodeIndexs,o);i.length&&Nt.each(i,l=>{this._nodeGroup.removeLayer(this._nodes[l])}),this._prevNodeIndexs=o},getSimplifyLatLngs(){const o=Nt.flattenDeep(this._parts);return Nt.reduce(o,(n,i)=>(n.push(this._map.layerPointToLatLng(i)),n),[])},_clear(){this._nodes.length=0,this._prevNodeIndexs.length=0,this._nodeGroup&&this._nodeGroup.clearLayers()},onRemove:function(){j.Polyline.prototype.onRemove.call(this),this._clear(),this._nodeGroup&&(this._nodeGroup.removeFrom(this._map),this._nodeGroup=null)}}),ZL=j.Marker.extend({icon:null,isZooming:!1,options:{icon:null,zIndexOffset:999},initialize(o,n){Object.assign(this.options,n),this.isZooming=!1,j.Marker.prototype.initialize.call(this,o,n),this.resetIcon()},resetIcon(){const o=this,n=o.options.icon.options,i=j.DivIcon.extend({createIcon:function(){var l=document.createElement("div");l.style.width=n.iconSize[0]+"px",l.style.height=n.iconSize[1]+"px",l.style.position="absolute",o.div=document.createElement("div"),o.div.style.width=n.iconSize[0]+"px",o.div.style.height=n.iconSize[1]+"px",o.div.style.transition="transform linear 100ms",o.div.style.transformOrigin="center",o.div.style.transform="translate3d(-"+n.iconAnchor[0]+"px, -"+n.iconAnchor[0]+"px, 0) rotate(-0deg)";const h=document.createElement("img");return h.src=n.iconUrl,h.width=n.iconSize[0],h.height=n.iconSize[1],o.div.appendChild(h),l.appendChild(o.div),l},rotate(l){o.before&&Math.abs(o.before-l)>=180?o.div.style.transition="none":o.div.style.transition="transform linear 100ms",o.div.style.transform="translate3d(-19px, -13px, 0) rotate(-"+l+"deg)",o.before=l},iconSize:n.iconSize});this.icon=new i,this.setIcon(this.icon)},onAdd(o){j.Marker.prototype.onAdd.call(this,o),o.addEventListener("zoomstart",()=>{this.isZooming=!0}),o.addEventListener("zoomend",()=>{this.isZooming=!1})},setFrame({lat:o,lng:n,rotation:i}){!this.isZooming&&this._map&&(this.setLatLng({lat:o,lng:n}),this.icon.rotate(i))}}),WL=(o,n)=>{const i=n.lng-o.lng,l=n.lat-o.lat;let h=180*Math.atan2(l,i)/Math.PI;return h>-180&&h<0&&(h=360+h),h};class jL{constructor(n){rt(this,"map",null),rt(this,"marker",null),rt(this,"pause",!1),rt(this,"_routeArray",[]),rt(this,"_speed",0),rt(this,"animationId",null),rt(this,"onAnimatedOver",null),this.map=n}_createMarker(n,i){this.marker||(this.marker=new ZL(n,{icon:i}),this.marker.addTo(this.map))}_removeMarker(){this.marker&&(this.marker.remove(),this.marker=null)}cancle(){this.animationId&&(window.cancelAnimationFrame(this.animationId),this.animationId=null,this.pause=!1),this.onAnimatedOver&&this.onAnimatedOver(),this._removeMarker()}setPause(n){n&&this.animationId?this.pause=!0:this.pause=!1}setData(n){if(n){const{points:i,totalDuration:l}=n;let h=0;const f=[];Nt.each(i,(p,x)=>{const A=j.latLng(p.lat,p.lng);if(x<i.length-1){const C=i[x+1],I=j.latLng(C.lat,C.lng),O=A.distanceTo(I),U=WL(p,C);f.push({position:A,rotation:U,distance:O}),h+=O}else f.push({position:A,rotation:0,distance:0})}),this._routeArray=f,this._speed=h/l}return this}play(n,i,l){if(this.cancle(),!this._routeArray.length)return;this.onAnimatedOver=l,this._createMarker(this._routeArray[0].position,n);let h=0,f=Date.now(),p=0,x=0;const A=()=>{if(!this.marker){console.warn("");return}const C=Date.now();if(this.pause)p=C-f-x;else{if(h>=this._routeArray.length-1){this.cancle();return}const I=this._routeArray[h],O=this._routeArray[h+1],U=I.distance;x=C-f-p;const tt=Nt.clamp(x*this._speed,0,U);if(tt==U)h++,f=Date.now(),x=0,p=0;else{const G=tt/U,q=I.position.lat+(O.position.lat-I.position.lat)*G,K=I.position.lng+(O.position.lng-I.position.lng)*G;q&&K&&this.marker.setFrame({lat:q,lng:K,rotation:I.rotation})}i&&i()}this.animationId=window.requestAnimationFrame(A)};A()}dispose(){this.cancle(),this.map=null}}const HL=j.LayerGroup.extend({options:{paddingPX:10},initialize:function(o){j.Util.setOptions(this,o),this._layers={},this.drawLayers=new _0},getEvents(){return{zoomend:this.render}},addLayer:function(o){var n=this.getLayerId(o);return this._layers[n]=o,this},removeLayer:function(o){var n=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),this},_prevRenderLayerIds:[],render(){if(this.drawLayers.clear(),this._prevRenderLayerIds=[],this._map){const o=this._map.getMapPxBounds(),n=[];Nt.each(this._layers,h=>{const f=this.getLayerId(h),p=h.getLatLng(),x=this._map.latLngToContainerPoint(p),A=j.point(x.x-this.options.paddingPX,x.y-this.options.paddingPX),C=j.point(x.x+this.options.paddingPX,x.y+this.options.paddingPX),I=j.bounds(A,C);if(o.contains(I)){const O={minX:A.x,minY:A.y,maxX:C.x,maxY:C.y,id:f};this.drawLayers.collides(O)||(this.drawLayers.insert(O),n.push(f))}});const i=Nt.difference(n,this._prevRenderLayerIds);i.length&&Nt.each(i,h=>{this._map.addLayer(this._layers[h])});const l=Nt.difference(this._prevRenderLayerIds,n);l.length&&Nt.each(l,h=>{this.removeLayer(this._layers[h])}),this._prevRenderLayerIds=n}},clearLayers(){this.drawLayers.clear(),this._prevRenderLayerIds=[],Nt.each(this._layers,o=>{this.removeLayer(o)}),this._layers={}},onRemove:function(o){j.LayerGroup.prototype.onRemove.call(this,o),this.clearLayers()}});j.Map.include({getMapPxBounds:function(){const o=this.getBounds(),n=o.getNorthWest(),i=o.getSouthEast(),l=this.latLngToContainerPoint(n),h=this.latLngToContainerPoint(i),f=Math.min(l.x,h.x),p=Math.max(l.x,h.x),x=Math.min(l.y,h.y),A=Math.max(l.y,h.y);return new j.Bounds(j.point(f,x),j.point(p,A))}});const VL=j.Layer.extend({options:{interactive:!0,zIndex:200,className:"arrow-custom",pane:"popupPane"},initialize(o,n){j.setOptions(this,n),this._latlng=o},onAdd(){this._div||this._initDiv(),this.options.interactive&&(j.DomUtil.addClass(this._div,"leaflet-interactive"),this.addInteractiveTarget(this._div)),this.getPane(this.options.pane).appendChild(this._div),this.update()},onRemove(){j.DomUtil.remove(this._div),this.options.interactive&&this.removeInteractiveTarget(this._div)},bringToFront(){return this._map&&j.DomUtil.toFront(this._div),this},bringToBack(){return this._map&&j.DomUtil.toBack(this._div),this},getEvents:function(){const o={zoom:this.update,viewreset:this.update};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},getLatLng:function(){return this._latlng},setLatLng:function(o){const n=this._latlng;return this._latlng=o,this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndex(o){return this.options.zIndex=o,this._updateZIndex(),this},getElement(){return this._div},_initDiv(){const o=j.DomUtil.create("div");this._div=o,j.DomUtil.addClass(o,"leaflet-custom-div-layer"),this._zoomAnimated&&j.DomUtil.addClass(o,"leaflet-zoom-animated"),this.options.className&&j.DomUtil.addClass(o,this.options.className),this.options.zIndex&&this._updateZIndex(),this.setContent(this.options.content)},setContent(o){if(o=typeof o=="function"?o(this):o,!o)return this;if(!this._div)return this;if(typeof o=="string")this._div.innerHTML=o;else{for(;this._div.hasChildNodes();)this._div.removeChild(this._div.firstChild);this._div.appendChild(o)}return this},_animateZoom(o){var n=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(n)},update:function(){if(this._div&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_setPos:function(o){if(this._div){const n=o.subtract(j.point(this._div.clientWidth/2,this._div.clientHeight/2));j.DomUtil.setPosition(this._div,n)}},_updateZIndex(){this._div&&this.options.zIndex&&(this._div.style.zIndex=this.options.zIndex)}}),qL=function(o,n,i){const l=n.getSouthWest(),h=n.getNorthEast(),f=o.latLngToLayerPoint(l),p=o.latLngToLayerPoint(h);f.x-=i,f.y+=i,p.x+=i,p.y-=i;const x=o.layerPointToLatLng(f),A=o.layerPointToLatLng(p);return j.latLngBounds(x,A)};class GL{constructor(n,{gridSize:i,onClustersChange:l}){rt(this,"setMarkers",h=>{this._orginMarkers=h,this._redraw()}),rt(this,"_clearAllClusters",()=>{Nt.each(this._clusters,h=>{h.remove()}),this._clusters.length=0}),rt(this,"dispose",()=>{this._clearAllClusters(),this._orginMarkers.length=0,this._map.removeEventListener("zoomend",this._redraw),this._map=null}),rt(this,"_redraw",()=>{this._clearAllClusters(),Nt.each(this._orginMarkers,h=>{let f=1/0,p=null;if(Nt.each(this._clusters,x=>{if(x.isMarkerInClusterBounds(h)){const A=this._map.distance(x.getCenter(),h.getPosition());A<f&&(f=A,p=x)}}),p)p.pushMarker(h);else{const x=new YL(this);x.pushMarker(h),this._clusters.push(x)}}),this._onClustersChange&&this._onClustersChange(this._clusters)}),rt(this,"getGridSize",()=>this._gridSize),rt(this,"getMap",()=>this._map),rt(this,"changeMarkerPosition",(h,f)=>{const p=Nt.find(this._orginMarkers,{key:h});p&&p.setPosition(f),this._redraw()}),n&&(this._map=n,this._orginMarkers=[],this._clusters=[],this._gridSize=i||60,this._onClustersChange=l,this._map.addEventListener("zoomend",this._redraw))}}class YL{constructor(n){rt(this,"_gridBounds",null),rt(this,"_center",null),rt(this,"_markers",[]),rt(this,"_name",null),rt(this,"pushMarker",i=>{if(this.isMarkerInCluster(i))return!1;if(this._name?this._name+=`,${i.key}`:this._name=i.key,this._markers.push(i),!this._center)this._center=i.getPosition();else{const l=[];Nt.each(this._markers,f=>{l.push(f.getPosition())});const h=j.latLngBounds(l);this._center=h.getCenter()}if(this.updateGridBounds(),this._markers.length>=2){let l=!1;const h=Nt.sortBy(this._markers,f=>this._map.distance(this._center,f.getPosition()));Nt.each(h,f=>{f.reverse=l,l=!l})}else i.reverse=!1}),rt(this,"isMarkerInCluster",i=>Nt.some(this._markers,{key:i.key})),rt(this,"isMarkerInClusterBounds",i=>this._gridBounds.contains(i.getPosition())),rt(this,"updateGridBounds",()=>{const i=j.latLngBounds(this._center,this._center);this._gridBounds=qL(this._map,i,this._markerClusterer.getGridSize())}),rt(this,"remove",()=>{this._gridBounds=null,this._center=null,this._name=null,this._markers.length=0,this._map=null,this._markerClusterer=null}),rt(this,"getBounds",()=>{const i=new j.latLngBounds(this._center,this._center);return Nt.each(this._markers,l=>{i.extend(l.getPosition())}),i}),rt(this,"getCenter",()=>this._center),rt(this,"getRadius",()=>{if(this._markers.length<2)return 0;const i=[];Nt.each(this._markers,tt=>{i.push(tt.getPosition())});const l=j.latLngBounds(i),h=this._map.latLngToContainerPoint(l.getCenter()),f=this._map.latLngToContainerPoint(l.getNorthWest()),p=this._map.latLngToContainerPoint(l.getNorthEast()),x=this._map.latLngToContainerPoint(l.getSouthWest()),A=this._map.latLngToContainerPoint(l.getSouthEast()),C=f.distanceTo(h),I=p.distanceTo(h),O=x.distanceTo(h),U=A.distanceTo(h);return Nt.mean([C,I,O,U])}),this._markerClusterer=n,this._map=n.getMap()}}class JL{constructor(n,i,l){rt(this,"originPosition",null),rt(this,"reverse",!1),rt(this,"getPosition",()=>this.originPosition),rt(this,"setPosition",h=>{this.originPosition=j.latLng(h.lat,h.lng)}),this.originPosition=j.latLng(n.lat,n.lng),this._key=i,this._extra=l}get key(){return this._key}get info(){return this._extra}}const XL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",KL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",QL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";class $L{constructor(n,i){return rt(this,"_map",null),rt(this,"_pointsBack",null),rt(this,"_latLngs",[]),rt(this,"_polyline",null),rt(this,"_controls",[]),rt(this,"_addPoints",[]),rt(this,"_group",null),rt(this,"id",null),rt(this,"draw",()=>{j.DomUtil.addClass(this._map._container,"arrow-draw-cursor");let l=0;const h=Nt.debounce(({latlng:p})=>{l===0&&(this._latLngs.push(p),this._projectPolyline(),this._projectControl(p,l)),l++},50);this._map.on("click",h);const f=p=>{this._polyline&&(this._latLngs.length>l?this._latLngs[l]=p.latlng:this._latLngs.push(p.latlng),this._polyline.setLatLngs(this._latLngs),this._projectControl(p.latlng,l))};this._map.on("mousemove",f),this._map.once("dblclick",p=>{this._latLngs.length>2&&(this._map.off({click:h,mousemove:f}),j.DomUtil.removeClass(this._map._container,"arrow-draw-cursor"),this._polyline.on("mousedown",({latlng:x})=>{this._map.dragging.disable();let A=x;const C=Nt.debounce(I=>{const O=I.latlng,U=O.lat-A.lat,tt=O.lng-A.lng;A=O,this._latLngs=this._latLngs.map(G=>(G.lat=G.lat+U,G.lng=G.lng+tt,G)),this._projectPolyline(),this._reProjectControls(),this._addPoints.length&&this._reProjectAddPoints()},50);this._map.on("mousemove",C),this._map.once("mouseup",()=>{this._map.off("mousemove",C),this._map.dragging.enable()})}),this._polyline.on("dblclick",this.onCheck))})}),rt(this,"remove",()=>{this._group.clearLayers(),this._group.remove(),this._latLngs.length=0,this._polyline=null,this._clearProjectControls(),this._clearAddPoints(),this._pointsBack&&this._pointsBack({id:this.id,latLngs:null,toggle:null,remove:null})}),rt(this,"show",!0),rt(this,"toggle",()=>{this.show=!this.show,this.show?this._group.addTo(this._map):this._group.removeFrom(this._map),this._pointsBack&&this._pointsBack({id:this.id,latLngs:this._latLngs,show:this.show,toggle:this.toggle,remove:this.remove})}),rt(this,"keydownFuc",l=>{l.originalEvent.keyCode===46&&this.remove()}),rt(this,"checked",!1),rt(this,"onCheck",()=>{this.checked?(this._polyline.setStyle({dashArray:null,color:"rgba(255,0,0,1)"}),this._map.off("keydown",this.keydownFuc),this._clearAddPoints()):(this._polyline.setStyle({dashArray:[5,5],color:"rgba(255,0,0,.5)"}),this._map.once("keydown",this.keydownFuc),this._reProjectAddPoints()),this.checked=!this.checked}),this._map=n,this._group=j.layerGroup().addTo(n),this.id=this._group._leaflet_id,this._map.doubleClickZoom.disable(),this._pointsBack=i,this}_projectPolyline(){this._polyline?this._polyline.setLatLngs(this._latLngs):this._polyline=j.polyline(this._latLngs,{weight:3,stroke:!0,color:"red",bubblingMouseEvents:!1}).addTo(this._group),this._pointsBack&&this._pointsBack({id:this.id,latLngs:this._latLngs,show:this.show,toggle:this.toggle,remove:this.remove})}_projectControl(n,i){const l=this._controls[i];if(l)l.setLatLng(n);else{const h=j.divIcon({html:i+1,className:"arrow-circle"}),f=j.marker(n,{icon:h,bubblingMouseEvents:!1}).addTo(this._group);this._controls.push(f),f.on("mousedown",p=>{this._map.dragging.disable();const x=A=>{if(f.setLatLng(A.latlng),this._latLngs[i]=A.latlng,this._projectPolyline(),this._addPoints.length){const C=this._latLngs;if(i===0){const I=j.latLngBounds([C[i],C[i+1]]);this._addPoints[i].setLatLng(I.getCenter())}else if(i===C.length-1){const I=j.latLngBounds([C[i-1],C[i]]);this._addPoints[i-1].setLatLng(I.getCenter())}else{const I=j.latLngBounds([C[i-1],C[i]]);this._addPoints[i-1].setLatLng(I.getCenter());const O=j.latLngBounds([C[i],C[i+1]]);this._addPoints[i].setLatLng(O.getCenter())}}};this._map.on("mousemove",x),this._map.once("mouseup",()=>{this._map.off("mousemove",x),this._map.dragging.enable()}),p.originalEvent.ctrlKey&&this._controls.length>2&&(this._latLngs.splice(i,1),this._projectPolyline(),this._reProjectControls(),this._addPoints.length&&this._reProjectAddPoints())})}}_reProjectControls(){this._clearProjectControls(),this._latLngs.forEach((n,i)=>{this._projectControl(n,i)})}_clearProjectControls(){this._controls.forEach(n=>{n.removeFrom(this._group)}),this._controls.length=0}_reProjectAddPoints(){this._clearAddPoints();const n=this._latLngs.length;for(let i=1;i<n;i++){const l=j.latLngBounds([this._latLngs[i-1],this._latLngs[i]]),h=j.divIcon({html:"+",className:"arrow-add"}),f=j.marker(l.getCenter(),{icon:h}).addTo(this._group);f.index=i-1,this._addPoints.push(f),f.on("click",p=>{this._latLngs.splice(p.target.index+1,0,p.latlng),this._projectPolyline(),this._reProjectControls(),this._reProjectAddPoints()})}}_clearAddPoints(){this._addPoints.forEach(n=>{n.removeFrom(this._group)}),this._addPoints.length=0}getLatLngs(){return this._polyline?this._polyline.getLatLngs():null}}class tP{constructor(n,i){return rt(this,"_map",null),rt(this,"_pointsBack",null),rt(this,"_latLngs",[]),rt(this,"_polygon",null),rt(this,"_controls",[]),rt(this,"_addPoints",[]),rt(this,"_group",null),rt(this,"id",null),rt(this,"remove",()=>{this._group.clearLayers(),this._group.remove(),this._latLngs.length=0,this._polygon=null,this._clearProjectControls(),this._clearAddPoints(),this._pointsBack&&this._pointsBack({id:this.id,latLngs:null})}),rt(this,"show",!0),rt(this,"toggle",()=>{this.show=!this.show,this.show?this._group.addTo(this._map):this._group.removeFrom(this._map),this._pointsBack&&this._pointsBack({id:this.id,latLngs:this._latLngs,show:this.show,toggle:this.toggle,remove:this.remove})}),rt(this,"keydownFuc",l=>{l.originalEvent.keyCode===46&&this.remove()}),rt(this,"_checked",!1),rt(this,"toggleCheck",()=>{this._checked?(this._polygon.setStyle({dashArray:null,fillOpacity:.2,color:"red"}),this._map.off("keydown",this.keydownFuc),this._clearAddPoints()):(this._polygon.setStyle({dashArray:[5,5],fillOpacity:.1,color:"rgba(255,0,0,.5)"}),this._map.once("keydown",this.keydownFuc),this._reProjectAddPoints()),this._checked=!this._checked}),this._map=n,this._group=j.layerGroup().addTo(n),this.id=this._group._leaflet_id,this._map.doubleClickZoom.disable(),this._pointsBack=i,this}_projectPolygon(){this._polygon?this._polygon.setLatLngs(this._latLngs):this._polygon=j.polygon(this._latLngs,{weight:2,stroke:!0,color:"red",bubblingMouseEvents:!1}).addTo(this._group),this._pointsBack&&this._pointsBack({id:this.id,latLngs:this._latLngs,show:this.show,toggle:this.toggle,remove:this.remove})}_projectControl(n,i){const l=this._controls[i];if(l)l.setLatLng(n);else{const h=j.divIcon({html:i+1,className:"arrow-circle"}),f=j.marker(n,{icon:h,bubblingMouseEvents:!1}).addTo(this._group);this._controls.push(f),f.on("mousedown",p=>{this._map.dragging.disable();const x=A=>{if(f.setLatLng(A.latlng),this._latLngs[i]=A.latlng,this._projectPolygon(),this._addPoints.length){const C=this._latLngs;let I=[];i===0?I=[C.length-1,i,i+1]:i===C.length-1?I=[i-1,i,0]:I=[i-1,i,i+1];const O=j.latLngBounds([C[I[0]],C[I[1]]]);this._addPoints[I[0]].setLatLng(O.getCenter());const U=j.latLngBounds([C[I[1]],C[I[2]]]);this._addPoints[I[1]].setLatLng(U.getCenter())}};this._map.on("mousemove",x),this._map.once("mouseup",()=>{this._map.off("mousemove",x),this._map.dragging.enable()}),p.originalEvent.ctrlKey&&this._controls.length>3&&(this._latLngs.splice(i,1),this._projectPolygon(),this._reProjectControls(),this._addPoints.length&&this._reProjectAddPoints())})}}_reProjectControls(){this._clearProjectControls(),this._latLngs.forEach((n,i)=>{this._projectControl(n,i)})}_clearProjectControls(){this._controls.forEach(n=>{n.removeFrom(this._group)}),this._controls.length=0}_reProjectAddPoints(){this._clearAddPoints();const n=this._latLngs.length;for(let i=0;i<n;i++){let l=0;i!=n-1&&(l=i+1);const h=j.latLngBounds([this._latLngs[i],this._latLngs[l]]),f=j.divIcon({html:"+",className:"arrow-add"}),p=j.marker(h.getCenter(),{icon:f}).addTo(this._group);p.index=i,this._addPoints.push(p),p.on("click",x=>{this._latLngs.splice(x.target.index+1,0,x.latlng),this._projectPolygon(),this._reProjectControls(),this._reProjectAddPoints()})}}_clearAddPoints(){this._addPoints.forEach(n=>{n.removeFrom(this._group)}),this._addPoints.length=0}draw(){j.DomUtil.addClass(this._map._container,"arrow-draw-cursor");let n=0;const i=Nt.debounce(({latlng:h})=>{n===0&&(this._latLngs.push(h),this._projectPolygon(),this._projectControl(h,n)),n++},50);this._map.on("click",i);const l=h=>{this._polygon&&(this._latLngs.length>n?this._latLngs[n]=h.latlng:this._latLngs.push(h.latlng),this._polygon.setLatLngs(this._latLngs),this._projectControl(h.latlng,n))};this._map.on("mousemove",l),this._map.once("dblclick",h=>{this._latLngs.length>2&&(this._map.off({click:i,mousemove:l}),j.DomUtil.removeClass(this._map._container,"arrow-draw-cursor"),this._polygon.on("mousedown",({latlng:f})=>{this._map.dragging.disable();let p=f;const x=Nt.debounce(A=>{const C=A.latlng,I=C.lat-p.lat,O=C.lng-p.lng;p=C,this._latLngs=this._latLngs.map(U=>(U.lat=U.lat+I,U.lng=U.lng+O,U)),this._projectPolygon(),this._reProjectControls(),this._addPoints.length&&this._reProjectAddPoints()},50);this._map.on("mousemove",x),this._map.once("mouseup",()=>{this._map.off("mousemove",x),this._map.dragging.enable()})}),this._polygon.on("dblclick",this.toggleCheck))})}getLatLngs(){return this._polygon?this._polygon.getLatLngs():null}}class eP{constructor(n){return rt(this,"_map",null),rt(this,"_latLngs",[]),rt(this,"_polyline",null),rt(this,"_controls",[]),rt(this,"_group",[]),rt(this,"_label",null),this._map=n,this._group=j.layerGroup().addTo(n),this._map.doubleClickZoom.disable(),this}_projectPolyline(){this._polyline?this._polyline.setLatLngs(this._latLngs):this._polyline=j.polyline(this._latLngs,{weight:2,stroke:!0,color:"#ff6319",bubblingMouseEvents:!1}).addTo(this._group)}_projectControl(n){let i="";if(n===0)i="";else{let p=0;for(let x=1;x<=n;x++)p+=this._map.distance(this._latLngs[x-1],this._latLngs[x]);i=`${Nt.round(p*54e-5,2)}`}const l=j.divIcon({html:`<div class='arrow-circle-label'>${i}</div>`,className:"arrow-circle",iconSize:new rr.Point(8,8)}),h=this._controls[n],f=this._latLngs[n];if(h)f&&h.setLatLng(f),h.setIcon(l);else if(f){const p=j.marker(f,{icon:l,bubblingMouseEvents:!1}).addTo(this._group);p.on("mousedown",x=>{this._map.dragging.disable();const A=C=>{this._map.dragging.disable(),this._latLngs[n]=C.latlng;for(let I=n;I<this._controls.length;I++)this._projectControl(I);this._projectPolyline()};if(this._map.on("mousemove",A),this._map.once("mouseup",()=>{this._map.off("mousemove",A),this._map.dragging.enable()}),x.originalEvent.ctrlKey&&this._controls.length>2){this._latLngs.splice(n,1),this._projectPolyline(),this._clearProjectControls();for(let C=0;C<this._latLngs.length;C++)this._projectControl(C)}}),this._controls.push(p)}}_clearProjectControls(){this._controls.forEach(n=>{n.removeFrom(this._group)}),this._controls.length=0}draw(){j.DomUtil.addClass(this._map._container,"arrow-draw-cursor");let n=0;const i=({latlng:h})=>{n===0&&this._latLngs.push(h),this._projectPolyline(),this._projectControl(n),n++};this._map.on("click",i);const l=h=>{this._polyline&&(this._latLngs.length>n?this._latLngs[n]=h.latlng:this._latLngs.push(h.latlng),this._polyline.setLatLngs(this._latLngs),this._projectControl(n))};this._map.on("mousemove",l),this._map.once("dblclick",h=>{if(this._latLngs.length>2){this._map.off({click:i,mousemove:l}),j.DomUtil.removeClass(this._map._container,"arrow-draw-cursor");let f=!1;const p=x=>{x.originalEvent.keyCode===46&&this.remove()};this._group.eachLayer(x=>{x.on("dblclick",A=>{f?(this._polyline.setStyle({dashArray:null,color:"#ff6319"}),this._map.off("keydown",p)):(this._polyline.setStyle({dashArray:[5,5],color:"rgba(255,0,0,.5)"}),this._map.once("keydown",p)),f=!f})})}})}remove(){this._group.clearLayers(),this._group.remove(),this._latLngs.length=0,this._polyline=null,this._clearProjectControls()}}class nP{constructor(n,i){return rt(this,"_map",null),rt(this,"_pointsBack",null),rt(this,"_group",[]),rt(this,"id",null),rt(this,"_latLngs",[]),rt(this,"_polyline",null),rt(this,"_polygons",[]),rt(this,"_projectPolyline",()=>{if(this._polyline?this._polyline.setLatLngs(this._latLngs):this._polyline=j.polyline(this._latLngs,{weight:2,stroke:!0,color:"red",bubblingMouseEvents:!1}).addTo(this._group),this._latLngs.length===2){this._polyline.removeFrom(this._group);const l=this._latLngs[0],h=this._latLngs[1],f=j.latLngBounds([l,h]),p=j.divIcon({html:"-",className:"arrow-add"});j.marker(f.getCenter(),{icon:p}).addTo(this._group).on("click",O=>{this.remove()});const x=this._map.latLngToContainerPoint(l),A=this._map.latLngToContainerPoint(h),C=Math.atan2(A.y-x.y,A.x-x.x)*(180/Math.PI),I=["#0000FF","#008000","#FFFF00","#FFA500","#FF0000"];[8,6,4,2,1].forEach((O,U)=>{const tt=this.getOtherLatLng(h,C,O*1852),G=this.getOtherLatLng(l,C,O*1852),q=[l,h,tt,G],K=I[U],nt=j.polygon([],{weight:2,stroke:!0,color:K,bubblingMouseEvents:!1}).addTo(this._group);nt.index=U,nt.angle=C,this._polygons.push(nt),nt._controls=[],nt._addPoints=[],nt._tmpLatLngs=q,this.polygonRedraw(nt);let ct=!1;nt.on("dblclick",X=>{ct?(X.target.setStyle({dashArray:null,fillOpacity:.2}),this.clearControls(X.target),this.clearAddPoints(X.target)):(X.target.setStyle({dashArray:[5,5],fillOpacity:.1}),this.rebuildControls(X.target),this.reBuildAddPoints(X.target)),ct=!ct})})}}),rt(this,"_projectControl",(l,h,f)=>{const p=j.divIcon({className:"arrow-circle",iconSize:new rr.Point(8,8)}),x=j.marker(h,{icon:p,bubblingMouseEvents:!1}).addTo(this._group);return x.index=f,x.on("mousedown",A=>{this._map.dragging.disable();const C=A.target.index,I=O=>{this._map.dragging.disable(),x.setLatLng(O.latlng),l._tmpLatLngs[C]=O.latlng,this.polygonRedraw(l);const U=l._tmpLatLngs,tt=j.latLngBounds([U[C-1],U[C]]).getCenter(),G=C+1===U.length?0:C+1,q=j.latLngBounds([U[C],U[G]]).getCenter(),K=Nt.find(l._addPoints,ct=>ct.index===C-1),nt=Nt.find(l._addPoints,ct=>ct.index===C);K.setLatLng(tt),nt.setLatLng(q)};this._map.on("mousemove",I),this._map.once("mouseup",()=>{this._map.off("mousemove",I),this._map.dragging.enable()}),A.originalEvent.ctrlKey&&l._controls.length>1&&(l._tmpLatLngs.splice(C,1),this.polygonRedraw(l),this.rebuildControls(l),this.reBuildAddPoints(l))}),x}),rt(this,"clearControls",l=>{l._controls.forEach(h=>{h.removeFrom(this._group)}),l._controls.length=0}),rt(this,"rebuildControls",l=>{this.clearControls(l),l._tmpLatLngs.forEach((h,f)=>{if(f>1){const p=this._projectControl(l,h,f);l._controls.push(p)}})}),rt(this,"clearAddPoints",l=>{l._addPoints.forEach(h=>{h.removeFrom(this._group)}),l._addPoints.length=0}),rt(this,"reBuildAddPoints",l=>{this.clearAddPoints(l);const h=l._tmpLatLngs;for(let f=2;f<=h.length;f++){let p=h[f-1],x=h[f];f===h.length&&(x=h[0]);const A=j.latLngBounds([p,x]),C=j.divIcon({html:"+",className:"arrow-add"}),I=j.marker(A.getCenter(),{icon:C}).addTo(this._group);I.index=f-1,l._addPoints.push(I),I.on("click",O=>{l._tmpLatLngs.splice(O.target.index+1,0,O.latlng),this.polygonRedraw(l),this.rebuildControls(l),this.reBuildAddPoints(l)})}}),rt(this,"polygonRedraw",l=>{l.setLatLngs(l._tmpLatLngs),this._pointsBack&&this._pointsBack({groupId:this._group._leaflet_id,id:l._leaflet_id,angle:l.angle,index:l.index,latLngs:l._tmpLatLngs,remove:()=>{l.removeFrom(this._group),this.clearControls(l),this.clearAddPoints(l);const h=l.index;this._polygons=this._polygons.filter(f=>f.index!=h),this._polygons.length===0&&this._group.clearLayers(),this._pointsBack({groupId:this._group._leaflet_id,id:l._leaflet_id,latLngs:null})}})}),this._map=n,this._group=j.layerGroup().addTo(n),this.id=this._group._leaflet_id,this._map.doubleClickZoom.disable(),this._pointsBack=i,this}draw(){j.DomUtil.addClass(this._map._container,"arrow-draw-cursor");const n=l=>{this._polyline&&this._polyline.setLatLngs([...this._latLngs,l.latlng])},i=({latlng:l})=>{this._latLngs.push(l),this._latLngs.length===2&&(this._map.off({click:i,mousemove:n}),j.DomUtil.removeClass(this._map._container,"arrow-draw-cursor")),this._projectPolyline()};this._map.on({click:i,mousemove:n})}remove(){this._group.clearLayers(),this._group.remove(),this._latLngs.length=0,this._polyline=null,this._polygons.forEach(n=>{this._pointsBack&&this._pointsBack({groupId:this._group._leaflet_id,id:n._leaflet_id,latLngs:null})}),this._polygons.length=0}getOtherLatLng(n,i,l){const h=63567523142e-4,f=1/298.257223563,p=n.lng,x=n.lat,A=l,C=i*(Math.PI/180),I=Math.sin(C),O=Math.cos(C),U=(1-f)*Math.tan(x*(Math.PI/180)),tt=1/Math.sqrt(1+U*U),G=U*tt,q=Math.atan2(U,O),K=tt*I,nt=1-K*K,ct=nt*(6378137*6378137-h*h)/(h*h),X=1+ct/16384*(4096+ct*(-768+ct*(320-175*ct))),Ct=ct/1024*(256+ct*(-128+ct*(74-47*ct)));let Dt=A/(h*X),Tt=2*Math.PI,Ht=1,ne=1,ue=1;for(;Math.abs(Dt-Tt)>1e-12;){ue=Math.cos(2*q+Dt),Ht=Math.sin(Dt),ne=Math.cos(Dt);const Br=Ct*Ht*(ue+Ct/4*(ne*(-1+2*ue*ue)-Ct/6*ue*(-3+4*Ht*Ht)*(-3+4*ue*ue)));Tt=Dt,Dt=A/(h*X)+Br}const Te=G*Ht-tt*ne*O,Fe=Math.atan2(G*ne+tt*Ht*O,(1-f)*Math.sqrt(K*K+Te*Te)),nn=Math.atan2(Ht*I,tt*ne-G*Ht*O),yi=f/16*nt*(4+f*(4-3*nt)),dn=nn-(1-yi)*f*K*(Dt+yi*Ht*(ue+yi*ne*(-1+2*ue*ue)));return j.latLng(Fe*(180/Math.PI),p+dn*(180/Math.PI))}}function ay(o){return o?o*Math.PI/180:null}class iP{constructor(n){if(rt(this,"_map",null),rt(this,"labelCanvas",null),rt(this,"ships",[]),rt(this,"customGroup",null),rt(this,"stopMarkers",null),rt(this,"aniMarker",null),rt(this,"playAnimatedMarker",(i,l,h,f)=>{this.aniMarker.setData(i).play(j.icon(l),h,f)}),rt(this,"pauseAnimatedMarker",i=>{this.aniMarker.setPause(i)}),rt(this,"cluster",null),rt(this,"clusterLayers",[]),rt(this,"createMarkerClusterer",(i,l=14,h=null)=>{if(!this.cluster){const f=new j.layerGroup;f.addTo(this.customGroup),this.cluster=new GL(this._map,{onClustersChange:p=>{const x=Nt.reduce(p,(C,I)=>(C=C.concat(I._markers),C),[]),A=Nt.filter(this.clusterLayers,C=>!Nt.some(x,{key:C.key}));A.length&&Nt.each(A,C=>{C.remove()}),Nt.each(x,C=>{let I=Nt.find(this.clusterLayers,{key:C.key});I?I.setContent(i(C)):(I=this.drawHtmlOverlay(C.getPosition(),i(C)),I.key=C.key,h&&I.on("click",function(){h(C.info)}),this.clusterLayers.push(I))}),f.clearLayers(),Nt.each(p,C=>{const I=C.getRadius()+l;j.circleMarker(C.getCenter(),{radius:I}).addTo(f)})}})}return this}),rt(this,"markerClustererSetData",i=>{if(this.cluster){const l=Nt.map(i,h=>new JL(h.position,h.guid,h));this.cluster.setMarkers(l)}}),rt(this,"drawHtmlOverlay",(i,l)=>{const h=new VL(i,{content:l});return h.addTo(this.customGroup),h}),rt(this,"drawCircle",(i,l)=>j.circle(i,l).addTo(this.customGroup)),rt(this,"drawCircleMarker",(i,l)=>{const h=j.circleMarker(i,l);return h.addTo(this.customGroup),h}),rt(this,"drawMarker",(i,l=null)=>{let h=null;return l?h=j.icon(l):h=j.icon({iconUrl:XL,iconRetinaUrl:KL,shadowUrl:QL,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]}),j.marker(i,{icon:h}).addTo(this.customGroup)}),rt(this,"drawPolygon",(i,l)=>j.polygon(i,l).addTo(this.customGroup)),rt(this,"drawPolyline",(i,l)=>j.polyline(i,l).addTo(this.customGroup)),rt(this,"dynamicLayers",[]),rt(this,"startDrawPolyline",i=>{const l=new $L(this._map,i);return l.draw(),this.dynamicLayers.push(l),l}),rt(this,"startDrawPolygon",i=>{const l=new tP(this._map,i);return l.draw(),this.dynamicLayers.push(l),l}),rt(this,"startDrawMeasure",()=>{const i=new eP(this._map);return i.draw(),this.dynamicLayers.push(i),i}),rt(this,"startDrawAreaByLine",i=>{const l=new nP(this._map,i);return l.draw(),this.dynamicLayers.push(l),l}),rt(this,"groundOverlay",(i,l)=>{const{type:h,url:f,opacity:p}=l||{type:"image",opacity:1};if(!f)return;let x=null;return h==="image"?x=j.imageOverlay(f,i,{opacity:p}).addTo(this.customGroup):h==="video"&&(x=j.videoOverlay(f,i,{opacity:p}).addTo(this.customGroup)),x}),!this._map){const i=j.map(n,{renderer:j.canvas(),attributionControl:!1}).setView([31.278551,121.749115],13);j.tileLayer("https://tile.hifleet.com/wmts/google-street-zh/osm_grid/{z}/{x}/{y}.png").addTo(i),j.control.attribution({prefix:"Arrow"}).addAttribution('&copy; <a href="https://github.com/shi2310/arrow-map">shimon</a>').addTo(i),this._map=i,this.labelCanvas=new FL,this.labelCanvas.addTo(i),this.customGroup=new j.layerGroup,this.customGroup.addTo(i),this.stopMarkers=new HL({paddingPX:20}),this.stopMarkers.addTo(i),this.aniMarker=new jL(i)}}latLngBounds(n){return j.latLngBounds(n)}getMap(){return this._map}get L(){return j}drawShips(n){return this.clearShips(),this.ships=Nt.map(n,i=>{const l=[i.lat,i.lng],h={heading:ay(i.course),course:ay(i.course),speed:i.speed,width:i.width,length:i.length,label:i.label||i.mmsi,mmsi:i.mmsi,ts:i.updatetime},f=new ML(l,h);return f.bindTooltip(`<div style="color:blue;">:${h.ts}</div>
         <div>MMSI:${h.mmsi}</div>
         <div>/:${h.length?h.length+"":"-"}/${h.width?h.width+"":"-"}</div>
         <div>:${h.course?h.course+"":"-"}</div>
         <div>:${h.heading?h.heading+"":"-"}</div>
         <div>:${h.speed?h.speed+"":"-"}</div>
         <div>:${h.draught||"-"}</div>`),f.addTo(this._map),f.on("click",p=>{this.setSelectedItem(p.target.getMMSI())}),this.labelCanvas.addLayer(f),f}),this}clearShips(){return this.labelCanvas.clear(),this.ships.forEach(n=>{n.removeFrom(this._map)}),this.ships=[],this}setSelectedItem(n){this.clearSelectedItem();const i=Nt.find(this.ships,l=>l.getMMSI()==n);if(i){i.setActive(!0);const l=i.getLatLng();this._map.panTo(l)}}clearSelectedItem(){const n=Nt.filter(this.ships,i=>i.active);n&&n.length&&Nt.each(n,i=>{i.setActive(!1)})}drawTrajectory(n,i){const l=new UL(i);return l.addTo(this.customGroup),l.setData(n),l}drawPointMarkers(n){this.stopMarkers.clearLayers(),Nt.each(n,i=>{const l=j.divIcon({html:`<div class="inner"><img src="${i.icon}" /><div>${i.text}</div></div>`,className:"arrow-marker"});j.marker(j.latLng(i.lat,i.lng),{icon:l}).addTo(this.stopMarkers)}),this.stopMarkers.render()}clear(){this.clearShips(),this.customGroup.clearLayers(),this.stopMarkers.clearLayers(),this.cluster&&this.cluster.setMarkers([]),this.dynamicLayers.forEach(n=>{n.remove()}),this.dynamicLayers.length=0}destory(){this.clear(),this.labelCanvas.dispose(),this.customGroup.removeFrom(this._map),this.stopMarkers.removeFrom(this._map),this.aniMarker.dispose(),this.cluster&&this.cluster.dispose(),this._map.remove()}}const rP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAAAxCAYAAAB9NT9zAAAACXBIWXMAAAsSAAALEgHS3X78AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAlqSURBVHja7Jl7cFxVGcB/597dzWM3oUnzfmyaps2jdBgUxIL+waDiIGLr1CoGsEIVRGR4THEEGUB5CKIFJLRUkHegBMrLMoL8oWUGOhMEa6HNwxDSR5q0adIHyWazu/cc/9hvL9edpA3KOMN4z8w3597z+Pac3/3OOd/5Vhlj8NOxk/JB+aB8UD4oH5QPygflJx+UD8oH5YPyQfmgfFB+OjYopdQnocsGwkCxvIekLHAUCU6TeyV0lLrANM8B+c0EMAWkgN1AH9AFvAckP86kMob0n4LKByqBJuCzwCKRYmAOYGTgFmApsKx0riwptD25PQ1ROys/GmkvqUz7kFBKARroB+cD2DEIm4C1wJ5PElQYqALqgBZgoeR1QHUQ8suACiG2EFgM5MmAI1mDPxoAb7mVJcqT/zfpELAdeBaGO2D9XngeeFdYzgpUgcx3IdAg1rEAmA9UFEF+hdBZADQKmPnSKfIp3HOGgJ9C8gn4O7AReHI6K8sGtUHB0hrIrREYDQKkHqgBSoEcj4JEIMCEZZEEkkqRAhylcJRCy3PKIw6k88y7N/f0TSlFUikSkqeUImVZH/2GZbntUx4dXv1xy6IykeCXO3eSp9PGsgu4DPgncCLwAFAA3ArcDRyAEWA98FsxvmlB/TkfvrIFOGGWX+TSBQt4KxIhxxg0oAVQJjdKYcSmM+dqpgxvWVY5WfUZXcjSszMDlzrHs20EjcEyhoRSLIzHebari4jjANAOnO/R/wRwnjzvFlht6VNgO/BDYMt0oJ4PwbKtsgHNJq1qbGRzYSFhrTFAzLIwMoGAMe6XVEBcLCIzpXzHwfKASFpWeh+SiWbqMrosqTOiKwMy7DhEtEYZQwAYCwSIWRYppaidmmJDdzeFAuoZ4Nue8d8PXJI1p78CK9PWdxj4BvB6NqgOBSs6gZOBRCjEcHk5iVAIbVnkxWLU7N2L8vhclzc08FpREblaE3Eczh4bI+w4hIxhV04OfywuJmgMSaVYNjrKZ8bHXQD3VlUxEgyigUWxGFcPDmIDuVqzsaSEDSUl5GqNDdw+MEBTLIYFDIVC/HjBApJA3LY5b/9+rh4cdC1tdX09r82ZQ8gYypNJnu7qojiVAuBl4OseKL8DLp/GALYBZwCjaUM7yRgz4gXVDrS+AZymFE+cey7bFi/GdhyMUjiWxfIXX2RJZ6er8Jr6el6aO5ccrSlNJtm0fbtrRW9HIpzf1ESe1kzYNnd88AHLRkfdvstbWujOz8cAp3z4IY/09rp1D5eXc2ttLQWOg1aKx3t6OGFiAoB9oRBLFy1i0rKIWxat+/dz465dbt/V8+ezqaiIkDEUp1J0dHVRlky7Ta8BZ3qA/Bq4ZobVcjtwbfrxZ8aYO7ygHgIu/AtweijEmksuYaS0lKD8yGRuLkveeovlL7zgKrt+3jyeKSkhR2uOcxw6urqoTCQA+FskwvcbGwkZw4Rtc93u3azct8/t+53mZt4LhwFYPDFBe08PAbHWR8vLuaW2lojjkFSK3/f1cdqRIwAMh0Isb2lh3LaJWxbfPHCA2wcGXL3XzZvHRrHGAsfh6e5uqqemANgMnO6B8QvghhlAbZOVlYRNxphzvKDWApe+Anw1GKRt1Sr2VlYSELOdysnh5HfeYcVzz7nKbo5GebysjDytyZdBRWVQ28Jhzm9qwhZQq/fs4eLhYbdva3MzW8NhFNAUi/FUTw85Yo1PlpZyU10dYcchYVnc19fH6YcPAzASDLK8pYXDgQBxy+LssTHW9Pe7em+sq2NDaSm5WpPnODzV00N9PA6yM3/Bc0hcC9w2A6h3gM+nndUXjTHLvKDWAFe9BJxj26y96CJ219QQ9IA6cds2vtvR4Sq7o7aWB8vLCWtNSGue6u6mQQa1Iz+f1uZmlDGM2zZXDA7yk6Eht+/KxkY6Cwqwgfp4nA3d3YQzm25JCT+fN4+w4xC3LO7p7+fMgwcBGAsG+VZzMweCQRJK8eVDh2h7/31X7y3RKI+VlZGvNUGtae/poXFyMm3lwKniqQNcBayZAdQNwM2yFRtj2rygbgOu7QBWWBbrVq1iZzRKSJZSPDeX43fsYGV7u6vsrupq1lZWEnYcAsCT3d3uoPry8ljR3AzAuG1z2dAQVw4Oun0vXriQ1wsLCRhDbSLBCzt2uBb1p6IirmhoIOI4TFgW93pAOUrxtcWL2SugvnT4MGv7+ly9d1dXc5+MyQYe6+nh+FjMXU6nyAUQ4EfAumkgvQmcBRxJuwlfNMYc8oK6Hrj5MeACYOPSpby5ZEl66SmFtizO2LyZs1591VXYVlXFPVVVRBwHBTzS20vz5GT6XpWbywVNTTjApG3Tun8/lw4NkVIKrRQ3RKNsKSwkaAylySS3DQyQrzWOUmwpKODeqipytWZKKVpHRjh5fJyEUkzYNvdXVnIwEEAD9VNTnDM6mtYLdBYU8HYkQsAYFPBwby8nykHQBZwETGasGngkC9IrwIXAMAzLIfl2tnuwGrjzAeAHstQGolGmcnKwtCYyMUHtnj3YsjwA1ldUcGdNjeunVCQS2MbgKEXCshgLBFx/J2QMQa3Tzqh42NrjKBp5z+wfAY8bMiU+WKYkLB8G8cRjtg3GgFLkyDbgSPuHe3v53Pg4AAPiI8al7/eAR+V5p7jj69JLs1MwvDudw3kZ0NYmbv5s0oMVFdwUjVLoOBi5xmQmr4xJT1bedRYYS7641ztXHiczU595V+kRu8//JuKQug6rlBmluKu/n1PlxHSA64CX5Dq2Rk62Z2TOI7APuE+YxWa6wlwE/OEu4MpZgnq5uJgHKioodBwCxmAbQ1DygIgtjmDAU25n2orlZCSoNUHR4S23xevO7m9Lf9uj25J2GU9+TipFvp4xMMCvgBthaxKeBh4HBo91KW4F2huBJUK8TiIDVfJeDBwnYZNPcxokHZB6CDZ1wm9k/07ONswyV/yxak/AoBYoA+bmQcFxoEoEWrVE7eqBcmlYJI0LjxUIy1xmM0tyBnHkKM/kSU8gLunJvZLy6HWk7AhwUAD9Aya74M1D6cDdc59k4C4CzBUelWJotUBUYJaL0eXleRpWAxMSbGOayUw3accjehZiPmLuKXK7J4BxOeQG5dDbCrwBdP8vQ8HekHCVxPBqJJ5XIOXZnFIzMMuWhKc+MQ3TmcTLekqMaerjxsiPCspP/t9VPigflA/KB+WD8pMPygflg/JB+aB8UP+P6V8DAHz2s9tGRq7eAAAAAElFTkSuQmCC",oP=""+new URL("wave-Bw8EM3gb.png",import.meta.url).href,sP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAABJCAYAAAA9mQYkAAAAAXNSR0IArs4c6QAABnVJREFUWEftmHtw1NUVx7/n99vfvrJL4mbzICwhPGIwBATfduShtTMiQqUio+iM4Ag4w9hMB4a2SJlaC63FTn0MVTNMRWW0gKUFBN8wgooyoqAxIUQeeS2GbALL7mYfv93f6dzfsimb/W1CQh9/0LMzu7/de+9nzz3n3HPvPYR+hJmnJpjXgohlYDkRfdTXEMrWyMxmAKub1NDPfhs6Kot+v3JUxEtN9j8BWElEMaOxhkBmdgB4dV/UN3t5sB4B0vSxQ1jGU46xmGxxbwXwEBEFe0MzgMzsBLB9U6h12urIMWi9ekgMrLSOxtwcz24AdxNR4EJoWndmVgBs3tLdevcT4e8AymIRBn5tG4M59mH/ADCXiNQUtDfwl/sjnWseDdUikdW6yaEyAy85qnCTJX8FEf0uA8jMVX5N/XLGmc+Vs5Toz/l6ex7L2HnFjWqupEwiom/Fbz16MPOuJ881TN8U//6iYKlO95mKsXJIxS4imtEDZObrvPHwgTv8B6i3E/qjCye9k3sDl5hs1xPRQV1DZq55OtC4cIPq7W+8Yft8pQTLnOU1RLSYmFn8Scetvk9cPik+KKBbk7HHfUsnAYUCOKE+6j98b+jQoGCpQW/mTMJYy5AJAvjAtkDrxsf9dZcEXJNbiVlOzzwBXLW++esn1jVfmoZLRkzEI8MnrBLAtc+c+GLZa21CQ+NoZohX37LAU4Wfll2zVgCf+cPxA9VziirgMtsMR21orcUrbbV9Eu8vGYvlo254tgc4f9h45GcB1jQfRk3L4f8D0y2QYcPp7lG4QrEa2ul1bz3eOFU/MBtu8jZkCRpAu4iwydCworAEQ7Jo+G5bI4aSBfM9VYZa+mJh/K29IT1sJg4dgVyz8ZTfajmCErJiUenVhsCOaDde9dZe9kCymGEziV00U77s9CKfzPiRu8yw/ZwaxfHI2XQbvuE9ckn5cMCBfRox3D50dFYNT3a2DyzbeDmCu4aPNQSejUVw+FTTZQ+80u6C0yTOmJnynu8kzkDF9W6PYXtIjSEWDqfbcMfp45CyHN+iibieiaySyRAostGMwlHpwHFFnqzZ5u22oyiCGQs84w2BnbEwtrQfueyTw789wbJZgU02zjZfdZ1CHpkwLb/U0CmBeAzeaCDdKR/4miBl2aaCCRUJMKyycdgwM+4sGHnZr+X+Tl//+3xYZsuFQzbONh92NsGnxXC1q9gwbMJxFYqaSHo5Fou9uK750OKt3zcmO/dzx8sgnj8r/6S4HEtKJ75EDQ0NacdnV0ExLFbjI0lvWDQSQVdH+lWOjh07drorHi0IJ1Q4JQXDS0pht9kvakvtDnejxduMgKbqq8xlsnT0nLG7gyEsclfAkeeCYrZcFFCNRRE824UaXwPsjpx/rZSak4eqb2YH8i32QQE7o93YT0EsKpuYvAVsaPq6+lbkQlGUQQFVVcUe+DF/xIRMoJirNccBW44oPWSXcCiASChZw/jvAKdqTsiyXp6BJMmQJKlPDTVNg6YlSwmJRAIfSYH0KU9JiFLN4GWvHPwPAp8/cbDa3Z3oydjxeBx8fjrZdCZJhsmUzOBio/fZZTw28lrdy6vXnfxqxfrWb/RGGxNMgQjUaLTP+SsWC+JOK8KUXLmPeMZjSdmkNQI4++Ou1q2P1YnKEzAznovJ5+1JRGhuO4Uz/mQ1yu3Kg2doITQtCdknB7HD5Nefn6+8Dbe4PLMFsCAQj7VP/eyv+n/9OJ6LKVoyBoWnX9j4Fuqawvr3qpE5WDzvTggPC9krBbDN5NcT1N6b72eHrBSlyixH7zm4rfx42J8B/PPGnahvTlZLxpWZ8ei86RnA0fY8vHnNrKNEVJEC/uXJxv0LtrY3pgHFlNvPBOFt79KBJYUuFLkcos6TpuGc4ivx+JibXiaih1PAhTvav6tZ1fgpPJoCj16kS0pagDOgcXK6QlpJRauk4jflP8DMojELiWh9CnhVSzhQN+vg33s6D+Rh+7WzMdzmrCSi+hRQOKTj9s8353epkYGwkK9Y8f6Nc0VVqYCI+MLq3Pal9Xtm7u5sGRDwh/mlePqqaTuIaJYYeCHw5xvb6n7/xxNfDAi4dOR1eHBY5S+I6KnewMm1Ad/e6rrd+v1dODJVAEp5VXhdaCDexXFcfD5XeRvGOd1TiGhfb6CVwY1RTVMYTMwgDSwxs7CvPhMCWNhJAmlEYAKxhSSViMqJSDf+PwFrhqQns8HrywAAAABJRU5ErkJggg==",aP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAABKVJREFUWEe9mU1MVFcUx899yFSFgbExfiQKfmxcidodsdGF8+yOgaURGJMu1I2Y2KSrCl2Z1ETswtrExAEbu4NhV4YNpi27irpy4wevC6PRCINgO8i7Pf/LvOmbcR7vvjvITQiEd++5v/s/99xz3n2CDNtX6Rd7lt1ChxDiuCRKEMmEIHEI5iTJB0RiVhDNSikn66zY2G+Znc9NpmIb+u14+m0i5r67IIWb8mB0RwNaSCtbsBqvT2a2zOqO0wL0gfUxGKtl3hh0lkEHdUFDAZPdTposea1WsMolKVAhzuQyLdnVlrsqoN3z92USst9cL42RUvTnhncPBPWsCgiX1st5Vo3SGlPU3IWDLLMk4her7c2qgMle5/Z6wXmrA+TEUMuZytV+BGj3zPSTEJdrlsXEgJQDueHWsi1VBoiAEBbdNrG9ZmMEdfoDpwS4su/yz0yjtTvVTKdTTfRuUdL5717Qy9fLRsyI7iXRtNfbjyXAWl37w7fb6OCBzxTUN1de0aPH/xoBqkE+VytAU/XOnkrQvpaYsrmffzduXllv7vcFVvCD+ntq+j09dZYiwfpVVBZN1RvP7A6dGEpC0citqKICTPbOTEfNrRjnAWK/jebm6YlTYBUt6rTjJXebAiJ3Twy1HhaoSly59CzyCnnAyI1dCuxOdo5dXU/thzep4JiaXlQuP3dqCweNa6Yg27dE/V5xonumz7LENRPABt5z27duoLMM0lYMENhBJI+O5+mXsbxS0jRgXFdeFHaPkyVBHVEBt2+to9MdzWR/2RA4FGreGZ2jiT8Xoppf6S9pTCR7nEkh6JiuBR2wSlumoFLSPaEbIHBnZzJO3Z3Numv5qB9Ar956o+1yVeTavQ7n6dUbVLvx/c7SORfWP+w5AuvmXb2iWgsQ6iFi16pN3X9PAz++1jKHIHnAQdIW1tvLtWH9dJ4DDpChTdLDSEHiz7ehxgM6RFFPBUmUYwZ78Sfei3C5SUNOvnTlJS3wOanVcMxEPaiTRxuoi1MZModug2r4efT4n0hlmDqoTVMd1LSPNqq8W01RqIRoHcnl9RWrWLFKdfifTqAgZQEGORb59clMQWUIpDGoiiACtB8MhQOyzf7WmEqJUBDQWqmPAyQ33HJIq9wCwKWvP6/q0ZHxec65cwoMbsc+g6IA6zoZDxzz868h56C/3CoWrM+55KqaJryyCpM/ZBWgRtuBjSXXojiY+mtRFal41v7F5rJDHYpB9R38zNu7q1XdnEHmuOzfg7Jfq+RvP7JJKeE/u6BSl92k3kOCGvrfvPu2LDCwVbBN4OrAVlnyo2OYikHGsO+w/w6yot4ehMoTfyzoHcYVhv3q4VHZgWannRSXOKO6x8cn6Rf02ulNZvp+siawYS/u/0M6Gda2d00m1TUiaYiPlXRl98DLo5g7P7hukAxXsOJ92pdH6+ruKm71qxia9YsXmINBZ6SuByv7IVr5AjNd0wWmZ3TlCjjfJwXhCti85meDCkwSXwE3DercVYcq6F+5B8qnU0qnyC1TjXMr4/Eluh6YNzYSoH9CVEEflgspq/gZgg0lStAMwxWf+gzh8meIDXWxrOlniP8ADuRMNS/2zMwAAAAASUVORK5CYII=",lP=""+new URL("bg-BoUBRsJo.png",import.meta.url).href;var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uP(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var tf={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */tf.exports;(function(o,n){(function(){var i,l="4.17.21",h=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",x="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",C=500,I="__lodash_placeholder__",O=1,U=2,tt=4,G=1,q=2,K=1,nt=2,ct=4,X=8,Ct=16,Dt=32,Tt=64,Ht=128,ne=256,ue=512,Te=30,Fe="...",nn=800,yi=16,dn=1,Br=2,pe=3,Jt=1/0,ft=9007199254740991,xi=17976931348623157e292,kt=NaN,Ft=4294967295,Ee=Ft-1,pn=Ft>>>1,qe=[["ary",Ht],["bind",K],["bindKey",nt],["curry",X],["curryRight",Ct],["flip",ue],["partial",Dt],["partialRight",Tt],["rearg",ne]],Kt="[object Arguments]",jt="[object Array]",Nn="[object AsyncFunction]",Qe="[object Boolean]",Hn="[object Date]",Mi="[object DOMException]",$n="[object Error]",Dn="[object Function]",R="[object GeneratorFunction]",N="[object Map]",H="[object Number]",st="[object Null]",Y="[object Object]",ot="[object Promise]",gt="[object Proxy]",ut="[object RegExp]",et="[object Set]",Q="[object String]",mt="[object Symbol]",Bt="[object Undefined]",Lt="[object WeakMap]",Wt="[object WeakSet]",Ut="[object ArrayBuffer]",ee="[object DataView]",re="[object Float32Array]",Ie="[object Float64Array]",fn="[object Int8Array]",ti="[object Int16Array]",Oi="[object Int32Array]",Vn="[object Uint8Array]",Bi="[object Uint8ClampedArray]",rn="[object Uint16Array]",$e="[object Uint32Array]",Yo=/\b__p \+= '';/g,Vl=/\b(__p \+=) '' \+/g,tl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jo=/&(?:amp|lt|gt|quot|#39);/g,Xo=/[&<>"']/g,ql=RegExp(Jo.source),Gl=RegExp(Xo.source),Yl=/<%-([\s\S]+?)%>/g,Jl=/<%([\s\S]+?)%>/g,As=/<%=([\s\S]+?)%>/g,Xl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ts=/^\w*$/,Kl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kr=/[\\^$.*+?()[\]{}|]/g,Ql=RegExp(Kr.source),Qr=/^\s+/,wi=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,el=/\{\n\/\* \[wrapped with (.+)\] \*/,nl=/,? & /,il=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rl=/[()=,{}\[\]\/\s]/,Es=/\\(\\)?/g,ol=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hi=/\w*$/,sl=/^[-+]0x[0-9a-f]+$/i,$l=/^0b[01]+$/i,tu=/^\[object .+?Constructor\]$/,eu=/^0o[0-7]+$/i,nu=/^(?:0|[1-9]\d*)$/,al=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lr=/($^)/,Ko=/['\n\r\u2028\u2029\\]/g,ur="\\ud800-\\udfff",iu="\\u0300-\\u036f",ru="\\ufe20-\\ufe2f",ou="\\u20d0-\\u20ff",Is=iu+ru+ou,$r="\\u2700-\\u27bf",hr="a-z\\xdf-\\xf6\\xf8-\\xff",ll="\\xac\\xb1\\xd7\\xf7",ul="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",to="\\u2000-\\u206f",fe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Rr="\\ufe0e\\ufe0f",Vi=ll+ul+to+fe,bi="[']",Cs="["+ur+"]",qt="["+Vi+"]",ve="["+Is+"]",eo="\\d+",Qo="["+$r+"]",Fn="["+hr+"]",Ss="[^"+ur+Vi+eo+$r+hr+Ce+"]",qi="\\ud83c[\\udffb-\\udfff]",cr="(?:"+ve+"|"+qi+")",Ge="[^"+ur+"]",ni="(?:\\ud83c[\\udde6-\\uddff]){2}",Ri="[\\ud800-\\udbff][\\udc00-\\udfff]",Ln="["+Ce+"]",no="\\u200d",fr="(?:"+Fn+"|"+Ss+")",Ms="(?:"+Ln+"|"+Ss+")",io="(?:"+bi+"(?:d|ll|m|re|s|t|ve))?",kr="(?:"+bi+"(?:D|LL|M|RE|S|T|VE))?",ro=cr+"?",oo="["+Rr+"]?",$o="(?:"+no+"(?:"+[Ge,ni,Ri].join("|")+")"+oo+ro+")*",hl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Os="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bs=oo+ro+$o,Gt="(?:"+[Qo,ni,Ri].join("|")+")"+Bs,Li="(?:"+[Ge+ve+"?",ve,ni,Ri,Cs].join("|")+")",be=RegExp(bi,"g"),cl=RegExp(ve,"g"),dr=RegExp(qi+"(?="+qi+")|"+Li+Bs,"g"),Rs=RegExp([Ln+"?"+Fn+"+"+io+"(?="+[qt,Ln,"$"].join("|")+")",Ms+"+"+kr+"(?="+[qt,Ln+fr,"$"].join("|")+")",Ln+"?"+fr+"+"+io,Ln+"+"+kr,Os,hl,eo,Gt].join("|"),"g"),ks=RegExp("["+no+ur+Is+Rr+"]"),pr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],so=-1,Pt={};Pt[re]=Pt[Ie]=Pt[fn]=Pt[ti]=Pt[Oi]=Pt[Vn]=Pt[Bi]=Pt[rn]=Pt[$e]=!0,Pt[Kt]=Pt[jt]=Pt[Ut]=Pt[Qe]=Pt[ee]=Pt[Hn]=Pt[$n]=Pt[Dn]=Pt[N]=Pt[H]=Pt[Y]=Pt[ut]=Pt[et]=Pt[Q]=Pt[Lt]=!1;var St={};St[Kt]=St[jt]=St[Ut]=St[ee]=St[Qe]=St[Hn]=St[re]=St[Ie]=St[fn]=St[ti]=St[Oi]=St[N]=St[H]=St[Y]=St[ut]=St[et]=St[Q]=St[mt]=St[Vn]=St[Bi]=St[rn]=St[$e]=!0,St[$n]=St[Dn]=St[Lt]=!1;var fl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},dl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},su={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ns=parseFloat,au=parseInt,ts=typeof sc=="object"&&sc&&sc.Object===Object&&sc,ae=typeof self=="object"&&self&&self.Object===Object&&self,he=ts||ae||Function("return this")(),Pn=n&&!n.nodeType&&n,_n=Pn&&!0&&o&&!o.nodeType&&o,es=_n&&_n.exports===Pn,ao=es&&ts.process,Se=function(){try{var T=_n&&_n.require&&_n.require("util").types;return T||ao&&ao.binding&&ao.binding("util")}catch{}}(),Ds=Se&&Se.isArrayBuffer,ns=Se&&Se.isDate,Fs=Se&&Se.isMap,Us=Se&&Se.isRegExp,lo=Se&&Se.isSet,Zs=Se&&Se.isTypedArray;function le(T,M,S){switch(S.length){case 0:return T.call(M);case 1:return T.call(M,S[0]);case 2:return T.call(M,S[0],S[1]);case 3:return T.call(M,S[0],S[1],S[2])}return T.apply(M,S)}function lu(T,M,S,V){for(var ht=-1,At=T==null?0:T.length;++ht<At;){var ie=T[ht];M(V,ie,S(ie),T)}return V}function Ue(T,M){for(var S=-1,V=T==null?0:T.length;++S<V&&M(T[S],S,T)!==!1;);return T}function Gi(T,M){for(var S=T==null?0:T.length;S--&&M(T[S],S,T)!==!1;);return T}function is(T,M){for(var S=-1,V=T==null?0:T.length;++S<V;)if(!M(T[S],S,T))return!1;return!0}function yn(T,M){for(var S=-1,V=T==null?0:T.length,ht=0,At=[];++S<V;){var ie=T[S];M(ie,S,T)&&(At[ht++]=ie)}return At}function ki(T,M){var S=T==null?0:T.length;return!!S&&ii(T,M,0)>-1}function uo(T,M,S){for(var V=-1,ht=T==null?0:T.length;++V<ht;)if(S(M,T[V]))return!0;return!1}function Zt(T,M){for(var S=-1,V=T==null?0:T.length,ht=Array(V);++S<V;)ht[S]=M(T[S],S,T);return ht}function xn(T,M){for(var S=-1,V=M.length,ht=T.length;++S<V;)T[ht+S]=M[S];return T}function ho(T,M,S,V){var ht=-1,At=T==null?0:T.length;for(V&&At&&(S=T[++ht]);++ht<At;)S=M(S,T[ht],ht,T);return S}function uu(T,M,S,V){var ht=T==null?0:T.length;for(V&&ht&&(S=T[--ht]);ht--;)S=M(S,T[ht],ht,T);return S}function _r(T,M){for(var S=-1,V=T==null?0:T.length;++S<V;)if(M(T[S],S,T))return!0;return!1}var hu=Nr("length");function _l(T){return T.split("")}function gl(T){return T.match(il)||[]}function zr(T,M,S){var V;return S(T,function(ht,At,ie){if(M(ht,At,ie))return V=At,!1}),V}function qn(T,M,S,V){for(var ht=T.length,At=S+(V?1:-1);V?At--:++At<ht;)if(M(T[At],At,T))return At;return-1}function ii(T,M,S){return M===M?Fr(T,M,S):qn(T,Un,S)}function co(T,M,S,V){for(var ht=S-1,At=T.length;++ht<At;)if(V(T[ht],M))return ht;return-1}function Un(T){return T!==T}function rs(T,M){var S=T==null?0:T.length;return S?_o(T,M)/S:kt}function Nr(T){return function(M){return M==null?i:M[T]}}function fo(T){return function(M){return T==null?i:T[M]}}function po(T,M,S,V,ht){return ht(T,function(At,ie,zt){S=V?(V=!1,At):M(S,At,ie,zt)}),S}function Ws(T,M){var S=T.length;for(T.sort(M);S--;)T[S]=T[S].value;return T}function _o(T,M){for(var S,V=-1,ht=T.length;++V<ht;){var At=M(T[V]);At!==i&&(S=S===i?At:S+At)}return S}function go(T,M){for(var S=-1,V=Array(T);++S<T;)V[S]=M(S);return V}function ml(T,M){return Zt(M,function(S){return[S,T[S]]})}function js(T){return T&&T.slice(0,as(T)+1).replace(Qr,"")}function se(T){return function(M){return T(M)}}function Pi(T,M){return Zt(M,function(S){return T[S]})}function zi(T,M){return T.has(M)}function ri(T,M){for(var S=-1,V=T.length;++S<V&&ii(M,T[S],0)>-1;);return S}function Hs(T,M){for(var S=T.length;S--&&ii(M,T[S],0)>-1;);return S}function Dr(T,M){for(var S=T.length,V=0;S--;)T[S]===M&&++V;return V}var cu=fo(fl),mo=fo(dl);function vl(T){return"\\"+pl[T]}function os(T,M){return T==null?i:T[M]}function oi(T){return ks.test(T)}function Yi(T){return pr.test(T)}function ss(T){for(var M,S=[];!(M=T.next()).done;)S.push(M.value);return S}function vo(T){var M=-1,S=Array(T.size);return T.forEach(function(V,ht){S[++M]=[ht,V]}),S}function yo(T,M){return function(S){return T(M(S))}}function An(T,M){for(var S=-1,V=T.length,ht=0,At=[];++S<V;){var ie=T[S];(ie===M||ie===I)&&(T[S]=I,At[ht++]=S)}return At}function Tn(T){var M=-1,S=Array(T.size);return T.forEach(function(V){S[++M]=V}),S}function fu(T){var M=-1,S=Array(T.size);return T.forEach(function(V){S[++M]=[V,V]}),S}function Fr(T,M,S){for(var V=S-1,ht=T.length;++V<ht;)if(T[V]===M)return V;return-1}function du(T,M,S){for(var V=S+1;V--;)if(T[V]===M)return V;return V}function on(T){return oi(T)?ls(T):hu(T)}function Ze(T){return oi(T)?qs(T):_l(T)}function as(T){for(var M=T.length;M--&&wi.test(T.charAt(M)););return M}var Vs=fo(su);function ls(T){for(var M=dr.lastIndex=0;dr.test(T);)++M;return M}function qs(T){return T.match(dr)||[]}function us(T){return T.match(Rs)||[]}var Ur=function T(M){M=M==null?he:Zn.defaults(he.Object(),M,Zn.pick(he,zs));var S=M.Array,V=M.Date,ht=M.Error,At=M.Function,ie=M.Math,zt=M.Object,xo=M.RegExp,Ai=M.String,Le=M.TypeError,gr=S.prototype,hs=At.prototype,si=zt.prototype,Ji=M["__core-js_shared__"],mr=hs.toString,Et=si.hasOwnProperty,pu=0,Xi=function(){var t=/[^.]+$/.exec(Ji&&Ji.keys&&Ji.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ki=si.toString,yl=mr.call(zt),_u=he._,Ni=xo("^"+mr.call(Et).replace(Kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qi=es?M.Buffer:i,wn=M.Symbol,ai=M.Uint8Array,Gs=Qi?Qi.allocUnsafe:i,Ti=yo(zt.getPrototypeOf,zt),vr=zt.create,cs=si.propertyIsEnumerable,$i=gr.splice,Ys=wn?wn.isConcatSpreadable:i,Ei=wn?wn.iterator:i,Wn=wn?wn.toStringTag:i,tr=function(){try{var t=di(zt,"defineProperty");return t({},"",{}),t}catch{}}(),xl=M.clearTimeout!==he.clearTimeout&&M.clearTimeout,wl=V&&V.now!==he.Date.now&&V.now,gu=M.setTimeout!==he.setTimeout&&M.setTimeout,er=ie.ceil,nr=ie.floor,wo=zt.getOwnPropertySymbols,r=Qi?Qi.isBuffer:i,a=M.isFinite,c=gr.join,_=yo(zt.keys,zt),y=ie.max,P=ie.min,k=V.now,F=M.parseInt,W=ie.random,$=gr.reverse,yt=di(M,"DataView"),Mt=di(M,"Map"),Yt=di(M,"Promise"),Me=di(M,"Set"),Pe=di(M,"WeakMap"),tn=di(zt,"create"),en=Pe&&new Pe,bn={},mu=pi(yt),vu=pi(Mt),yu=pi(Yt),bl=pi(Me),xu=pi(Pe),ir=wn?wn.prototype:i,me=ir?ir.valueOf:i,Zr=ir?ir.toString:i;function g(t){if(Xt(t)&&!dt(t)&&!(t instanceof xt)){if(t instanceof Oe)return t;if(Et.call(t,"__wrapped__"))return bh(t)}return new Oe(t)}var li=function(){function t(){}return function(e){if(!Vt(e))return{};if(vr)return vr(e);t.prototype=e;var s=new t;return t.prototype=i,s}}();function yr(){}function Oe(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}g.templateSettings={escape:Yl,evaluate:Jl,interpolate:As,variable:"",imports:{_:g}},g.prototype=yr.prototype,g.prototype.constructor=g,Oe.prototype=li(yr.prototype),Oe.prototype.constructor=Oe;function xt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ft,this.__views__=[]}function wu(){var t=new xt(this.__wrapped__);return t.__actions__=Be(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Be(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Be(this.__views__),t}function mf(){if(this.__filtered__){var t=new xt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function vf(){var t=this.__wrapped__.value(),e=this.__dir__,s=dt(t),u=e<0,d=s?t.length:0,m=Sd(0,d,this.__views__),w=m.start,b=m.end,E=b-w,B=u?b:w-1,z=this.__iteratees__,D=z.length,Z=0,J=P(E,this.__takeCount__);if(!s||!u&&d==E&&J==E)return Vu(t,this.__actions__);var at=[];t:for(;E--&&Z<J;){B+=e;for(var _t=-1,lt=t[B];++_t<D;){var wt=z[_t],bt=wt.iteratee,He=wt.type,we=bt(lt);if(He==Br)lt=we;else if(!we){if(He==dn)continue t;break t}}at[Z++]=lt}return at}xt.prototype=li(yr.prototype),xt.prototype.constructor=xt;function ui(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var u=t[e];this.set(u[0],u[1])}}function yf(){this.__data__=tn?tn(null):{},this.size=0}function xf(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function wf(t){var e=this.__data__;if(tn){var s=e[t];return s===A?i:s}return Et.call(e,t)?e[t]:i}function bf(t){var e=this.__data__;return tn?e[t]!==i:Et.call(e,t)}function Lf(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=tn&&e===i?A:e,this}ui.prototype.clear=yf,ui.prototype.delete=xf,ui.prototype.get=wf,ui.prototype.has=bf,ui.prototype.set=Lf;function En(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var u=t[e];this.set(u[0],u[1])}}function Pf(){this.__data__=[],this.size=0}function Af(t){var e=this.__data__,s=bo(e,t);if(s<0)return!1;var u=e.length-1;return s==u?e.pop():$i.call(e,s,1),--this.size,!0}function Tf(t){var e=this.__data__,s=bo(e,t);return s<0?i:e[s][1]}function Ef(t){return bo(this.__data__,t)>-1}function If(t,e){var s=this.__data__,u=bo(s,t);return u<0?(++this.size,s.push([t,e])):s[u][1]=e,this}En.prototype.clear=Pf,En.prototype.delete=Af,En.prototype.get=Tf,En.prototype.has=Ef,En.prototype.set=If;function In(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var u=t[e];this.set(u[0],u[1])}}function Cf(){this.size=0,this.__data__={hash:new ui,map:new(Mt||En),string:new ui}}function Sf(t){var e=Ro(this,t).delete(t);return this.size-=e?1:0,e}function Mf(t){return Ro(this,t).get(t)}function Of(t){return Ro(this,t).has(t)}function Bf(t,e){var s=Ro(this,t),u=s.size;return s.set(t,e),this.size+=s.size==u?0:1,this}In.prototype.clear=Cf,In.prototype.delete=Sf,In.prototype.get=Mf,In.prototype.has=Of,In.prototype.set=Bf;function hi(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new In;++e<s;)this.add(t[e])}function Rf(t){return this.__data__.set(t,A),this}function kf(t){return this.__data__.has(t)}hi.prototype.add=hi.prototype.push=Rf,hi.prototype.has=kf;function sn(t){var e=this.__data__=new En(t);this.size=e.size}function zf(){this.__data__=new En,this.size=0}function Nf(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}function Df(t){return this.__data__.get(t)}function Ff(t){return this.__data__.has(t)}function Uf(t,e){var s=this.__data__;if(s instanceof En){var u=s.__data__;if(!Mt||u.length<h-1)return u.push([t,e]),this.size=++s.size,this;s=this.__data__=new In(u)}return s.set(t,e),this.size=s.size,this}sn.prototype.clear=zf,sn.prototype.delete=Nf,sn.prototype.get=Df,sn.prototype.has=Ff,sn.prototype.set=Uf;function bu(t,e){var s=dt(t),u=!s&&_i(t),d=!s&&!u&&Kn(t),m=!s&&!u&&!d&&Zi(t),w=s||u||d||m,b=w?go(t.length,Ai):[],E=b.length;for(var B in t)(e||Et.call(t,B))&&!(w&&(B=="length"||d&&(B=="offset"||B=="parent")||m&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||On(B,E)))&&b.push(B);return b}function Lu(t){var e=t.length;return e?t[oa(0,e-1)]:i}function Zf(t,e){return ko(Be(t),ci(e,0,t.length))}function Wf(t){return ko(Be(t))}function Js(t,e,s){(s!==i&&!an(t[e],s)||s===i&&!(e in t))&&Cn(t,e,s)}function xr(t,e,s){var u=t[e];(!(Et.call(t,e)&&an(u,s))||s===i&&!(e in t))&&Cn(t,e,s)}function bo(t,e){for(var s=t.length;s--;)if(an(t[s][0],e))return s;return-1}function jf(t,e,s,u){return Gn(t,function(d,m,w){e(u,d,s(d),w)}),u}function Pu(t,e){return t&&mn(e,ce(e),t)}function Hf(t,e){return t&&mn(e,ke(e),t)}function Cn(t,e,s){e=="__proto__"&&tr?tr(t,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[e]=s}function Xs(t,e){for(var s=-1,u=e.length,d=S(u),m=t==null;++s<u;)d[s]=m?i:Sa(t,e[s]);return d}function ci(t,e,s){return t===t&&(s!==i&&(t=t<=s?t:s),e!==i&&(t=t>=e?t:e)),t}function Ye(t,e,s,u,d,m){var w,b=e&O,E=e&U,B=e&tt;if(s&&(w=d?s(t,u,d,m):s(t)),w!==i)return w;if(!Vt(t))return t;var z=dt(t);if(z){if(w=Od(t),!b)return Be(t,w)}else{var D=_e(t),Z=D==Dn||D==R;if(Kn(t))return Yu(t,b);if(D==Y||D==Kt||Z&&!d){if(w=E||Z?{}:dh(t),!b)return E?wd(t,Hf(w,t)):xd(t,Pu(w,t))}else{if(!St[D])return d?t:{};w=Bd(t,D,b)}}m||(m=new sn);var J=m.get(t);if(J)return J;m.set(t,w),Wh(t)?t.forEach(function(lt){w.add(Ye(lt,e,s,lt,t,m))}):Uh(t)&&t.forEach(function(lt,wt){w.set(wt,Ye(lt,e,s,wt,t,m))});var at=B?E?ga:_a:E?ke:ce,_t=z?i:at(t);return Ue(_t||t,function(lt,wt){_t&&(wt=lt,lt=t[wt]),xr(w,wt,Ye(lt,e,s,wt,t,m))}),w}function Vf(t){var e=ce(t);return function(s){return Au(s,t,e)}}function Au(t,e,s){var u=s.length;if(t==null)return!u;for(t=zt(t);u--;){var d=s[u],m=e[d],w=t[d];if(w===i&&!(d in t)||!m(w))return!1}return!0}function Tu(t,e,s){if(typeof t!="function")throw new Le(p);return Er(function(){t.apply(i,s)},e)}function wr(t,e,s,u){var d=-1,m=ki,w=!0,b=t.length,E=[],B=e.length;if(!b)return E;s&&(e=Zt(e,se(s))),u?(m=uo,w=!1):e.length>=h&&(m=zi,w=!1,e=new hi(e));t:for(;++d<b;){var z=t[d],D=s==null?z:s(z);if(z=u||z!==0?z:0,w&&D===D){for(var Z=B;Z--;)if(e[Z]===D)continue t;E.push(z)}else m(e,D,u)||E.push(z)}return E}var Gn=$u(gn),Eu=$u(Qs,!0);function qf(t,e){var s=!0;return Gn(t,function(u,d,m){return s=!!e(u,d,m),s}),s}function Lo(t,e,s){for(var u=-1,d=t.length;++u<d;){var m=t[u],w=e(m);if(w!=null&&(b===i?w===w&&!je(w):s(w,b)))var b=w,E=m}return E}function Gf(t,e,s,u){var d=t.length;for(s=pt(s),s<0&&(s=-s>d?0:d+s),u=u===i||u>d?d:pt(u),u<0&&(u+=d),u=s>u?0:Hh(u);s<u;)t[s++]=e;return t}function Iu(t,e){var s=[];return Gn(t,function(u,d,m){e(u,d,m)&&s.push(u)}),s}function de(t,e,s,u,d){var m=-1,w=t.length;for(s||(s=kd),d||(d=[]);++m<w;){var b=t[m];e>0&&s(b)?e>1?de(b,e-1,s,u,d):xn(d,b):u||(d[d.length]=b)}return d}var Ks=th(),Cu=th(!0);function gn(t,e){return t&&Ks(t,e,ce)}function Qs(t,e){return t&&Cu(t,e,ce)}function Po(t,e){return yn(e,function(s){return Bn(t[s])})}function fi(t,e){e=Jn(e,t);for(var s=0,u=e.length;t!=null&&s<u;)t=t[vn(e[s++])];return s&&s==u?t:i}function Su(t,e,s){var u=e(t);return dt(t)?u:xn(u,s(t))}function ye(t){return t==null?t===i?Bt:st:Wn&&Wn in zt(t)?Cd(t):Wd(t)}function $s(t,e){return t>e}function Yf(t,e){return t!=null&&Et.call(t,e)}function Jf(t,e){return t!=null&&e in zt(t)}function Xf(t,e,s){return t>=P(e,s)&&t<y(e,s)}function ta(t,e,s){for(var u=s?uo:ki,d=t[0].length,m=t.length,w=m,b=S(m),E=1/0,B=[];w--;){var z=t[w];w&&e&&(z=Zt(z,se(e))),E=P(z.length,E),b[w]=!s&&(e||d>=120&&z.length>=120)?new hi(w&&z):i}z=t[0];var D=-1,Z=b[0];t:for(;++D<d&&B.length<E;){var J=z[D],at=e?e(J):J;if(J=s||J!==0?J:0,!(Z?zi(Z,at):u(B,at,s))){for(w=m;--w;){var _t=b[w];if(!(_t?zi(_t,at):u(t[w],at,s)))continue t}Z&&Z.push(at),B.push(J)}}return B}function Kf(t,e,s,u){return gn(t,function(d,m,w){e(u,s(d),m,w)}),u}function br(t,e,s){e=Jn(e,t),t=mh(t,e);var u=t==null?t:t[vn(Xe(e))];return u==null?i:le(u,t,s)}function Mu(t){return Xt(t)&&ye(t)==Kt}function Qf(t){return Xt(t)&&ye(t)==Ut}function $f(t){return Xt(t)&&ye(t)==Hn}function Lr(t,e,s,u,d){return t===e?!0:t==null||e==null||!Xt(t)&&!Xt(e)?t!==t&&e!==e:td(t,e,s,u,Lr,d)}function td(t,e,s,u,d,m){var w=dt(t),b=dt(e),E=w?jt:_e(t),B=b?jt:_e(e);E=E==Kt?Y:E,B=B==Kt?Y:B;var z=E==Y,D=B==Y,Z=E==B;if(Z&&Kn(t)){if(!Kn(e))return!1;w=!0,z=!1}if(Z&&!z)return m||(m=new sn),w||Zi(t)?hh(t,e,s,u,d,m):Ed(t,e,E,s,u,d,m);if(!(s&G)){var J=z&&Et.call(t,"__wrapped__"),at=D&&Et.call(e,"__wrapped__");if(J||at){var _t=J?t.value():t,lt=at?e.value():e;return m||(m=new sn),d(_t,lt,s,u,m)}}return Z?(m||(m=new sn),Id(t,e,s,u,d,m)):!1}function ed(t){return Xt(t)&&_e(t)==N}function ea(t,e,s,u){var d=s.length,m=d,w=!u;if(t==null)return!m;for(t=zt(t);d--;){var b=s[d];if(w&&b[2]?b[1]!==t[b[0]]:!(b[0]in t))return!1}for(;++d<m;){b=s[d];var E=b[0],B=t[E],z=b[1];if(w&&b[2]){if(B===i&&!(E in t))return!1}else{var D=new sn;if(u)var Z=u(B,z,E,t,e,D);if(!(Z===i?Lr(z,B,G|q,u,D):Z))return!1}}return!0}function Ou(t){if(!Vt(t)||Nd(t))return!1;var e=Bn(t)?Ni:tu;return e.test(pi(t))}function nd(t){return Xt(t)&&ye(t)==ut}function id(t){return Xt(t)&&_e(t)==et}function rd(t){return Xt(t)&&Zo(t.length)&&!!Pt[ye(t)]}function Bu(t){return typeof t=="function"?t:t==null?ze:typeof t=="object"?dt(t)?zu(t[0],t[1]):ku(t):ec(t)}function na(t){if(!Tr(t))return _(t);var e=[];for(var s in zt(t))Et.call(t,s)&&s!="constructor"&&e.push(s);return e}function od(t){if(!Vt(t))return Zd(t);var e=Tr(t),s=[];for(var u in t)u=="constructor"&&(e||!Et.call(t,u))||s.push(u);return s}function ia(t,e){return t<e}function Ru(t,e){var s=-1,u=Re(t)?S(t.length):[];return Gn(t,function(d,m,w){u[++s]=e(d,m,w)}),u}function ku(t){var e=va(t);return e.length==1&&e[0][2]?_h(e[0][0],e[0][1]):function(s){return s===t||ea(s,t,e)}}function zu(t,e){return xa(t)&&ph(e)?_h(vn(t),e):function(s){var u=Sa(s,t);return u===i&&u===e?Ma(s,t):Lr(e,u,G|q)}}function Ao(t,e,s,u,d){t!==e&&Ks(e,function(m,w){if(d||(d=new sn),Vt(m))sd(t,e,w,s,Ao,u,d);else{var b=u?u(ba(t,w),m,w+"",t,e,d):i;b===i&&(b=m),Js(t,w,b)}},ke)}function sd(t,e,s,u,d,m,w){var b=ba(t,s),E=ba(e,s),B=w.get(E);if(B){Js(t,s,B);return}var z=m?m(b,E,s+"",t,e,w):i,D=z===i;if(D){var Z=dt(E),J=!Z&&Kn(E),at=!Z&&!J&&Zi(E);z=E,Z||J||at?dt(b)?z=b:$t(b)?z=Be(b):J?(D=!1,z=Yu(E,!0)):at?(D=!1,z=Ju(E,!0)):z=[]:Ir(E)||_i(E)?(z=b,_i(b)?z=Vh(b):(!Vt(b)||Bn(b))&&(z=dh(E))):D=!1}D&&(w.set(E,z),d(z,E,u,m,w),w.delete(E)),Js(t,s,z)}function Nu(t,e){var s=t.length;if(s)return e+=e<0?s:0,On(e,s)?t[e]:i}function Du(t,e,s){e.length?e=Zt(e,function(m){return dt(m)?function(w){return fi(w,m.length===1?m[0]:m)}:m}):e=[ze];var u=-1;e=Zt(e,se(it()));var d=Ru(t,function(m,w,b){var E=Zt(e,function(B){return B(m)});return{criteria:E,index:++u,value:m}});return Ws(d,function(m,w){return yd(m,w,s)})}function ad(t,e){return Fu(t,e,function(s,u){return Ma(t,u)})}function Fu(t,e,s){for(var u=-1,d=e.length,m={};++u<d;){var w=e[u],b=fi(t,w);s(b,w)&&Pr(m,Jn(w,t),b)}return m}function ld(t){return function(e){return fi(e,t)}}function ra(t,e,s,u){var d=u?co:ii,m=-1,w=e.length,b=t;for(t===e&&(e=Be(e)),s&&(b=Zt(t,se(s)));++m<w;)for(var E=0,B=e[m],z=s?s(B):B;(E=d(b,z,E,u))>-1;)b!==t&&$i.call(b,E,1),$i.call(t,E,1);return t}function Uu(t,e){for(var s=t?e.length:0,u=s-1;s--;){var d=e[s];if(s==u||d!==m){var m=d;On(d)?$i.call(t,d,1):la(t,d)}}return t}function oa(t,e){return t+nr(W()*(e-t+1))}function ud(t,e,s,u){for(var d=-1,m=y(er((e-t)/(s||1)),0),w=S(m);m--;)w[u?m:++d]=t,t+=s;return w}function sa(t,e){var s="";if(!t||e<1||e>ft)return s;do e%2&&(s+=t),e=nr(e/2),e&&(t+=t);while(e);return s}function vt(t,e){return La(gh(t,e,ze),t+"")}function hd(t){return Lu(Wi(t))}function cd(t,e){var s=Wi(t);return ko(s,ci(e,0,s.length))}function Pr(t,e,s,u){if(!Vt(t))return t;e=Jn(e,t);for(var d=-1,m=e.length,w=m-1,b=t;b!=null&&++d<m;){var E=vn(e[d]),B=s;if(E==="__proto__"||E==="constructor"||E==="prototype")return t;if(d!=w){var z=b[E];B=u?u(z,E,b):i,B===i&&(B=Vt(z)?z:On(e[d+1])?[]:{})}xr(b,E,B),b=b[E]}return t}var Zu=en?function(t,e){return en.set(t,e),t}:ze,fd=tr?function(t,e){return tr(t,"toString",{configurable:!0,enumerable:!1,value:Ba(e),writable:!0})}:ze;function dd(t){return ko(Wi(t))}function Je(t,e,s){var u=-1,d=t.length;e<0&&(e=-e>d?0:d+e),s=s>d?d:s,s<0&&(s+=d),d=e>s?0:s-e>>>0,e>>>=0;for(var m=S(d);++u<d;)m[u]=t[u+e];return m}function pd(t,e){var s;return Gn(t,function(u,d,m){return s=e(u,d,m),!s}),!!s}function To(t,e,s){var u=0,d=t==null?u:t.length;if(typeof e=="number"&&e===e&&d<=pn){for(;u<d;){var m=u+d>>>1,w=t[m];w!==null&&!je(w)&&(s?w<=e:w<e)?u=m+1:d=m}return d}return aa(t,e,ze,s)}function aa(t,e,s,u){var d=0,m=t==null?0:t.length;if(m===0)return 0;e=s(e);for(var w=e!==e,b=e===null,E=je(e),B=e===i;d<m;){var z=nr((d+m)/2),D=s(t[z]),Z=D!==i,J=D===null,at=D===D,_t=je(D);if(w)var lt=u||at;else B?lt=at&&(u||Z):b?lt=at&&Z&&(u||!J):E?lt=at&&Z&&!J&&(u||!_t):J||_t?lt=!1:lt=u?D<=e:D<e;lt?d=z+1:m=z}return P(m,Ee)}function Wu(t,e){for(var s=-1,u=t.length,d=0,m=[];++s<u;){var w=t[s],b=e?e(w):w;if(!s||!an(b,E)){var E=b;m[d++]=w===0?0:w}}return m}function ju(t){return typeof t=="number"?t:je(t)?kt:+t}function We(t){if(typeof t=="string")return t;if(dt(t))return Zt(t,We)+"";if(je(t))return Zr?Zr.call(t):"";var e=t+"";return e=="0"&&1/t==-Jt?"-0":e}function Yn(t,e,s){var u=-1,d=ki,m=t.length,w=!0,b=[],E=b;if(s)w=!1,d=uo;else if(m>=h){var B=e?null:Ad(t);if(B)return Tn(B);w=!1,d=zi,E=new hi}else E=e?[]:b;t:for(;++u<m;){var z=t[u],D=e?e(z):z;if(z=s||z!==0?z:0,w&&D===D){for(var Z=E.length;Z--;)if(E[Z]===D)continue t;e&&E.push(D),b.push(z)}else d(E,D,s)||(E!==b&&E.push(D),b.push(z))}return b}function la(t,e){return e=Jn(e,t),t=mh(t,e),t==null||delete t[vn(Xe(e))]}function Hu(t,e,s,u){return Pr(t,e,s(fi(t,e)),u)}function Eo(t,e,s,u){for(var d=t.length,m=u?d:-1;(u?m--:++m<d)&&e(t[m],m,t););return s?Je(t,u?0:m,u?m+1:d):Je(t,u?m+1:0,u?d:m)}function Vu(t,e){var s=t;return s instanceof xt&&(s=s.value()),ho(e,function(u,d){return d.func.apply(d.thisArg,xn([u],d.args))},s)}function ua(t,e,s){var u=t.length;if(u<2)return u?Yn(t[0]):[];for(var d=-1,m=S(u);++d<u;)for(var w=t[d],b=-1;++b<u;)b!=d&&(m[d]=wr(m[d]||w,t[b],e,s));return Yn(de(m,1),e,s)}function qu(t,e,s){for(var u=-1,d=t.length,m=e.length,w={};++u<d;){var b=u<m?e[u]:i;s(w,t[u],b)}return w}function ha(t){return $t(t)?t:[]}function ca(t){return typeof t=="function"?t:ze}function Jn(t,e){return dt(t)?t:xa(t,e)?[t]:wh(Ot(t))}var _d=vt;function Xn(t,e,s){var u=t.length;return s=s===i?u:s,!e&&s>=u?t:Je(t,e,s)}var Gu=xl||function(t){return he.clearTimeout(t)};function Yu(t,e){if(e)return t.slice();var s=t.length,u=Gs?Gs(s):new t.constructor(s);return t.copy(u),u}function fa(t){var e=new t.constructor(t.byteLength);return new ai(e).set(new ai(t)),e}function gd(t,e){var s=e?fa(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}function md(t){var e=new t.constructor(t.source,Hi.exec(t));return e.lastIndex=t.lastIndex,e}function vd(t){return me?zt(me.call(t)):{}}function Ju(t,e){var s=e?fa(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}function Xu(t,e){if(t!==e){var s=t!==i,u=t===null,d=t===t,m=je(t),w=e!==i,b=e===null,E=e===e,B=je(e);if(!b&&!B&&!m&&t>e||m&&w&&E&&!b&&!B||u&&w&&E||!s&&E||!d)return 1;if(!u&&!m&&!B&&t<e||B&&s&&d&&!u&&!m||b&&s&&d||!w&&d||!E)return-1}return 0}function yd(t,e,s){for(var u=-1,d=t.criteria,m=e.criteria,w=d.length,b=s.length;++u<w;){var E=Xu(d[u],m[u]);if(E){if(u>=b)return E;var B=s[u];return E*(B=="desc"?-1:1)}}return t.index-e.index}function Ku(t,e,s,u){for(var d=-1,m=t.length,w=s.length,b=-1,E=e.length,B=y(m-w,0),z=S(E+B),D=!u;++b<E;)z[b]=e[b];for(;++d<w;)(D||d<m)&&(z[s[d]]=t[d]);for(;B--;)z[b++]=t[d++];return z}function Qu(t,e,s,u){for(var d=-1,m=t.length,w=-1,b=s.length,E=-1,B=e.length,z=y(m-b,0),D=S(z+B),Z=!u;++d<z;)D[d]=t[d];for(var J=d;++E<B;)D[J+E]=e[E];for(;++w<b;)(Z||d<m)&&(D[J+s[w]]=t[d++]);return D}function Be(t,e){var s=-1,u=t.length;for(e||(e=S(u));++s<u;)e[s]=t[s];return e}function mn(t,e,s,u){var d=!s;s||(s={});for(var m=-1,w=e.length;++m<w;){var b=e[m],E=u?u(s[b],t[b],b,s,t):i;E===i&&(E=t[b]),d?Cn(s,b,E):xr(s,b,E)}return s}function xd(t,e){return mn(t,ya(t),e)}function wd(t,e){return mn(t,ch(t),e)}function Io(t,e){return function(s,u){var d=dt(s)?lu:jf,m=e?e():{};return d(s,t,it(u,2),m)}}function Di(t){return vt(function(e,s){var u=-1,d=s.length,m=d>1?s[d-1]:i,w=d>2?s[2]:i;for(m=t.length>3&&typeof m=="function"?(d--,m):i,w&&xe(s[0],s[1],w)&&(m=d<3?i:m,d=1),e=zt(e);++u<d;){var b=s[u];b&&t(e,b,u,m)}return e})}function $u(t,e){return function(s,u){if(s==null)return s;if(!Re(s))return t(s,u);for(var d=s.length,m=e?d:-1,w=zt(s);(e?m--:++m<d)&&u(w[m],m,w)!==!1;);return s}}function th(t){return function(e,s,u){for(var d=-1,m=zt(e),w=u(e),b=w.length;b--;){var E=w[t?b:++d];if(s(m[E],E,m)===!1)break}return e}}function bd(t,e,s){var u=e&K,d=Ar(t);function m(){var w=this&&this!==he&&this instanceof m?d:t;return w.apply(u?s:this,arguments)}return m}function eh(t){return function(e){e=Ot(e);var s=oi(e)?Ze(e):i,u=s?s[0]:e.charAt(0),d=s?Xn(s,1).join(""):e.slice(1);return u[t]()+d}}function Fi(t){return function(e){return ho($h(Qh(e).replace(be,"")),t,"")}}function Ar(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var s=li(t.prototype),u=t.apply(s,e);return Vt(u)?u:s}}function Ld(t,e,s){var u=Ar(t);function d(){for(var m=arguments.length,w=S(m),b=m,E=Ui(d);b--;)w[b]=arguments[b];var B=m<3&&w[0]!==E&&w[m-1]!==E?[]:An(w,E);if(m-=B.length,m<s)return sh(t,e,Co,d.placeholder,i,w,B,i,i,s-m);var z=this&&this!==he&&this instanceof d?u:t;return le(z,this,w)}return d}function nh(t){return function(e,s,u){var d=zt(e);if(!Re(e)){var m=it(s,3);e=ce(e),s=function(b){return m(d[b],b,d)}}var w=t(e,s,u);return w>-1?d[m?e[w]:w]:i}}function ih(t){return Mn(function(e){var s=e.length,u=s,d=Oe.prototype.thru;for(t&&e.reverse();u--;){var m=e[u];if(typeof m!="function")throw new Le(p);if(d&&!w&&Bo(m)=="wrapper")var w=new Oe([],!0)}for(u=w?u:s;++u<s;){m=e[u];var b=Bo(m),E=b=="wrapper"?ma(m):i;E&&wa(E[0])&&E[1]==(Ht|X|Dt|ne)&&!E[4].length&&E[9]==1?w=w[Bo(E[0])].apply(w,E[3]):w=m.length==1&&wa(m)?w[b]():w.thru(m)}return function(){var B=arguments,z=B[0];if(w&&B.length==1&&dt(z))return w.plant(z).value();for(var D=0,Z=s?e[D].apply(this,B):z;++D<s;)Z=e[D].call(this,Z);return Z}})}function Co(t,e,s,u,d,m,w,b,E,B){var z=e&Ht,D=e&K,Z=e&nt,J=e&(X|Ct),at=e&ue,_t=Z?i:Ar(t);function lt(){for(var wt=arguments.length,bt=S(wt),He=wt;He--;)bt[He]=arguments[He];if(J)var we=Ui(lt),Ve=Dr(bt,we);if(u&&(bt=Ku(bt,u,d,J)),m&&(bt=Qu(bt,m,w,J)),wt-=Ve,J&&wt<B){var te=An(bt,we);return sh(t,e,Co,lt.placeholder,s,bt,te,b,E,B-wt)}var ln=D?s:this,kn=Z?ln[t]:t;return wt=bt.length,b?bt=jd(bt,b):at&&wt>1&&bt.reverse(),z&&E<wt&&(bt.length=E),this&&this!==he&&this instanceof lt&&(kn=_t||Ar(kn)),kn.apply(ln,bt)}return lt}function rh(t,e){return function(s,u){return Kf(s,t,e(u),{})}}function So(t,e){return function(s,u){var d;if(s===i&&u===i)return e;if(s!==i&&(d=s),u!==i){if(d===i)return u;typeof s=="string"||typeof u=="string"?(s=We(s),u=We(u)):(s=ju(s),u=ju(u)),d=t(s,u)}return d}}function da(t){return Mn(function(e){return e=Zt(e,se(it())),vt(function(s){var u=this;return t(e,function(d){return le(d,u,s)})})})}function Mo(t,e){e=e===i?" ":We(e);var s=e.length;if(s<2)return s?sa(e,t):e;var u=sa(e,er(t/on(e)));return oi(e)?Xn(Ze(u),0,t).join(""):u.slice(0,t)}function Pd(t,e,s,u){var d=e&K,m=Ar(t);function w(){for(var b=-1,E=arguments.length,B=-1,z=u.length,D=S(z+E),Z=this&&this!==he&&this instanceof w?m:t;++B<z;)D[B]=u[B];for(;E--;)D[B++]=arguments[++b];return le(Z,d?s:this,D)}return w}function oh(t){return function(e,s,u){return u&&typeof u!="number"&&xe(e,s,u)&&(s=u=i),e=Rn(e),s===i?(s=e,e=0):s=Rn(s),u=u===i?e<s?1:-1:Rn(u),ud(e,s,u,t)}}function Oo(t){return function(e,s){return typeof e=="string"&&typeof s=="string"||(e=Ke(e),s=Ke(s)),t(e,s)}}function sh(t,e,s,u,d,m,w,b,E,B){var z=e&X,D=z?w:i,Z=z?i:w,J=z?m:i,at=z?i:m;e|=z?Dt:Tt,e&=~(z?Tt:Dt),e&ct||(e&=~(K|nt));var _t=[t,e,d,J,D,at,Z,b,E,B],lt=s.apply(i,_t);return wa(t)&&vh(lt,_t),lt.placeholder=u,yh(lt,t,e)}function pa(t){var e=ie[t];return function(s,u){if(s=Ke(s),u=u==null?0:P(pt(u),292),u&&a(s)){var d=(Ot(s)+"e").split("e"),m=e(d[0]+"e"+(+d[1]+u));return d=(Ot(m)+"e").split("e"),+(d[0]+"e"+(+d[1]-u))}return e(s)}}var Ad=Me&&1/Tn(new Me([,-0]))[1]==Jt?function(t){return new Me(t)}:za;function ah(t){return function(e){var s=_e(e);return s==N?vo(e):s==et?fu(e):ml(e,t(e))}}function Sn(t,e,s,u,d,m,w,b){var E=e&nt;if(!E&&typeof t!="function")throw new Le(p);var B=u?u.length:0;if(B||(e&=~(Dt|Tt),u=d=i),w=w===i?w:y(pt(w),0),b=b===i?b:pt(b),B-=d?d.length:0,e&Tt){var z=u,D=d;u=d=i}var Z=E?i:ma(t),J=[t,e,s,u,d,z,D,m,w,b];if(Z&&Ud(J,Z),t=J[0],e=J[1],s=J[2],u=J[3],d=J[4],b=J[9]=J[9]===i?E?0:t.length:y(J[9]-B,0),!b&&e&(X|Ct)&&(e&=~(X|Ct)),!e||e==K)var at=bd(t,e,s);else e==X||e==Ct?at=Ld(t,e,b):(e==Dt||e==(K|Dt))&&!d.length?at=Pd(t,e,s,u):at=Co.apply(i,J);var _t=Z?Zu:vh;return yh(_t(at,J),t,e)}function lh(t,e,s,u){return t===i||an(t,si[s])&&!Et.call(u,s)?e:t}function uh(t,e,s,u,d,m){return Vt(t)&&Vt(e)&&(m.set(e,t),Ao(t,e,i,uh,m),m.delete(e)),t}function Td(t){return Ir(t)?i:t}function hh(t,e,s,u,d,m){var w=s&G,b=t.length,E=e.length;if(b!=E&&!(w&&E>b))return!1;var B=m.get(t),z=m.get(e);if(B&&z)return B==e&&z==t;var D=-1,Z=!0,J=s&q?new hi:i;for(m.set(t,e),m.set(e,t);++D<b;){var at=t[D],_t=e[D];if(u)var lt=w?u(_t,at,D,e,t,m):u(at,_t,D,t,e,m);if(lt!==i){if(lt)continue;Z=!1;break}if(J){if(!_r(e,function(wt,bt){if(!zi(J,bt)&&(at===wt||d(at,wt,s,u,m)))return J.push(bt)})){Z=!1;break}}else if(!(at===_t||d(at,_t,s,u,m))){Z=!1;break}}return m.delete(t),m.delete(e),Z}function Ed(t,e,s,u,d,m,w){switch(s){case ee:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ut:return!(t.byteLength!=e.byteLength||!m(new ai(t),new ai(e)));case Qe:case Hn:case H:return an(+t,+e);case $n:return t.name==e.name&&t.message==e.message;case ut:case Q:return t==e+"";case N:var b=vo;case et:var E=u&G;if(b||(b=Tn),t.size!=e.size&&!E)return!1;var B=w.get(t);if(B)return B==e;u|=q,w.set(t,e);var z=hh(b(t),b(e),u,d,m,w);return w.delete(t),z;case mt:if(me)return me.call(t)==me.call(e)}return!1}function Id(t,e,s,u,d,m){var w=s&G,b=_a(t),E=b.length,B=_a(e),z=B.length;if(E!=z&&!w)return!1;for(var D=E;D--;){var Z=b[D];if(!(w?Z in e:Et.call(e,Z)))return!1}var J=m.get(t),at=m.get(e);if(J&&at)return J==e&&at==t;var _t=!0;m.set(t,e),m.set(e,t);for(var lt=w;++D<E;){Z=b[D];var wt=t[Z],bt=e[Z];if(u)var He=w?u(bt,wt,Z,e,t,m):u(wt,bt,Z,t,e,m);if(!(He===i?wt===bt||d(wt,bt,s,u,m):He)){_t=!1;break}lt||(lt=Z=="constructor")}if(_t&&!lt){var we=t.constructor,Ve=e.constructor;we!=Ve&&"constructor"in t&&"constructor"in e&&!(typeof we=="function"&&we instanceof we&&typeof Ve=="function"&&Ve instanceof Ve)&&(_t=!1)}return m.delete(t),m.delete(e),_t}function Mn(t){return La(gh(t,i,Ah),t+"")}function _a(t){return Su(t,ce,ya)}function ga(t){return Su(t,ke,ch)}var ma=en?function(t){return en.get(t)}:za;function Bo(t){for(var e=t.name+"",s=bn[e],u=Et.call(bn,e)?s.length:0;u--;){var d=s[u],m=d.func;if(m==null||m==t)return d.name}return e}function Ui(t){var e=Et.call(g,"placeholder")?g:t;return e.placeholder}function it(){var t=g.iteratee||Ra;return t=t===Ra?Bu:t,arguments.length?t(arguments[0],arguments[1]):t}function Ro(t,e){var s=t.__data__;return zd(e)?s[typeof e=="string"?"string":"hash"]:s.map}function va(t){for(var e=ce(t),s=e.length;s--;){var u=e[s],d=t[u];e[s]=[u,d,ph(d)]}return e}function di(t,e){var s=os(t,e);return Ou(s)?s:i}function Cd(t){var e=Et.call(t,Wn),s=t[Wn];try{t[Wn]=i;var u=!0}catch{}var d=Ki.call(t);return u&&(e?t[Wn]=s:delete t[Wn]),d}var ya=wo?function(t){return t==null?[]:(t=zt(t),yn(wo(t),function(e){return cs.call(t,e)}))}:Na,ch=wo?function(t){for(var e=[];t;)xn(e,ya(t)),t=Ti(t);return e}:Na,_e=ye;(yt&&_e(new yt(new ArrayBuffer(1)))!=ee||Mt&&_e(new Mt)!=N||Yt&&_e(Yt.resolve())!=ot||Me&&_e(new Me)!=et||Pe&&_e(new Pe)!=Lt)&&(_e=function(t){var e=ye(t),s=e==Y?t.constructor:i,u=s?pi(s):"";if(u)switch(u){case mu:return ee;case vu:return N;case yu:return ot;case bl:return et;case xu:return Lt}return e});function Sd(t,e,s){for(var u=-1,d=s.length;++u<d;){var m=s[u],w=m.size;switch(m.type){case"drop":t+=w;break;case"dropRight":e-=w;break;case"take":e=P(e,t+w);break;case"takeRight":t=y(t,e-w);break}}return{start:t,end:e}}function Md(t){var e=t.match(el);return e?e[1].split(nl):[]}function fh(t,e,s){e=Jn(e,t);for(var u=-1,d=e.length,m=!1;++u<d;){var w=vn(e[u]);if(!(m=t!=null&&s(t,w)))break;t=t[w]}return m||++u!=d?m:(d=t==null?0:t.length,!!d&&Zo(d)&&On(w,d)&&(dt(t)||_i(t)))}function Od(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&Et.call(t,"index")&&(s.index=t.index,s.input=t.input),s}function dh(t){return typeof t.constructor=="function"&&!Tr(t)?li(Ti(t)):{}}function Bd(t,e,s){var u=t.constructor;switch(e){case Ut:return fa(t);case Qe:case Hn:return new u(+t);case ee:return gd(t,s);case re:case Ie:case fn:case ti:case Oi:case Vn:case Bi:case rn:case $e:return Ju(t,s);case N:return new u;case H:case Q:return new u(t);case ut:return md(t);case et:return new u;case mt:return vd(t)}}function Rd(t,e){var s=e.length;if(!s)return t;var u=s-1;return e[u]=(s>1?"& ":"")+e[u],e=e.join(s>2?", ":" "),t.replace(Rt,`{
/* [wrapped with `+e+`] */
`)}function kd(t){return dt(t)||_i(t)||!!(Ys&&t&&t[Ys])}function On(t,e){var s=typeof t;return e=e??ft,!!e&&(s=="number"||s!="symbol"&&nu.test(t))&&t>-1&&t%1==0&&t<e}function xe(t,e,s){if(!Vt(s))return!1;var u=typeof e;return(u=="number"?Re(s)&&On(e,s.length):u=="string"&&e in s)?an(s[e],t):!1}function xa(t,e){if(dt(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||je(t)?!0:Ts.test(t)||!Xl.test(t)||e!=null&&t in zt(e)}function zd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wa(t){var e=Bo(t),s=g[e];if(typeof s!="function"||!(e in xt.prototype))return!1;if(t===s)return!0;var u=ma(s);return!!u&&t===u[0]}function Nd(t){return!!Xi&&Xi in t}var Dd=Ji?Bn:Da;function Tr(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||si;return t===s}function ph(t){return t===t&&!Vt(t)}function _h(t,e){return function(s){return s==null?!1:s[t]===e&&(e!==i||t in zt(s))}}function Fd(t){var e=Fo(t,function(u){return s.size===C&&s.clear(),u}),s=e.cache;return e}function Ud(t,e){var s=t[1],u=e[1],d=s|u,m=d<(K|nt|Ht),w=u==Ht&&s==X||u==Ht&&s==ne&&t[7].length<=e[8]||u==(Ht|ne)&&e[7].length<=e[8]&&s==X;if(!(m||w))return t;u&K&&(t[2]=e[2],d|=s&K?0:ct);var b=e[3];if(b){var E=t[3];t[3]=E?Ku(E,b,e[4]):b,t[4]=E?An(t[3],I):e[4]}return b=e[5],b&&(E=t[5],t[5]=E?Qu(E,b,e[6]):b,t[6]=E?An(t[5],I):e[6]),b=e[7],b&&(t[7]=b),u&Ht&&(t[8]=t[8]==null?e[8]:P(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=d,t}function Zd(t){var e=[];if(t!=null)for(var s in zt(t))e.push(s);return e}function Wd(t){return Ki.call(t)}function gh(t,e,s){return e=y(e===i?t.length-1:e,0),function(){for(var u=arguments,d=-1,m=y(u.length-e,0),w=S(m);++d<m;)w[d]=u[e+d];d=-1;for(var b=S(e+1);++d<e;)b[d]=u[d];return b[e]=s(w),le(t,this,b)}}function mh(t,e){return e.length<2?t:fi(t,Je(e,0,-1))}function jd(t,e){for(var s=t.length,u=P(e.length,s),d=Be(t);u--;){var m=e[u];t[u]=On(m,s)?d[m]:i}return t}function ba(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var vh=xh(Zu),Er=gu||function(t,e){return he.setTimeout(t,e)},La=xh(fd);function yh(t,e,s){var u=e+"";return La(t,Rd(u,Hd(Md(u),s)))}function xh(t){var e=0,s=0;return function(){var u=k(),d=yi-(u-s);if(s=u,d>0){if(++e>=nn)return arguments[0]}else e=0;return t.apply(i,arguments)}}function ko(t,e){var s=-1,u=t.length,d=u-1;for(e=e===i?u:e;++s<e;){var m=oa(s,d),w=t[m];t[m]=t[s],t[s]=w}return t.length=e,t}var wh=Fd(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kl,function(s,u,d,m){e.push(d?m.replace(Es,"$1"):u||s)}),e});function vn(t){if(typeof t=="string"||je(t))return t;var e=t+"";return e=="0"&&1/t==-Jt?"-0":e}function pi(t){if(t!=null){try{return mr.call(t)}catch{}try{return t+""}catch{}}return""}function Hd(t,e){return Ue(qe,function(s){var u="_."+s[0];e&s[1]&&!ki(t,u)&&t.push(u)}),t.sort()}function bh(t){if(t instanceof xt)return t.clone();var e=new Oe(t.__wrapped__,t.__chain__);return e.__actions__=Be(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Vd(t,e,s){(s?xe(t,e,s):e===i)?e=1:e=y(pt(e),0);var u=t==null?0:t.length;if(!u||e<1)return[];for(var d=0,m=0,w=S(er(u/e));d<u;)w[m++]=Je(t,d,d+=e);return w}function qd(t){for(var e=-1,s=t==null?0:t.length,u=0,d=[];++e<s;){var m=t[e];m&&(d[u++]=m)}return d}function Gd(){var t=arguments.length;if(!t)return[];for(var e=S(t-1),s=arguments[0],u=t;u--;)e[u-1]=arguments[u];return xn(dt(s)?Be(s):[s],de(e,1))}var Yd=vt(function(t,e){return $t(t)?wr(t,de(e,1,$t,!0)):[]}),Jd=vt(function(t,e){var s=Xe(e);return $t(s)&&(s=i),$t(t)?wr(t,de(e,1,$t,!0),it(s,2)):[]}),Xd=vt(function(t,e){var s=Xe(e);return $t(s)&&(s=i),$t(t)?wr(t,de(e,1,$t,!0),i,s):[]});function Kd(t,e,s){var u=t==null?0:t.length;return u?(e=s||e===i?1:pt(e),Je(t,e<0?0:e,u)):[]}function Qd(t,e,s){var u=t==null?0:t.length;return u?(e=s||e===i?1:pt(e),e=u-e,Je(t,0,e<0?0:e)):[]}function $d(t,e){return t&&t.length?Eo(t,it(e,3),!0,!0):[]}function tp(t,e){return t&&t.length?Eo(t,it(e,3),!0):[]}function ep(t,e,s,u){var d=t==null?0:t.length;return d?(s&&typeof s!="number"&&xe(t,e,s)&&(s=0,u=d),Gf(t,e,s,u)):[]}function Lh(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=s==null?0:pt(s);return d<0&&(d=y(u+d,0)),qn(t,it(e,3),d)}function Ph(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=u-1;return s!==i&&(d=pt(s),d=s<0?y(u+d,0):P(d,u-1)),qn(t,it(e,3),d,!0)}function Ah(t){var e=t==null?0:t.length;return e?de(t,1):[]}function np(t){var e=t==null?0:t.length;return e?de(t,Jt):[]}function ip(t,e){var s=t==null?0:t.length;return s?(e=e===i?1:pt(e),de(t,e)):[]}function rp(t){for(var e=-1,s=t==null?0:t.length,u={};++e<s;){var d=t[e];u[d[0]]=d[1]}return u}function Th(t){return t&&t.length?t[0]:i}function op(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=s==null?0:pt(s);return d<0&&(d=y(u+d,0)),ii(t,e,d)}function sp(t){var e=t==null?0:t.length;return e?Je(t,0,-1):[]}var ap=vt(function(t){var e=Zt(t,ha);return e.length&&e[0]===t[0]?ta(e):[]}),lp=vt(function(t){var e=Xe(t),s=Zt(t,ha);return e===Xe(s)?e=i:s.pop(),s.length&&s[0]===t[0]?ta(s,it(e,2)):[]}),up=vt(function(t){var e=Xe(t),s=Zt(t,ha);return e=typeof e=="function"?e:i,e&&s.pop(),s.length&&s[0]===t[0]?ta(s,i,e):[]});function hp(t,e){return t==null?"":c.call(t,e)}function Xe(t){var e=t==null?0:t.length;return e?t[e-1]:i}function cp(t,e,s){var u=t==null?0:t.length;if(!u)return-1;var d=u;return s!==i&&(d=pt(s),d=d<0?y(u+d,0):P(d,u-1)),e===e?du(t,e,d):qn(t,Un,d,!0)}function fp(t,e){return t&&t.length?Nu(t,pt(e)):i}var dp=vt(Eh);function Eh(t,e){return t&&t.length&&e&&e.length?ra(t,e):t}function pp(t,e,s){return t&&t.length&&e&&e.length?ra(t,e,it(s,2)):t}function _p(t,e,s){return t&&t.length&&e&&e.length?ra(t,e,i,s):t}var gp=Mn(function(t,e){var s=t==null?0:t.length,u=Xs(t,e);return Uu(t,Zt(e,function(d){return On(d,s)?+d:d}).sort(Xu)),u});function mp(t,e){var s=[];if(!(t&&t.length))return s;var u=-1,d=[],m=t.length;for(e=it(e,3);++u<m;){var w=t[u];e(w,u,t)&&(s.push(w),d.push(u))}return Uu(t,d),s}function Pa(t){return t==null?t:$.call(t)}function vp(t,e,s){var u=t==null?0:t.length;return u?(s&&typeof s!="number"&&xe(t,e,s)?(e=0,s=u):(e=e==null?0:pt(e),s=s===i?u:pt(s)),Je(t,e,s)):[]}function yp(t,e){return To(t,e)}function xp(t,e,s){return aa(t,e,it(s,2))}function wp(t,e){var s=t==null?0:t.length;if(s){var u=To(t,e);if(u<s&&an(t[u],e))return u}return-1}function bp(t,e){return To(t,e,!0)}function Lp(t,e,s){return aa(t,e,it(s,2),!0)}function Pp(t,e){var s=t==null?0:t.length;if(s){var u=To(t,e,!0)-1;if(an(t[u],e))return u}return-1}function Ap(t){return t&&t.length?Wu(t):[]}function Tp(t,e){return t&&t.length?Wu(t,it(e,2)):[]}function Ep(t){var e=t==null?0:t.length;return e?Je(t,1,e):[]}function Ip(t,e,s){return t&&t.length?(e=s||e===i?1:pt(e),Je(t,0,e<0?0:e)):[]}function Cp(t,e,s){var u=t==null?0:t.length;return u?(e=s||e===i?1:pt(e),e=u-e,Je(t,e<0?0:e,u)):[]}function Sp(t,e){return t&&t.length?Eo(t,it(e,3),!1,!0):[]}function Mp(t,e){return t&&t.length?Eo(t,it(e,3)):[]}var Op=vt(function(t){return Yn(de(t,1,$t,!0))}),Bp=vt(function(t){var e=Xe(t);return $t(e)&&(e=i),Yn(de(t,1,$t,!0),it(e,2))}),Rp=vt(function(t){var e=Xe(t);return e=typeof e=="function"?e:i,Yn(de(t,1,$t,!0),i,e)});function kp(t){return t&&t.length?Yn(t):[]}function zp(t,e){return t&&t.length?Yn(t,it(e,2)):[]}function Np(t,e){return e=typeof e=="function"?e:i,t&&t.length?Yn(t,i,e):[]}function Aa(t){if(!(t&&t.length))return[];var e=0;return t=yn(t,function(s){if($t(s))return e=y(s.length,e),!0}),go(e,function(s){return Zt(t,Nr(s))})}function Ih(t,e){if(!(t&&t.length))return[];var s=Aa(t);return e==null?s:Zt(s,function(u){return le(e,i,u)})}var Dp=vt(function(t,e){return $t(t)?wr(t,e):[]}),Fp=vt(function(t){return ua(yn(t,$t))}),Up=vt(function(t){var e=Xe(t);return $t(e)&&(e=i),ua(yn(t,$t),it(e,2))}),Zp=vt(function(t){var e=Xe(t);return e=typeof e=="function"?e:i,ua(yn(t,$t),i,e)}),Wp=vt(Aa);function jp(t,e){return qu(t||[],e||[],xr)}function Hp(t,e){return qu(t||[],e||[],Pr)}var Vp=vt(function(t){var e=t.length,s=e>1?t[e-1]:i;return s=typeof s=="function"?(t.pop(),s):i,Ih(t,s)});function Ch(t){var e=g(t);return e.__chain__=!0,e}function qp(t,e){return e(t),t}function zo(t,e){return e(t)}var Gp=Mn(function(t){var e=t.length,s=e?t[0]:0,u=this.__wrapped__,d=function(m){return Xs(m,t)};return e>1||this.__actions__.length||!(u instanceof xt)||!On(s)?this.thru(d):(u=u.slice(s,+s+(e?1:0)),u.__actions__.push({func:zo,args:[d],thisArg:i}),new Oe(u,this.__chain__).thru(function(m){return e&&!m.length&&m.push(i),m}))});function Yp(){return Ch(this)}function Jp(){return new Oe(this.value(),this.__chain__)}function Xp(){this.__values__===i&&(this.__values__=jh(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function Kp(){return this}function Qp(t){for(var e,s=this;s instanceof yr;){var u=bh(s);u.__index__=0,u.__values__=i,e?d.__wrapped__=u:e=u;var d=u;s=s.__wrapped__}return d.__wrapped__=t,e}function $p(){var t=this.__wrapped__;if(t instanceof xt){var e=t;return this.__actions__.length&&(e=new xt(this)),e=e.reverse(),e.__actions__.push({func:zo,args:[Pa],thisArg:i}),new Oe(e,this.__chain__)}return this.thru(Pa)}function t_(){return Vu(this.__wrapped__,this.__actions__)}var e_=Io(function(t,e,s){Et.call(t,s)?++t[s]:Cn(t,s,1)});function n_(t,e,s){var u=dt(t)?is:qf;return s&&xe(t,e,s)&&(e=i),u(t,it(e,3))}function i_(t,e){var s=dt(t)?yn:Iu;return s(t,it(e,3))}var r_=nh(Lh),o_=nh(Ph);function s_(t,e){return de(No(t,e),1)}function a_(t,e){return de(No(t,e),Jt)}function l_(t,e,s){return s=s===i?1:pt(s),de(No(t,e),s)}function Sh(t,e){var s=dt(t)?Ue:Gn;return s(t,it(e,3))}function Mh(t,e){var s=dt(t)?Gi:Eu;return s(t,it(e,3))}var u_=Io(function(t,e,s){Et.call(t,s)?t[s].push(e):Cn(t,s,[e])});function h_(t,e,s,u){t=Re(t)?t:Wi(t),s=s&&!u?pt(s):0;var d=t.length;return s<0&&(s=y(d+s,0)),Wo(t)?s<=d&&t.indexOf(e,s)>-1:!!d&&ii(t,e,s)>-1}var c_=vt(function(t,e,s){var u=-1,d=typeof e=="function",m=Re(t)?S(t.length):[];return Gn(t,function(w){m[++u]=d?le(e,w,s):br(w,e,s)}),m}),f_=Io(function(t,e,s){Cn(t,s,e)});function No(t,e){var s=dt(t)?Zt:Ru;return s(t,it(e,3))}function d_(t,e,s,u){return t==null?[]:(dt(e)||(e=e==null?[]:[e]),s=u?i:s,dt(s)||(s=s==null?[]:[s]),Du(t,e,s))}var p_=Io(function(t,e,s){t[s?0:1].push(e)},function(){return[[],[]]});function __(t,e,s){var u=dt(t)?ho:po,d=arguments.length<3;return u(t,it(e,4),s,d,Gn)}function g_(t,e,s){var u=dt(t)?uu:po,d=arguments.length<3;return u(t,it(e,4),s,d,Eu)}function m_(t,e){var s=dt(t)?yn:Iu;return s(t,Uo(it(e,3)))}function v_(t){var e=dt(t)?Lu:hd;return e(t)}function y_(t,e,s){(s?xe(t,e,s):e===i)?e=1:e=pt(e);var u=dt(t)?Zf:cd;return u(t,e)}function x_(t){var e=dt(t)?Wf:dd;return e(t)}function w_(t){if(t==null)return 0;if(Re(t))return Wo(t)?on(t):t.length;var e=_e(t);return e==N||e==et?t.size:na(t).length}function b_(t,e,s){var u=dt(t)?_r:pd;return s&&xe(t,e,s)&&(e=i),u(t,it(e,3))}var L_=vt(function(t,e){if(t==null)return[];var s=e.length;return s>1&&xe(t,e[0],e[1])?e=[]:s>2&&xe(e[0],e[1],e[2])&&(e=[e[0]]),Du(t,de(e,1),[])}),Do=wl||function(){return he.Date.now()};function P_(t,e){if(typeof e!="function")throw new Le(p);return t=pt(t),function(){if(--t<1)return e.apply(this,arguments)}}function Oh(t,e,s){return e=s?i:e,e=t&&e==null?t.length:e,Sn(t,Ht,i,i,i,i,e)}function Bh(t,e){var s;if(typeof e!="function")throw new Le(p);return t=pt(t),function(){return--t>0&&(s=e.apply(this,arguments)),t<=1&&(e=i),s}}var Ta=vt(function(t,e,s){var u=K;if(s.length){var d=An(s,Ui(Ta));u|=Dt}return Sn(t,u,e,s,d)}),Rh=vt(function(t,e,s){var u=K|nt;if(s.length){var d=An(s,Ui(Rh));u|=Dt}return Sn(e,u,t,s,d)});function kh(t,e,s){e=s?i:e;var u=Sn(t,X,i,i,i,i,i,e);return u.placeholder=kh.placeholder,u}function zh(t,e,s){e=s?i:e;var u=Sn(t,Ct,i,i,i,i,i,e);return u.placeholder=zh.placeholder,u}function Nh(t,e,s){var u,d,m,w,b,E,B=0,z=!1,D=!1,Z=!0;if(typeof t!="function")throw new Le(p);e=Ke(e)||0,Vt(s)&&(z=!!s.leading,D="maxWait"in s,m=D?y(Ke(s.maxWait)||0,e):m,Z="trailing"in s?!!s.trailing:Z);function J(te){var ln=u,kn=d;return u=d=i,B=te,w=t.apply(kn,ln),w}function at(te){return B=te,b=Er(wt,e),z?J(te):w}function _t(te){var ln=te-E,kn=te-B,nc=e-ln;return D?P(nc,m-kn):nc}function lt(te){var ln=te-E,kn=te-B;return E===i||ln>=e||ln<0||D&&kn>=m}function wt(){var te=Do();if(lt(te))return bt(te);b=Er(wt,_t(te))}function bt(te){return b=i,Z&&u?J(te):(u=d=i,w)}function He(){b!==i&&Gu(b),B=0,u=E=d=b=i}function we(){return b===i?w:bt(Do())}function Ve(){var te=Do(),ln=lt(te);if(u=arguments,d=this,E=te,ln){if(b===i)return at(E);if(D)return Gu(b),b=Er(wt,e),J(E)}return b===i&&(b=Er(wt,e)),w}return Ve.cancel=He,Ve.flush=we,Ve}var A_=vt(function(t,e){return Tu(t,1,e)}),T_=vt(function(t,e,s){return Tu(t,Ke(e)||0,s)});function E_(t){return Sn(t,ue)}function Fo(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new Le(p);var s=function(){var u=arguments,d=e?e.apply(this,u):u[0],m=s.cache;if(m.has(d))return m.get(d);var w=t.apply(this,u);return s.cache=m.set(d,w)||m,w};return s.cache=new(Fo.Cache||In),s}Fo.Cache=In;function Uo(t){if(typeof t!="function")throw new Le(p);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function I_(t){return Bh(2,t)}var C_=_d(function(t,e){e=e.length==1&&dt(e[0])?Zt(e[0],se(it())):Zt(de(e,1),se(it()));var s=e.length;return vt(function(u){for(var d=-1,m=P(u.length,s);++d<m;)u[d]=e[d].call(this,u[d]);return le(t,this,u)})}),Ea=vt(function(t,e){var s=An(e,Ui(Ea));return Sn(t,Dt,i,e,s)}),Dh=vt(function(t,e){var s=An(e,Ui(Dh));return Sn(t,Tt,i,e,s)}),S_=Mn(function(t,e){return Sn(t,ne,i,i,i,e)});function M_(t,e){if(typeof t!="function")throw new Le(p);return e=e===i?e:pt(e),vt(t,e)}function O_(t,e){if(typeof t!="function")throw new Le(p);return e=e==null?0:y(pt(e),0),vt(function(s){var u=s[e],d=Xn(s,0,e);return u&&xn(d,u),le(t,this,d)})}function B_(t,e,s){var u=!0,d=!0;if(typeof t!="function")throw new Le(p);return Vt(s)&&(u="leading"in s?!!s.leading:u,d="trailing"in s?!!s.trailing:d),Nh(t,e,{leading:u,maxWait:e,trailing:d})}function R_(t){return Oh(t,1)}function k_(t,e){return Ea(ca(e),t)}function z_(){if(!arguments.length)return[];var t=arguments[0];return dt(t)?t:[t]}function N_(t){return Ye(t,tt)}function D_(t,e){return e=typeof e=="function"?e:i,Ye(t,tt,e)}function F_(t){return Ye(t,O|tt)}function U_(t,e){return e=typeof e=="function"?e:i,Ye(t,O|tt,e)}function Z_(t,e){return e==null||Au(t,e,ce(e))}function an(t,e){return t===e||t!==t&&e!==e}var W_=Oo($s),j_=Oo(function(t,e){return t>=e}),_i=Mu(function(){return arguments}())?Mu:function(t){return Xt(t)&&Et.call(t,"callee")&&!cs.call(t,"callee")},dt=S.isArray,H_=Ds?se(Ds):Qf;function Re(t){return t!=null&&Zo(t.length)&&!Bn(t)}function $t(t){return Xt(t)&&Re(t)}function V_(t){return t===!0||t===!1||Xt(t)&&ye(t)==Qe}var Kn=r||Da,q_=ns?se(ns):$f;function G_(t){return Xt(t)&&t.nodeType===1&&!Ir(t)}function Y_(t){if(t==null)return!0;if(Re(t)&&(dt(t)||typeof t=="string"||typeof t.splice=="function"||Kn(t)||Zi(t)||_i(t)))return!t.length;var e=_e(t);if(e==N||e==et)return!t.size;if(Tr(t))return!na(t).length;for(var s in t)if(Et.call(t,s))return!1;return!0}function J_(t,e){return Lr(t,e)}function X_(t,e,s){s=typeof s=="function"?s:i;var u=s?s(t,e):i;return u===i?Lr(t,e,i,s):!!u}function Ia(t){if(!Xt(t))return!1;var e=ye(t);return e==$n||e==Mi||typeof t.message=="string"&&typeof t.name=="string"&&!Ir(t)}function K_(t){return typeof t=="number"&&a(t)}function Bn(t){if(!Vt(t))return!1;var e=ye(t);return e==Dn||e==R||e==Nn||e==gt}function Fh(t){return typeof t=="number"&&t==pt(t)}function Zo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ft}function Vt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Xt(t){return t!=null&&typeof t=="object"}var Uh=Fs?se(Fs):ed;function Q_(t,e){return t===e||ea(t,e,va(e))}function $_(t,e,s){return s=typeof s=="function"?s:i,ea(t,e,va(e),s)}function tg(t){return Zh(t)&&t!=+t}function eg(t){if(Dd(t))throw new ht(f);return Ou(t)}function ng(t){return t===null}function ig(t){return t==null}function Zh(t){return typeof t=="number"||Xt(t)&&ye(t)==H}function Ir(t){if(!Xt(t)||ye(t)!=Y)return!1;var e=Ti(t);if(e===null)return!0;var s=Et.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&mr.call(s)==yl}var Ca=Us?se(Us):nd;function rg(t){return Fh(t)&&t>=-ft&&t<=ft}var Wh=lo?se(lo):id;function Wo(t){return typeof t=="string"||!dt(t)&&Xt(t)&&ye(t)==Q}function je(t){return typeof t=="symbol"||Xt(t)&&ye(t)==mt}var Zi=Zs?se(Zs):rd;function og(t){return t===i}function sg(t){return Xt(t)&&_e(t)==Lt}function ag(t){return Xt(t)&&ye(t)==Wt}var lg=Oo(ia),ug=Oo(function(t,e){return t<=e});function jh(t){if(!t)return[];if(Re(t))return Wo(t)?Ze(t):Be(t);if(Ei&&t[Ei])return ss(t[Ei]());var e=_e(t),s=e==N?vo:e==et?Tn:Wi;return s(t)}function Rn(t){if(!t)return t===0?t:0;if(t=Ke(t),t===Jt||t===-Jt){var e=t<0?-1:1;return e*xi}return t===t?t:0}function pt(t){var e=Rn(t),s=e%1;return e===e?s?e-s:e:0}function Hh(t){return t?ci(pt(t),0,Ft):0}function Ke(t){if(typeof t=="number")return t;if(je(t))return kt;if(Vt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=js(t);var s=$l.test(t);return s||eu.test(t)?au(t.slice(2),s?2:8):sl.test(t)?kt:+t}function Vh(t){return mn(t,ke(t))}function hg(t){return t?ci(pt(t),-ft,ft):t===0?t:0}function Ot(t){return t==null?"":We(t)}var cg=Di(function(t,e){if(Tr(e)||Re(e)){mn(e,ce(e),t);return}for(var s in e)Et.call(e,s)&&xr(t,s,e[s])}),qh=Di(function(t,e){mn(e,ke(e),t)}),jo=Di(function(t,e,s,u){mn(e,ke(e),t,u)}),fg=Di(function(t,e,s,u){mn(e,ce(e),t,u)}),dg=Mn(Xs);function pg(t,e){var s=li(t);return e==null?s:Pu(s,e)}var _g=vt(function(t,e){t=zt(t);var s=-1,u=e.length,d=u>2?e[2]:i;for(d&&xe(e[0],e[1],d)&&(u=1);++s<u;)for(var m=e[s],w=ke(m),b=-1,E=w.length;++b<E;){var B=w[b],z=t[B];(z===i||an(z,si[B])&&!Et.call(t,B))&&(t[B]=m[B])}return t}),gg=vt(function(t){return t.push(i,uh),le(Gh,i,t)});function mg(t,e){return zr(t,it(e,3),gn)}function vg(t,e){return zr(t,it(e,3),Qs)}function yg(t,e){return t==null?t:Ks(t,it(e,3),ke)}function xg(t,e){return t==null?t:Cu(t,it(e,3),ke)}function wg(t,e){return t&&gn(t,it(e,3))}function bg(t,e){return t&&Qs(t,it(e,3))}function Lg(t){return t==null?[]:Po(t,ce(t))}function Pg(t){return t==null?[]:Po(t,ke(t))}function Sa(t,e,s){var u=t==null?i:fi(t,e);return u===i?s:u}function Ag(t,e){return t!=null&&fh(t,e,Yf)}function Ma(t,e){return t!=null&&fh(t,e,Jf)}var Tg=rh(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=Ki.call(e)),t[e]=s},Ba(ze)),Eg=rh(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=Ki.call(e)),Et.call(t,e)?t[e].push(s):t[e]=[s]},it),Ig=vt(br);function ce(t){return Re(t)?bu(t):na(t)}function ke(t){return Re(t)?bu(t,!0):od(t)}function Cg(t,e){var s={};return e=it(e,3),gn(t,function(u,d,m){Cn(s,e(u,d,m),u)}),s}function Sg(t,e){var s={};return e=it(e,3),gn(t,function(u,d,m){Cn(s,d,e(u,d,m))}),s}var Mg=Di(function(t,e,s){Ao(t,e,s)}),Gh=Di(function(t,e,s,u){Ao(t,e,s,u)}),Og=Mn(function(t,e){var s={};if(t==null)return s;var u=!1;e=Zt(e,function(m){return m=Jn(m,t),u||(u=m.length>1),m}),mn(t,ga(t),s),u&&(s=Ye(s,O|U|tt,Td));for(var d=e.length;d--;)la(s,e[d]);return s});function Bg(t,e){return Yh(t,Uo(it(e)))}var Rg=Mn(function(t,e){return t==null?{}:ad(t,e)});function Yh(t,e){if(t==null)return{};var s=Zt(ga(t),function(u){return[u]});return e=it(e),Fu(t,s,function(u,d){return e(u,d[0])})}function kg(t,e,s){e=Jn(e,t);var u=-1,d=e.length;for(d||(d=1,t=i);++u<d;){var m=t==null?i:t[vn(e[u])];m===i&&(u=d,m=s),t=Bn(m)?m.call(t):m}return t}function zg(t,e,s){return t==null?t:Pr(t,e,s)}function Ng(t,e,s,u){return u=typeof u=="function"?u:i,t==null?t:Pr(t,e,s,u)}var Jh=ah(ce),Xh=ah(ke);function Dg(t,e,s){var u=dt(t),d=u||Kn(t)||Zi(t);if(e=it(e,4),s==null){var m=t&&t.constructor;d?s=u?new m:[]:Vt(t)?s=Bn(m)?li(Ti(t)):{}:s={}}return(d?Ue:gn)(t,function(w,b,E){return e(s,w,b,E)}),s}function Fg(t,e){return t==null?!0:la(t,e)}function Ug(t,e,s){return t==null?t:Hu(t,e,ca(s))}function Zg(t,e,s,u){return u=typeof u=="function"?u:i,t==null?t:Hu(t,e,ca(s),u)}function Wi(t){return t==null?[]:Pi(t,ce(t))}function Wg(t){return t==null?[]:Pi(t,ke(t))}function jg(t,e,s){return s===i&&(s=e,e=i),s!==i&&(s=Ke(s),s=s===s?s:0),e!==i&&(e=Ke(e),e=e===e?e:0),ci(Ke(t),e,s)}function Hg(t,e,s){return e=Rn(e),s===i?(s=e,e=0):s=Rn(s),t=Ke(t),Xf(t,e,s)}function Vg(t,e,s){if(s&&typeof s!="boolean"&&xe(t,e,s)&&(e=s=i),s===i&&(typeof e=="boolean"?(s=e,e=i):typeof t=="boolean"&&(s=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Rn(t),e===i?(e=t,t=0):e=Rn(e)),t>e){var u=t;t=e,e=u}if(s||t%1||e%1){var d=W();return P(t+d*(e-t+Ns("1e-"+((d+"").length-1))),e)}return oa(t,e)}var qg=Fi(function(t,e,s){return e=e.toLowerCase(),t+(s?Kh(e):e)});function Kh(t){return Oa(Ot(t).toLowerCase())}function Qh(t){return t=Ot(t),t&&t.replace(al,cu).replace(cl,"")}function Gg(t,e,s){t=Ot(t),e=We(e);var u=t.length;s=s===i?u:ci(pt(s),0,u);var d=s;return s-=e.length,s>=0&&t.slice(s,d)==e}function Yg(t){return t=Ot(t),t&&Gl.test(t)?t.replace(Xo,mo):t}function Jg(t){return t=Ot(t),t&&Ql.test(t)?t.replace(Kr,"\\$&"):t}var Xg=Fi(function(t,e,s){return t+(s?"-":"")+e.toLowerCase()}),Kg=Fi(function(t,e,s){return t+(s?" ":"")+e.toLowerCase()}),Qg=eh("toLowerCase");function $g(t,e,s){t=Ot(t),e=pt(e);var u=e?on(t):0;if(!e||u>=e)return t;var d=(e-u)/2;return Mo(nr(d),s)+t+Mo(er(d),s)}function tm(t,e,s){t=Ot(t),e=pt(e);var u=e?on(t):0;return e&&u<e?t+Mo(e-u,s):t}function em(t,e,s){t=Ot(t),e=pt(e);var u=e?on(t):0;return e&&u<e?Mo(e-u,s)+t:t}function nm(t,e,s){return s||e==null?e=0:e&&(e=+e),F(Ot(t).replace(Qr,""),e||0)}function im(t,e,s){return(s?xe(t,e,s):e===i)?e=1:e=pt(e),sa(Ot(t),e)}function rm(){var t=arguments,e=Ot(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var om=Fi(function(t,e,s){return t+(s?"_":"")+e.toLowerCase()});function sm(t,e,s){return s&&typeof s!="number"&&xe(t,e,s)&&(e=s=i),s=s===i?Ft:s>>>0,s?(t=Ot(t),t&&(typeof e=="string"||e!=null&&!Ca(e))&&(e=We(e),!e&&oi(t))?Xn(Ze(t),0,s):t.split(e,s)):[]}var am=Fi(function(t,e,s){return t+(s?" ":"")+Oa(e)});function lm(t,e,s){return t=Ot(t),s=s==null?0:ci(pt(s),0,t.length),e=We(e),t.slice(s,s+e.length)==e}function um(t,e,s){var u=g.templateSettings;s&&xe(t,e,s)&&(e=i),t=Ot(t),e=jo({},e,u,lh);var d=jo({},e.imports,u.imports,lh),m=ce(d),w=Pi(d,m),b,E,B=0,z=e.interpolate||lr,D="__p += '",Z=xo((e.escape||lr).source+"|"+z.source+"|"+(z===As?ol:lr).source+"|"+(e.evaluate||lr).source+"|$","g"),J="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++so+"]")+`
`;t.replace(Z,function(lt,wt,bt,He,we,Ve){return bt||(bt=He),D+=t.slice(B,Ve).replace(Ko,vl),wt&&(b=!0,D+=`' +
__e(`+wt+`) +
'`),we&&(E=!0,D+=`';
`+we+`;
__p += '`),bt&&(D+=`' +
((__t = (`+bt+`)) == null ? '' : __t) +
'`),B=Ve+lt.length,lt}),D+=`';
`;var at=Et.call(e,"variable")&&e.variable;if(!at)D=`with (obj) {
`+D+`
}
`;else if(rl.test(at))throw new ht(x);D=(E?D.replace(Yo,""):D).replace(Vl,"$1").replace(tl,"$1;"),D="function("+(at||"obj")+`) {
`+(at?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+D+`return __p
}`;var _t=tc(function(){return At(m,J+"return "+D).apply(i,w)});if(_t.source=D,Ia(_t))throw _t;return _t}function hm(t){return Ot(t).toLowerCase()}function cm(t){return Ot(t).toUpperCase()}function fm(t,e,s){if(t=Ot(t),t&&(s||e===i))return js(t);if(!t||!(e=We(e)))return t;var u=Ze(t),d=Ze(e),m=ri(u,d),w=Hs(u,d)+1;return Xn(u,m,w).join("")}function dm(t,e,s){if(t=Ot(t),t&&(s||e===i))return t.slice(0,as(t)+1);if(!t||!(e=We(e)))return t;var u=Ze(t),d=Hs(u,Ze(e))+1;return Xn(u,0,d).join("")}function pm(t,e,s){if(t=Ot(t),t&&(s||e===i))return t.replace(Qr,"");if(!t||!(e=We(e)))return t;var u=Ze(t),d=ri(u,Ze(e));return Xn(u,d).join("")}function _m(t,e){var s=Te,u=Fe;if(Vt(e)){var d="separator"in e?e.separator:d;s="length"in e?pt(e.length):s,u="omission"in e?We(e.omission):u}t=Ot(t);var m=t.length;if(oi(t)){var w=Ze(t);m=w.length}if(s>=m)return t;var b=s-on(u);if(b<1)return u;var E=w?Xn(w,0,b).join(""):t.slice(0,b);if(d===i)return E+u;if(w&&(b+=E.length-b),Ca(d)){if(t.slice(b).search(d)){var B,z=E;for(d.global||(d=xo(d.source,Ot(Hi.exec(d))+"g")),d.lastIndex=0;B=d.exec(z);)var D=B.index;E=E.slice(0,D===i?b:D)}}else if(t.indexOf(We(d),b)!=b){var Z=E.lastIndexOf(d);Z>-1&&(E=E.slice(0,Z))}return E+u}function gm(t){return t=Ot(t),t&&ql.test(t)?t.replace(Jo,Vs):t}var mm=Fi(function(t,e,s){return t+(s?" ":"")+e.toUpperCase()}),Oa=eh("toUpperCase");function $h(t,e,s){return t=Ot(t),e=s?i:e,e===i?Yi(t)?us(t):gl(t):t.match(e)||[]}var tc=vt(function(t,e){try{return le(t,i,e)}catch(s){return Ia(s)?s:new ht(s)}}),vm=Mn(function(t,e){return Ue(e,function(s){s=vn(s),Cn(t,s,Ta(t[s],t))}),t});function ym(t){var e=t==null?0:t.length,s=it();return t=e?Zt(t,function(u){if(typeof u[1]!="function")throw new Le(p);return[s(u[0]),u[1]]}):[],vt(function(u){for(var d=-1;++d<e;){var m=t[d];if(le(m[0],this,u))return le(m[1],this,u)}})}function xm(t){return Vf(Ye(t,O))}function Ba(t){return function(){return t}}function wm(t,e){return t==null||t!==t?e:t}var bm=ih(),Lm=ih(!0);function ze(t){return t}function Ra(t){return Bu(typeof t=="function"?t:Ye(t,O))}function Pm(t){return ku(Ye(t,O))}function Am(t,e){return zu(t,Ye(e,O))}var Tm=vt(function(t,e){return function(s){return br(s,t,e)}}),Em=vt(function(t,e){return function(s){return br(t,s,e)}});function ka(t,e,s){var u=ce(e),d=Po(e,u);s==null&&!(Vt(e)&&(d.length||!u.length))&&(s=e,e=t,t=this,d=Po(e,ce(e)));var m=!(Vt(s)&&"chain"in s)||!!s.chain,w=Bn(t);return Ue(d,function(b){var E=e[b];t[b]=E,w&&(t.prototype[b]=function(){var B=this.__chain__;if(m||B){var z=t(this.__wrapped__),D=z.__actions__=Be(this.__actions__);return D.push({func:E,args:arguments,thisArg:t}),z.__chain__=B,z}return E.apply(t,xn([this.value()],arguments))})}),t}function Im(){return he._===this&&(he._=_u),this}function za(){}function Cm(t){return t=pt(t),vt(function(e){return Nu(e,t)})}var Sm=da(Zt),Mm=da(is),Om=da(_r);function ec(t){return xa(t)?Nr(vn(t)):ld(t)}function Bm(t){return function(e){return t==null?i:fi(t,e)}}var Rm=oh(),km=oh(!0);function Na(){return[]}function Da(){return!1}function zm(){return{}}function Nm(){return""}function Dm(){return!0}function Fm(t,e){if(t=pt(t),t<1||t>ft)return[];var s=Ft,u=P(t,Ft);e=it(e),t-=Ft;for(var d=go(u,e);++s<t;)e(s);return d}function Um(t){return dt(t)?Zt(t,vn):je(t)?[t]:Be(wh(Ot(t)))}function Zm(t){var e=++pu;return Ot(t)+e}var Wm=So(function(t,e){return t+e},0),jm=pa("ceil"),Hm=So(function(t,e){return t/e},1),Vm=pa("floor");function qm(t){return t&&t.length?Lo(t,ze,$s):i}function Gm(t,e){return t&&t.length?Lo(t,it(e,2),$s):i}function Ym(t){return rs(t,ze)}function Jm(t,e){return rs(t,it(e,2))}function Xm(t){return t&&t.length?Lo(t,ze,ia):i}function Km(t,e){return t&&t.length?Lo(t,it(e,2),ia):i}var Qm=So(function(t,e){return t*e},1),$m=pa("round"),tv=So(function(t,e){return t-e},0);function ev(t){return t&&t.length?_o(t,ze):0}function nv(t,e){return t&&t.length?_o(t,it(e,2)):0}return g.after=P_,g.ary=Oh,g.assign=cg,g.assignIn=qh,g.assignInWith=jo,g.assignWith=fg,g.at=dg,g.before=Bh,g.bind=Ta,g.bindAll=vm,g.bindKey=Rh,g.castArray=z_,g.chain=Ch,g.chunk=Vd,g.compact=qd,g.concat=Gd,g.cond=ym,g.conforms=xm,g.constant=Ba,g.countBy=e_,g.create=pg,g.curry=kh,g.curryRight=zh,g.debounce=Nh,g.defaults=_g,g.defaultsDeep=gg,g.defer=A_,g.delay=T_,g.difference=Yd,g.differenceBy=Jd,g.differenceWith=Xd,g.drop=Kd,g.dropRight=Qd,g.dropRightWhile=$d,g.dropWhile=tp,g.fill=ep,g.filter=i_,g.flatMap=s_,g.flatMapDeep=a_,g.flatMapDepth=l_,g.flatten=Ah,g.flattenDeep=np,g.flattenDepth=ip,g.flip=E_,g.flow=bm,g.flowRight=Lm,g.fromPairs=rp,g.functions=Lg,g.functionsIn=Pg,g.groupBy=u_,g.initial=sp,g.intersection=ap,g.intersectionBy=lp,g.intersectionWith=up,g.invert=Tg,g.invertBy=Eg,g.invokeMap=c_,g.iteratee=Ra,g.keyBy=f_,g.keys=ce,g.keysIn=ke,g.map=No,g.mapKeys=Cg,g.mapValues=Sg,g.matches=Pm,g.matchesProperty=Am,g.memoize=Fo,g.merge=Mg,g.mergeWith=Gh,g.method=Tm,g.methodOf=Em,g.mixin=ka,g.negate=Uo,g.nthArg=Cm,g.omit=Og,g.omitBy=Bg,g.once=I_,g.orderBy=d_,g.over=Sm,g.overArgs=C_,g.overEvery=Mm,g.overSome=Om,g.partial=Ea,g.partialRight=Dh,g.partition=p_,g.pick=Rg,g.pickBy=Yh,g.property=ec,g.propertyOf=Bm,g.pull=dp,g.pullAll=Eh,g.pullAllBy=pp,g.pullAllWith=_p,g.pullAt=gp,g.range=Rm,g.rangeRight=km,g.rearg=S_,g.reject=m_,g.remove=mp,g.rest=M_,g.reverse=Pa,g.sampleSize=y_,g.set=zg,g.setWith=Ng,g.shuffle=x_,g.slice=vp,g.sortBy=L_,g.sortedUniq=Ap,g.sortedUniqBy=Tp,g.split=sm,g.spread=O_,g.tail=Ep,g.take=Ip,g.takeRight=Cp,g.takeRightWhile=Sp,g.takeWhile=Mp,g.tap=qp,g.throttle=B_,g.thru=zo,g.toArray=jh,g.toPairs=Jh,g.toPairsIn=Xh,g.toPath=Um,g.toPlainObject=Vh,g.transform=Dg,g.unary=R_,g.union=Op,g.unionBy=Bp,g.unionWith=Rp,g.uniq=kp,g.uniqBy=zp,g.uniqWith=Np,g.unset=Fg,g.unzip=Aa,g.unzipWith=Ih,g.update=Ug,g.updateWith=Zg,g.values=Wi,g.valuesIn=Wg,g.without=Dp,g.words=$h,g.wrap=k_,g.xor=Fp,g.xorBy=Up,g.xorWith=Zp,g.zip=Wp,g.zipObject=jp,g.zipObjectDeep=Hp,g.zipWith=Vp,g.entries=Jh,g.entriesIn=Xh,g.extend=qh,g.extendWith=jo,ka(g,g),g.add=Wm,g.attempt=tc,g.camelCase=qg,g.capitalize=Kh,g.ceil=jm,g.clamp=jg,g.clone=N_,g.cloneDeep=F_,g.cloneDeepWith=U_,g.cloneWith=D_,g.conformsTo=Z_,g.deburr=Qh,g.defaultTo=wm,g.divide=Hm,g.endsWith=Gg,g.eq=an,g.escape=Yg,g.escapeRegExp=Jg,g.every=n_,g.find=r_,g.findIndex=Lh,g.findKey=mg,g.findLast=o_,g.findLastIndex=Ph,g.findLastKey=vg,g.floor=Vm,g.forEach=Sh,g.forEachRight=Mh,g.forIn=yg,g.forInRight=xg,g.forOwn=wg,g.forOwnRight=bg,g.get=Sa,g.gt=W_,g.gte=j_,g.has=Ag,g.hasIn=Ma,g.head=Th,g.identity=ze,g.includes=h_,g.indexOf=op,g.inRange=Hg,g.invoke=Ig,g.isArguments=_i,g.isArray=dt,g.isArrayBuffer=H_,g.isArrayLike=Re,g.isArrayLikeObject=$t,g.isBoolean=V_,g.isBuffer=Kn,g.isDate=q_,g.isElement=G_,g.isEmpty=Y_,g.isEqual=J_,g.isEqualWith=X_,g.isError=Ia,g.isFinite=K_,g.isFunction=Bn,g.isInteger=Fh,g.isLength=Zo,g.isMap=Uh,g.isMatch=Q_,g.isMatchWith=$_,g.isNaN=tg,g.isNative=eg,g.isNil=ig,g.isNull=ng,g.isNumber=Zh,g.isObject=Vt,g.isObjectLike=Xt,g.isPlainObject=Ir,g.isRegExp=Ca,g.isSafeInteger=rg,g.isSet=Wh,g.isString=Wo,g.isSymbol=je,g.isTypedArray=Zi,g.isUndefined=og,g.isWeakMap=sg,g.isWeakSet=ag,g.join=hp,g.kebabCase=Xg,g.last=Xe,g.lastIndexOf=cp,g.lowerCase=Kg,g.lowerFirst=Qg,g.lt=lg,g.lte=ug,g.max=qm,g.maxBy=Gm,g.mean=Ym,g.meanBy=Jm,g.min=Xm,g.minBy=Km,g.stubArray=Na,g.stubFalse=Da,g.stubObject=zm,g.stubString=Nm,g.stubTrue=Dm,g.multiply=Qm,g.nth=fp,g.noConflict=Im,g.noop=za,g.now=Do,g.pad=$g,g.padEnd=tm,g.padStart=em,g.parseInt=nm,g.random=Vg,g.reduce=__,g.reduceRight=g_,g.repeat=im,g.replace=rm,g.result=kg,g.round=$m,g.runInContext=T,g.sample=v_,g.size=w_,g.snakeCase=om,g.some=b_,g.sortedIndex=yp,g.sortedIndexBy=xp,g.sortedIndexOf=wp,g.sortedLastIndex=bp,g.sortedLastIndexBy=Lp,g.sortedLastIndexOf=Pp,g.startCase=am,g.startsWith=lm,g.subtract=tv,g.sum=ev,g.sumBy=nv,g.template=um,g.times=Fm,g.toFinite=Rn,g.toInteger=pt,g.toLength=Hh,g.toLower=hm,g.toNumber=Ke,g.toSafeInteger=hg,g.toString=Ot,g.toUpper=cm,g.trim=fm,g.trimEnd=dm,g.trimStart=pm,g.truncate=_m,g.unescape=gm,g.uniqueId=Zm,g.upperCase=mm,g.upperFirst=Oa,g.each=Sh,g.eachRight=Mh,g.first=Th,ka(g,function(){var t={};return gn(g,function(e,s){Et.call(g.prototype,s)||(t[s]=e)}),t}(),{chain:!1}),g.VERSION=l,Ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){g[t].placeholder=g}),Ue(["drop","take"],function(t,e){xt.prototype[t]=function(s){s=s===i?1:y(pt(s),0);var u=this.__filtered__&&!e?new xt(this):this.clone();return u.__filtered__?u.__takeCount__=P(s,u.__takeCount__):u.__views__.push({size:P(s,Ft),type:t+(u.__dir__<0?"Right":"")}),u},xt.prototype[t+"Right"]=function(s){return this.reverse()[t](s).reverse()}}),Ue(["filter","map","takeWhile"],function(t,e){var s=e+1,u=s==dn||s==pe;xt.prototype[t]=function(d){var m=this.clone();return m.__iteratees__.push({iteratee:it(d,3),type:s}),m.__filtered__=m.__filtered__||u,m}}),Ue(["head","last"],function(t,e){var s="take"+(e?"Right":"");xt.prototype[t]=function(){return this[s](1).value()[0]}}),Ue(["initial","tail"],function(t,e){var s="drop"+(e?"":"Right");xt.prototype[t]=function(){return this.__filtered__?new xt(this):this[s](1)}}),xt.prototype.compact=function(){return this.filter(ze)},xt.prototype.find=function(t){return this.filter(t).head()},xt.prototype.findLast=function(t){return this.reverse().find(t)},xt.prototype.invokeMap=vt(function(t,e){return typeof t=="function"?new xt(this):this.map(function(s){return br(s,t,e)})}),xt.prototype.reject=function(t){return this.filter(Uo(it(t)))},xt.prototype.slice=function(t,e){t=pt(t);var s=this;return s.__filtered__&&(t>0||e<0)?new xt(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),e!==i&&(e=pt(e),s=e<0?s.dropRight(-e):s.take(e-t)),s)},xt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},xt.prototype.toArray=function(){return this.take(Ft)},gn(xt.prototype,function(t,e){var s=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),d=g[u?"take"+(e=="last"?"Right":""):e],m=u||/^find/.test(e);d&&(g.prototype[e]=function(){var w=this.__wrapped__,b=u?[1]:arguments,E=w instanceof xt,B=b[0],z=E||dt(w),D=function(wt){var bt=d.apply(g,xn([wt],b));return u&&Z?bt[0]:bt};z&&s&&typeof B=="function"&&B.length!=1&&(E=z=!1);var Z=this.__chain__,J=!!this.__actions__.length,at=m&&!Z,_t=E&&!J;if(!m&&z){w=_t?w:new xt(this);var lt=t.apply(w,b);return lt.__actions__.push({func:zo,args:[D],thisArg:i}),new Oe(lt,Z)}return at&&_t?t.apply(this,b):(lt=this.thru(D),at?u?lt.value()[0]:lt.value():lt)})}),Ue(["pop","push","shift","sort","splice","unshift"],function(t){var e=gr[t],s=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",u=/^(?:pop|shift)$/.test(t);g.prototype[t]=function(){var d=arguments;if(u&&!this.__chain__){var m=this.value();return e.apply(dt(m)?m:[],d)}return this[s](function(w){return e.apply(dt(w)?w:[],d)})}}),gn(xt.prototype,function(t,e){var s=g[e];if(s){var u=s.name+"";Et.call(bn,u)||(bn[u]=[]),bn[u].push({name:e,func:s})}}),bn[Co(i,nt).name]=[{name:"wrapper",func:i}],xt.prototype.clone=wu,xt.prototype.reverse=mf,xt.prototype.value=vf,g.prototype.at=Gp,g.prototype.chain=Yp,g.prototype.commit=Jp,g.prototype.next=Xp,g.prototype.plant=Qp,g.prototype.reverse=$p,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=t_,g.prototype.first=g.prototype.head,Ei&&(g.prototype[Ei]=Kp),g},Zn=Ur();_n?((_n.exports=Zn)._=Zn,Pn._=Zn):he._=Zn}).call(sc)})(tf,tf.exports);var hP=tf.exports;const Al=uP(hP),cP=[{mmsi:413763e3,sog:5.9,cog:313,rot:-4.9,hdg:312.1,offset:0,location:{type:"Point",coordinates:[119.51335,32.259087]},ts:"2024-09-26 18:12:35.179"},{mmsi:413763e3,sog:5.2,cog:288.3,rot:0,hdg:287.2,offset:0,location:{type:"Point",coordinates:[119.49148,32.269672]},ts:"2024-09-26 19:07:01.821"},{mmsi:413763e3,location:{type:"Point",coordinates:[119.469215,32.272507]},ts:"2024-09-26 19:57:25.440"},{mmsi:413763e3,sog:6,cog:250.4,rot:-3.1,hdg:250.4,offset:0,location:{type:"Point",coordinates:[119.4504,32.27004]},ts:"2024-09-26 20:41:25.828"},{mmsi:413763e3,sog:5.6,cog:244.3,rot:0,hdg:241.4,offset:0,location:{type:"Point",coordinates:[119.42878,32.264076]},ts:"2024-09-26 21:31:55.034"},{mmsi:413763e3,sog:6.9,cog:228.5,rot:1.3,hdg:227.2,offset:0,location:{type:"Point",coordinates:[119.41259,32.255077]},ts:"2024-09-26 22:13:49.721"},{mmsi:413763e3,sog:6.3,cog:221.3,rot:3.7,hdg:220.5,offset:0,location:{type:"Point",coordinates:[119.39512,32.240025]},ts:"2024-09-26 22:59:54.244"},{mmsi:413763e3,sog:5.9,cog:215.1,rot:-2.9,hdg:218.7,offset:0,location:{type:"Point",coordinates:[119.382286,32.225407]},ts:"2024-09-26 23:45:47.551"},{mmsi:413763e3,sog:6.4,cog:220.2,rot:-3.1,hdg:220,offset:0,location:{type:"Point",coordinates:[119.37002,32.212852]},ts:"2024-09-27 00:29:26.846"},{mmsi:413763e3,sog:6.3,cog:243,rot:7.4,hdg:242.2,offset:0,location:{type:"Point",coordinates:[119.3558,32.201157]},ts:"2024-09-27 01:19:35.844"},{mmsi:413763e3,sog:5.3,cog:261.4,rot:-.4,hdg:259.3,offset:0,location:{type:"Point",coordinates:[119.336975,32.195255]},ts:"2024-09-27 02:03:44.872"},{mmsi:413763e3,sog:4.7,cog:270.4,rot:3.3,hdg:269.4,offset:0,location:{type:"Point",coordinates:[119.31436,32.19238]},ts:"2024-09-27 03:02:02.866"},{mmsi:413763e3,sog:4.8,cog:275.1,rot:1.6,hdg:274.2,offset:0,location:{type:"Point",coordinates:[119.29429,32.192135]},ts:"2024-09-27 03:54:52.408"},{mmsi:413763e3,sog:4.7,cog:294.5,rot:-2.4,hdg:295.5,offset:0,location:{type:"Point",coordinates:[119.27687,32.195175]},ts:"2024-09-27 04:40:37.765"},{mmsi:413763e3,sog:4.6,cog:301.5,rot:-2.1,hdg:302.8,offset:0,location:{type:"Point",coordinates:[119.261024,32.204063]},ts:"2024-09-27 05:29:16.420"},{mmsi:413763e3,sog:6.6,cog:303.5,rot:0,hdg:304.8,offset:0,location:{type:"Point",coordinates:[119.24467,32.21311]},ts:"2024-09-27 06:13:09.669"},{mmsi:413763e3,sog:6.7,cog:297.2,rot:-10.5,hdg:294.8,offset:0,location:{type:"Point",coordinates:[119.22199,32.227524]},ts:"2024-09-27 07:03:27.747"},{mmsi:413763e3,sog:6.3,cog:291.6,rot:-.5,hdg:290.5,offset:0,location:{type:"Point",coordinates:[119.196754,32.237457]},ts:"2024-09-27 07:55:48.891"},{mmsi:413763e3,sog:6.2,cog:285.7,rot:-2.2,hdg:284.7,offset:0,location:{type:"Point",coordinates:[119.17079,32.245014]},ts:"2024-09-27 08:48:01.487"},{mmsi:413763e3,sog:6.1,cog:271.8,rot:-3.1,hdg:270.6,offset:0,location:{type:"Point",coordinates:[119.14182,32.24903]},ts:"2024-09-27 09:46:28.715"},{mmsi:413763e3,sog:4.9,cog:268,rot:-6.1,hdg:265.8,offset:0,location:{type:"Point",coordinates:[119.11974,32.249023]},ts:"2024-09-27 10:32:05.211"},{mmsi:413763e3,sog:3.7,cog:262.1,rot:-1,hdg:258.8,offset:0,location:{type:"Point",coordinates:[119.10129,32.247955]},ts:"2024-09-27 11:16:03.240"},{mmsi:413763e3,sog:5.3,cog:249.4,rot:-8.8,hdg:248,offset:0,location:{type:"Point",coordinates:[119.0867,32.245296]},ts:"2024-09-27 12:03:54.060"},{mmsi:413763e3,sog:6.2,cog:218.4,rot:.7,hdg:217.1,offset:0,location:{type:"Point",coordinates:[119.07032,32.233536]},ts:"2024-09-27 12:47:52.507"},{mmsi:413763e3,sog:6.8,cog:181.5,rot:-18,hdg:188.3,offset:0,location:{type:"Point",coordinates:[119.06107,32.217777]},ts:"2024-09-27 13:31:52.595"},{mmsi:413763e3,sog:1.6,cog:213.7,rot:-.3,hdg:214.8,offset:0,location:{type:"Point",coordinates:[119.05708,32.207657]},ts:"2024-09-27 14:23:35.050"}],fP=(o,n)=>{const i=o.__vccOpts||o;for(const[l,h]of n)i[l]=h;return i},Dx=o=>(B1("data-v-f04f573b"),o=o(),R1(),o),dP={id:"map"},pP={class:"btns"},_P={key:0,class:"list"},gP=Dx(()=>De("p",null,"",-1)),mP={class:"dot"},vP=["title"],yP=["onClick"],xP=["onClick"],wP={key:1,class:"list"},bP=Dx(()=>De("p",null,"",-1)),LP={class:"dot"},PP=["title"],AP=["onClick"],TP=["onClick"],EP={key:2,class:"list"},IP={class:"dot"},CP=["title"],SP=["onClick"],MP={__name:"App",setup(o){const n=Al.sortBy(Al.map(cP,G=>({ts:G.ts,lat:G.location.coordinates[1],lng:G.location.coordinates[0]})),"ts"),i=[{label:"20",color:"#43D9B7",radius:1852*20},{label:"10",color:"#FEBB45",radius:1852*10},{label:"5",color:"#DD2A2A",radius:1852*5}],l=[{guid:"chenhui",position:{lng:121.880877501061,lat:31.84957600087311},name:""},{guid:"qy1",position:{lng:121.64052,lat:31.94506},name:""},{guid:"BBMS245",position:{lng:121.80797186553963,lat:31.66817494666304},name:"BBMS245"},{guid:"JG_02_qy3",position:{lng:121.74473115763718,lat:31.6688305788027},name:"_023"},{guid:"JG_02_1_qy1",position:{lng:121.75048031290103,lat:31.696363013004408},name:"_02_11"},{guid:"JG_02_1_qy2",position:{lng:121.85281527659772,lat:31.662929698800973},name:"_02_12"},{guid:"JG_qy3",position:{lng:121.75048031290103,lat:31.696363013004408},name:"3"}],h=sf({polygons:[],polylines:[],routeAreas:[]});let f=null,p=null;Zy(()=>{const G=new iP("map");G.groundOverlay([[31.721139190517842,121.67430248603551],[31.732439796482474,121.69906802998445]],{type:"image",url:lP,opacity:1}),Al.each(i,q=>{G.drawCircle([31.28,121.75],{radius:q.radius,color:q.color,weight:2,dashArray:"5,5",fillColor:"rgba(0,0,0,.5)",fillOpacity:.3})}),G.drawShips([{mmsi:"1120154506",label:"506",lng:121.705,lat:31.3,course:45,updatetime:"2024-5-31",width:60,length:110},{mmsi:"1120154511",label:"511",lng:121.822848,lat:31.254086,updatetime:"2024-5-31",speed:5},{mmsi:"1120157485",label:"12",lng:121.792848,lat:31.284086,course:71,updatetime:"2024-6-5"},{mmsi:"11201574822",label:"",lng:122,lat:31.35,course:264,updatetime:"2024-5-31",width:20,length:60}]).setSelectedItem("1120157485"),p=G.drawTrajectory(n,{color:"red",smoothFactor:4}),G.drawPointMarkers([{lat:31.374086,lng:121.732848,text:"2024-7-19 15:32:41",icon:pb},{lat:31.36,lng:121.805,text:"2024-7-20 15:32:41",icon:_b}]),G.drawHtmlOverlay([31.28,121.75],`<div class="layer"><div class="name">536</div><img width="36" height="36" src="${oP}" class="bg" /><div class="triangle"></div></div>`),G.drawHtmlOverlay([31.28,121.75],`<img src=${sP} style="transform: rotate(45deg);width: 5px;height: 16px;"></img>`),G.drawMarker({lat:31.3,lng:121.75}),G.createMarkerClusterer(q=>`<div
          class="marker"
          style='
            transform: translateX(${q.reverse?"calc(-50% + 14px)":"calc(50% - 14px)"});
            flex-direction: ${q.reverse?"row-reverse":"row"}
          '
        >
          <img width='24px' src="${aP}" />
          <div class="label" style='flexDirection: ${q.reverse?"row-reverse":"row"}'>
            <div>${q.key}</div>
          </div>
        </div>`,16,q=>{}).markerClustererSetData(l),f=G}),e0(()=>{f.destory()});const x=()=>{f.playAnimatedMarker({points:p.getSimplifyLatLngs(),totalDuration:1e4},{iconSize:[38,26],iconAnchor:[19,13],iconUrl:rP},null,()=>{})},A=b1(null),C=()=>{A.value=!A.value,f.pauseAnimatedMarker(A.value)},I=G=>{G.stopPropagation(),f.startDrawPolyline(({id:q,latLngs:K,show:nt,toggle:ct,remove:X})=>{const Ct=Al.findIndex(h.polylines,{id:q});Ct>=0?K?h.polylines[Ct]={id:q,latLngs:K,show:nt,toggle:ct,remove:X}:h.polylines.splice(Ct,1):h.polylines.push({id:q,latLngs:K,show:nt,toggle:ct,remove:X})})},O=G=>{G.stopPropagation(),f.startDrawPolygon(({id:q,latLngs:K,show:nt,toggle:ct,remove:X})=>{const Ct=Al.findIndex(h.polygons,{id:q});Ct>=0?K?h.polygons[Ct]={id:q,latLngs:K,show:nt,toggle:ct,remove:X}:h.polygons.splice(Ct,1):h.polygons.push({id:q,latLngs:K,show:nt,toggle:ct,remove:X})})},U=G=>{G.stopPropagation(),f.startDrawMeasure()},tt=G=>{G.stopPropagation(),f.startDrawAreaByLine(({id:q,latLngs:K,remove:nt,angle:ct,index:X,groupId:Ct})=>{const Dt=`${Ct}_${ct>=0?"":""}_${X}`,Tt=Al.findIndex(h.routeAreas,{id:q});Tt>=0?K?h.routeAreas[Tt]={id:q,latLngs:K,remove:nt,name:Dt}:h.routeAreas.splice(Tt,1):h.routeAreas.push({id:q,latLngs:K,remove:nt,name:Dt})})};return(G,q)=>(Sr(),Wr("div",dP,[De("div",pP,[De("p",null,[lc("  "),De("button",{onClick:x},""),De("button",{onClick:C},Cr(A.value?"":""),1)]),De("p",null,[lc(""),De("button",{onClick:U},"")]),De("p",null,[lc("  "),De("button",{onClick:I},""),De("button",{onClick:O},"")]),h.polylines.length?(Sr(),Wr("div",_P,[gP,(Sr(!0),Wr(or,null,sv(h.polylines,(K,nt)=>(Sr(),Wr("div",null,[De("span",mP,[De("i",null,Cr(nt+1),1)]),De("span",{class:"txt",title:K.latLngs.toString()},""+Cr(K.id),9,vP),De("span",{class:"dot",onClick:K.toggle},Cr(K.show?"":""),9,yP),De("span",{class:"dot",onClick:K.remove},"",8,xP)]))),256))])):fv("",!0),h.polygons.length?(Sr(),Wr("div",wP,[bP,(Sr(!0),Wr(or,null,sv(h.polygons,(K,nt)=>(Sr(),Wr("div",null,[De("span",LP,[De("i",null,Cr(nt+1),1)]),De("span",{class:"txt",title:K.latLngs.toString()},""+Cr(K.id),9,PP),De("span",{class:"dot",onClick:K.toggle},Cr(K.show?"":""),9,AP),De("span",{class:"dot",onClick:K.remove},"",8,TP)]))),256))])):fv("",!0),De("p",null,[lc(" "),De("button",{onClick:tt},"")]),h.routeAreas.length?(Sr(),Wr("div",EP,[(Sr(!0),Wr(or,null,sv(h.routeAreas,(K,nt)=>(Sr(),Wr("div",null,[De("span",IP,[De("i",null,Cr(nt+1),1)]),De("span",{class:"txt",title:K.latLngs.toString()},""+Cr(K.id)+" :"+Cr(K.name),9,CP),De("span",{class:"dot",onClick:ct=>K.remove()},"",8,SP)]))),256))])):fv("",!0)])]))}},OP=fP(MP,[["__scopeId","data-v-f04f573b"]]);cb(OP).mount("#app");
